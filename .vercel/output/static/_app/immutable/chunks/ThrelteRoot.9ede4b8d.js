import{a3 as zs,K as ja,Z as Ir,U as Hs,J as Tt,I as Zt,H as pn,C as qs,t as Pi,s as We,f as Oi,g as Ni,h as $i,d as pe,j as ji,i as me,a4 as Ks,o as Fr,r as yt,u as Qt,v as wt,w as xt,p as Kt,A as nt,L as vt,M as Wn,z as ye,a5 as Ys,y as St,a as Be,c as ve,e as _t,a6 as za,l as Js,m as Ws,a7 as dn,S as Ha,W as Vs,E as Xs}from"./scheduler.bea104e2.js";import{g as mt,t as O,c as bt,a as P,S as Ve,i as Xe,b as V,d as X,m as Z,e as ee,f as qa}from"./index.520d9713.js";import{w as ft,d as Ka,r as Zs}from"./index.b6975e4a.js";import{n as yo,l as eA,i as Qo,P as zi,C as Hi,S as tA,a as qi,W as Ki,b as nA,s as rA,L as wo,T as aA,A as oA,c as Ya,F as en,d as It,e as iA,B as Tr,f as zn,g as Se,h as sA,j as wa,k as Yi,m as xa,o as AA,p as cA,D as lA,M as Vt,q as Mt,V as ze,r as mn,t as Pe,I as fA,O as Ja,u as Ji,v as uA,w as gA,x as bn,y as Wa,R as Sa,z as Wi,E as yr,G as dA,H as Vn,J as Va,K as hA,N as pA,Q as Qr,U as mA,X as bA,Y as IA,Z as EA,_ as Hn,$ as Rr,a0 as CA,a1 as BA,a2 as Vi,a3 as vA,a4 as _A,a5 as Dr,a6 as yA,a7 as QA,a8 as wA,a9 as xA,aa as SA,ab as DA,ac as kA,ad as Xi,ae as FA,af as kr,ag as TA,ah as xo,ai as RA,aj as Zi,ak as es,al as MA,am as So,an as kt,ao as GA,ap as ts,aq as $n,ar as UA,as as LA,at as PA,au as OA,av as NA,aw as $A,ax as jA,ay as zA,az as HA,aA as wr,aB as xr,aC as qA,aD as KA,aE as Er,aF as Cr,aG as Gt,aH as le,aI as YA,aJ as ln,aK as fn,aL as Do,aM as JA,aN as WA,aO as VA,aP as XA,aQ as ZA,aR as ec,aS as tc,aT as Da,aU as ns,aV as ka,aW as nc,aX as rs,aY as rc,aZ as Fa,a_ as ac,a$ as oc,b0 as Xn,b1 as ic,b2 as sc,b3 as Ac,b4 as cc,b5 as Jn,b6 as Zn,b7 as at,b8 as lc,b9 as fc,ba as as,bb as os,bc as uc,bd as is,be as gc,bf as dc,bg as hc,bh as ko,bi as Fo,bj as pc,bk as mc,bl as bc}from"./4.133a45dd.js";import{e as In}from"./each.3d878967.js";import{j as Ic}from"./singletons.a723794f.js";function ss(i,t){const a=t.token={};function r(n,e,o,s){if(t.token!==a)return;t.resolved=s;let A=t.ctx;o!==void 0&&(A=A.slice(),A[o]=s);const c=n&&(t.current=n)(A);let l=!1;t.block&&(t.blocks?t.blocks.forEach((f,u)=>{u!==e&&f&&(mt(),O(f,1,1,()=>{t.blocks[u]===f&&(t.blocks[u]=null)}),bt())}):t.block.d(1),c.c(),P(c,1),c.m(t.mount(),t.anchor),l=!0),t.block=c,t.blocks&&(t.blocks[e]=c),l&&Hs()}if(zs(i)){const n=ja();if(i.then(e=>{Ir(n),r(t.then,1,t.value,e),Ir(null)},e=>{if(Ir(n),r(t.catch,2,t.error,e),Ir(null),!t.hasCatch)throw e}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,i),!0;t.resolved=i}}function As(i,t,a){const r=t.slice(),{resolved:n}=i;i.current===i.then&&(r[i.value]=n),i.current===i.catch&&(r[i.error]=n),i.block.p(r,a)}function er(i,t){const a={},r={},n={$$scope:1};let e=i.length;for(;e--;){const o=i[e],s=t[e];if(s){for(const A in o)A in s||(r[A]=1);for(const A in s)n[A]||(a[A]=s[A],n[A]=1);i[e]=s}else for(const A in o)n[A]=1}for(const o in r)o in a||(a[o]=void 0);return a}function tr(i){return typeof i=="object"&&i!==null?i:{}}function Ta(i,t,a,r){if(typeof a=="number"||Qo(a)){const n=r-a,e=(a-t)/(i.dt||1/60),o=i.opts.stiffness*n,s=i.opts.damping*e,A=(o-s)*i.inv_mass,c=(e+A)*i.dt;return Math.abs(c)<i.opts.precision&&Math.abs(n)<i.opts.precision?r:(i.settled=!1,Qo(a)?new Date(a.getTime()+c):a+c)}else{if(Array.isArray(a))return a.map((n,e)=>Ta(i,t[e],a[e],r[e]));if(typeof a=="object"){const n={};for(const e in a)n[e]=Ta(i,t[e],a[e],r[e]);return n}else throw new Error(`Cannot spring ${typeof a} values`)}}function qt(i,t={}){const a=ft(i),{stiffness:r=.15,damping:n=.8,precision:e=.01}=t;let o,s,A,c=i,l=i,f=1,u=0,d=!1;function b(m,g={}){l=m;const h=A={};return i==null||g.hard||C.stiffness>=1&&C.damping>=1?(d=!0,o=yo(),c=m,a.set(i=l),Promise.resolve()):(g.soft&&(u=1/((g.soft===!0?.5:+g.soft)*60),f=0),s||(o=yo(),d=!1,s=eA(E=>{if(d)return d=!1,s=null,!1;f=Math.min(f+u,1);const I={inv_mass:f,opts:C,settled:!0,dt:(E-o)*60/1e3},y=Ta(I,c,i,l);return o=E,c=i,a.set(i=y),I.settled&&(s=null),!I.settled})),new Promise(E=>{s.promise.then(()=>{h===A&&E()})}))}const C={set:b,update:(m,g)=>b(m(l,i),g),subscribe:a.subscribe,stiffness:r,damping:n,precision:e};return C}const Mr=typeof window<"u",Ec=()=>{const i=ft({width:0,height:0});let t={width:0,height:0};const a=i.subscribe(o=>t=o);Tt(a);let r;const n=()=>{const o=t;if(!r||!r.parentElement)return;const{clientWidth:s,clientHeight:A}=r.parentElement;(s!==o.width||A!==o.height)&&i.set({width:s,height:A})},e=o=>{r=o,n(),window.addEventListener("resize",n)};return Mr?(Tt(()=>{window.removeEventListener("resize",n)}),{parentSizeAction:e,parentSize:i}):{parentSize:i,parentSizeAction:e}},To=(i,t)=>{if(i===t)return!0;if(!i||!t)return!1;const a=i.length;if(t.length!==a)return!1;for(let r=0;r<a;r++)if(i[r]!==t[r])return!1;return!0},Cc=()=>{Zt("threlte-cache",[])},Bc=()=>{const i=pn("threlte-cache");if(!i)throw new Error("No cache found. The cache can only be used in a child component to <Canvas>.");return{remember:(r,n)=>{for(const o of i)if(To(n,o.keys)){if(o.error)throw o.error;if(o.promise)return o.promise}const e={promise:r(),keys:n,value:void 0};return i.push(e),e.promise.catch(o=>{e.error=o}),e.promise},clear:r=>{const n=i.findIndex(e=>To(r,e.keys));n!==-1&&i.splice(n,1)}}},cs=i=>i.userData,vc=()=>{const i=new zi(75,0,.1,1e3);return cs(i).threlteDefaultCamera=!0,i.position.z=5,i.lookAt(0,0,0),i},_c=i=>{rn(i.size,t=>{cs(qs(i.camera)).threlteDefaultCamera&&i.camera.update(a=>{const r=a;return r.aspect=t.width/t.height,r.updateProjectionMatrix(),i.invalidate("Default camera: aspect ratio changed"),r})})},rn=(i,t)=>{const a=Ka(i,e=>e);let r;const n=a.subscribe(async e=>{r&&r();const o=await t(e);o&&(r=o)});Tt(()=>{n(),r&&r()})};function ls(i,t){const a={current:void 0};return rn(i,r=>{a.current=t?t(r):r}),a}const At=i=>{const t=ft(i),a={set:r=>{a.current=r,t.set(r)},subscribe:t.subscribe,update:r=>{const n=r(a.current);a.current=n,t.set(n)},current:i};return a},yc=i=>{const t={debugFrameloop:i.debugFrameloop,frame:0,frameInvalidated:!0,invalidations:{},manualFrameHandlers:new Set,autoFrameHandlers:new Set,allFrameHandlers:new Set,renderHandlers:new Set,advance:!1,dispose:async(o=!1)=>{await Pi(),!(!t.shouldDispose&&!o)&&(t.disposableObjects.forEach((s,A)=>{(s===0||o)&&(A?.dispose?.(),t.disposableObjects.delete(A))}),t.shouldDispose=!1)},collectDisposableObjects:(o,s)=>{const A=s??[];return o&&(o?.dispose&&typeof o.dispose=="function"&&o.type!=="Scene"&&A.push(o),Object.entries(o).forEach(([c,l])=>{if(c==="parent"||c==="children"||typeof l!="object")return;const f=l;f?.dispose&&t.collectDisposableObjects(f,A)})),A},addDisposableObjects:o=>{o.forEach(s=>{const A=t.disposableObjects.get(s);A?t.disposableObjects.set(s,A+1):t.disposableObjects.set(s,1)})},removeDisposableObjects:o=>{o.length!==0&&(o.forEach(s=>{const A=t.disposableObjects.get(s);A&&A>0&&t.disposableObjects.set(s,A-1)}),t.shouldDispose=!0)},disposableObjects:new Map,shouldDispose:!1},a={size:Ka([i.userSize,i.parentSize],([o,s])=>o||s),clock:new Hi,camera:At(vc()),scene:new tA,renderer:void 0,invalidate:o=>{t.frameInvalidated=!0,t.debugFrameloop&&o&&(t.invalidations[o]=t.invalidations[o]?t.invalidations[o]+1:1)},advance:()=>{t.advance=!0},colorSpace:At(i.colorSpace),toneMapping:At(i.toneMapping),dpr:At(i.dpr),useLegacyLights:At(i.useLegacyLights),shadows:At(i.shadows),colorManagementEnabled:At(i.colorManagementEnabled),frameloop:At(i.frameloop)},r=At({});return Zt("threlte",a),Zt("threlte-internal-context",t),Zt("threlte-user-context",r),{ctx:a,internalCtx:t,getCtx:()=>a,getInternalCtx:()=>t}},Qc=i=>{if(!Mr)return;let t;const a=()=>{i(),t=requestAnimationFrame(a)};a(),Tt(()=>{t&&cancelAnimationFrame(t)})},wc=(i,t,a)=>{if(t.allFrameHandlers.size===0)return;if(t.debugFrameloop){let n=0;t.autoFrameHandlers.forEach(e=>{e.debugFrameloopMessage?t.invalidations[e.debugFrameloopMessage]=e.debugFrameloopMessage in t.invalidations?t.invalidations[e.debugFrameloopMessage]+1:1:++n}),n>0&&(t.invalidations.useFrame=t.autoFrameHandlers.size)}Array.from(t.allFrameHandlers).reduce((n,e)=>e.order?!0:n,!1)?Array.from(t.allFrameHandlers).sort((n,e)=>(n.order??0)>(e.order??0)?1:-1).forEach(n=>n.fn(i,a)):t.allFrameHandlers.forEach(n=>n.fn(i,a))},xc=(i,t,a)=>{if(t.renderHandlers.size===0)return;Array.from(t.renderHandlers).reduce((n,e)=>e.order?!0:n,!1)?Array.from(t.renderHandlers).sort((n,e)=>(n.order??0)>(e.order??0)?1:-1).forEach(n=>n.fn(i,a)):t.renderHandlers.forEach(n=>n.fn(i,a))},Sc=i=>{i.debugFrameloop&&(i.frame+=1,console.log(`frame: ${i.frame}${Object.keys(i.invalidations).length>0?", requested by â†´":""}`),Object.keys(i.invalidations).length>0&&console.table(i.invalidations),i.invalidations={})},Dc=(i,t)=>i.frameloop.current==="always"||i.frameloop.current==="demand"&&(t.frameInvalidated||t.autoFrameHandlers.size>0)||i.frameloop.current==="never"&&t.advance,kc=(i,t)=>{Qc(()=>{t.dispose();const a=i.clock.getDelta();wc(i,t,a),Dc(i,t)&&(t.renderHandlers.size>0?xc(i,t,a):i.renderer&&i.camera.current&&i.renderer.render(i.scene,i.camera.current),Sc(t),t.frameInvalidated=!1,t.advance=!1)})},Fc={srgb:rA,"srgb-linear":wo,"":wo},Tc=i=>i.outputColorSpace!==void 0,Rc=i=>{const t=ft(void 0),a=(r,n)=>{i.renderer=new Ki({powerPreference:"high-performance",canvas:r,antialias:!0,alpha:!0,...n}),t.set(i.renderer)};return rn([t,i.size,i.toneMapping,i.colorSpace,i.dpr,i.shadows,i.colorManagementEnabled,i.useLegacyLights],([r,n,e,o,s,A,c,l])=>{if(!r)return;if(r.setSize(n.width,n.height),r.setPixelRatio(s),Tc(r))r.outputColorSpace=o;else{const d=Fc[o];d?r.outputEncoding=d:console.warn("No encoding found for colorSpace",o)}r.toneMapping=e,r.shadowMap.enabled=!!A,A&&A!==!0?r.shadowMap.type=A:A===!0&&(r.shadowMap.type=qi);const f=nA;f.enabled!==void 0?f.enabled=c:f.legacyMode!==void 0&&(f.legacyMode=!c);const u=r;l&&u.useLegacyLights!==void 0?u.useLegacyLights=l:u.physicallyCorrectLights!==void 0&&(u.physicallyCorrectLights=!l)}),Tt(()=>{i.renderer?.dispose()}),{createRenderer:a}};function Ro(i){let t,a;return t=new aA({props:{is:i[3].ctx.scene,$$slots:{default:[Mc]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&131072&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Mc(i){let t;const a=i[15].default,r=yt(a,i,i[17],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&131072)&&Qt(r,a,n,n[17],t?xt(a,n[17],e,null):wt(n[17]),null)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function Gc(i){let t,a,r,n,e=i[1]&&Ro(i);return{c(){t=Oi("canvas"),e&&e.c(),this.h()},l(o){t=Ni(o,"CANVAS",{class:!0});var s=$i(t);e&&e.l(s),s.forEach(pe),this.h()},h(){ji(t,"class","svelte-o3oskp")},m(o,s){me(o,t,s),e&&e.m(t,null),i[16](t),a=!0,r||(n=Ks(i[2].call(null,t)),r=!0)},p(o,[s]){o[1]?e?(e.p(o,s),s&2&&P(e,1)):(e=Ro(o),e.c(),P(e,1),e.m(t,null)):e&&(mt(),O(e,1,1,()=>{e=null}),bt())},i(o){a||(P(e),a=!0)},o(o){O(e),a=!1},d(o){o&&pe(t),e&&e.d(),i[16](null),r=!1,n()}}}const Mo=new Set;function Uc(i,t,a){let{$$slots:r={},$$scope:n}=t,{dpr:e=Mr?window.devicePixelRatio:1}=t,{toneMapping:o=oA}=t,{colorSpace:s="srgb"}=t,{frameloop:A="demand"}=t,{debugFrameloop:c=!1}=t,{shadows:l=qi}=t,{size:f=void 0}=t,{rendererParameters:u=void 0}=t,{colorManagementEnabled:d=!0}=t,{useLegacyLights:b=!0}=t,C,m=!1;const g=ft(f),{parentSize:h,parentSizeAction:E}=Ec(),I=yc({colorSpace:s,toneMapping:o,dpr:e,userSize:g,parentSize:h,debugFrameloop:c,frameloop:A,shadows:l,colorManagementEnabled:d,useLegacyLights:b});Cc();const y=I.ctx;_c(y),Mo.add(y.invalidate),Tt(()=>{Mo.delete(y.invalidate)});const{createRenderer:v}=Rc(y);kc(I.ctx,I.internalCtx),Fr(()=>{C&&(v(C,u),a(1,m=!0))}),Tt(()=>{I.internalCtx.dispose(!0)});function _(p){Kt[p?"unshift":"push"](()=>{C=p,a(0,C)})}return i.$$set=p=>{"dpr"in p&&a(4,e=p.dpr),"toneMapping"in p&&a(5,o=p.toneMapping),"colorSpace"in p&&a(6,s=p.colorSpace),"frameloop"in p&&a(7,A=p.frameloop),"debugFrameloop"in p&&a(8,c=p.debugFrameloop),"shadows"in p&&a(9,l=p.shadows),"size"in p&&a(10,f=p.size),"rendererParameters"in p&&a(11,u=p.rendererParameters),"colorManagementEnabled"in p&&a(12,d=p.colorManagementEnabled),"useLegacyLights"in p&&a(13,b=p.useLegacyLights),"$$scope"in p&&a(17,n=p.$$scope)},i.$$.update=()=>{i.$$.dirty&1024&&g.set(f)},[C,m,E,I,e,o,s,A,c,l,f,u,d,b,y,r,_,n]}class Lc extends Ve{constructor(t){super(),Xe(this,t,Uc,Gc,We,{dpr:4,toneMapping:5,colorSpace:6,frameloop:7,debugFrameloop:8,shadows:9,size:10,rendererParameters:11,colorManagementEnabled:12,useLegacyLights:13,ctx:14})}get ctx(){return this.$$.ctx[14]}}function Pc(i,t){const a="threlte-plugin-context";if(Array.isArray(i)){const[r,n]=i;Zt(a,{...pn(a),[r]:n})}else{const r=i,n=t;if(!n)return;Zt(a,{...pn(a),[r]:n})}}const Yt=(i,t)=>{if(!Mr)return{start:()=>{},stop:()=>{},started:Zs(!1)};const a=t?.invalidate??!0,r=pn("threlte-internal-context"),n={fn:i,order:t?.order,debugFrameloopMessage:t?.debugFrameloopMessage,invalidate:a},e=ft(!1),o=()=>{a?r.autoFrameHandlers.delete(n):r.manualFrameHandlers.delete(n),r.allFrameHandlers.delete(n),e.set(!1)},s=()=>{a?r.autoFrameHandlers.add(n):r.manualFrameHandlers.add(n),r.allFrameHandlers.add(n),e.set(!0)};return(t?.autostart??!0)&&s(),Tt(()=>{o()}),{start:s,stop:o,started:{subscribe:e.subscribe}}};function Oc(i,t,a){const r=pn("threlte-user-context");if(!r)throw new Error("No user context store found, did you invoke this function outside of your main <Canvas> component?");return i?i&&!t?Ka(r,n=>n[i]):(r.update(n=>{if(i in n){if(!a||a.existing==="skip")return n;if(a.existing==="merge")return Object.assign(n[i],t),n}return n[i]=t,n}),r.current[i]):{subscribe:r.subscribe}}const oa=i=>{const t=ft(void 0),a=ft(void 0);return i.then(r=>{t.set(r)}).catch(r=>{console.error("Error in asyncWritable:",r.message),a.set(r)}),Object.assign(Object.assign(i,t),{error:a,promise:i})},fs=(i,t={})=>{const{remember:a,clear:r}=Bc(),n=new i;return t.extend?.(n),{load:(s,A)=>{if(Array.isArray(s)){const c=s.map(f=>a(async()=>{const u=await n.loadAsync(f,A?.onProgress);return A?.transform?.(u)??u},[i,f]));return oa(Promise.all(c))}else if(typeof s=="string"){const c=a(async()=>{const f=await n.loadAsync(s,A?.onProgress);return A?.transform?.(f)??f},[i,s]);return oa(c)}else{const c=Object.values(s).map(f=>a(async()=>{const u=await n.loadAsync(f,A?.onProgress);return A?.transform?.(u)??u},[i,f]));return oa(Promise.all(c).then(f=>Object.fromEntries(Object.entries(s).map(([u],d)=>[u,f[d]]))))}},clear:s=>{Array.isArray(s)?s.forEach(A=>{r([i,A])}):typeof s=="string"?r([i,s]):Object.entries(s).forEach(([A,c])=>{r([i,A,c])})},loader:n}},Gr=()=>{const i=ja(),t=ft(void 0);return rn(t,a=>{a&&Object.entries(i.$$.callbacks).forEach(r=>{const[n,e]=r;n in a.$$.callbacks&&Array.isArray(a.$$.callbacks[n])?a.$$.callbacks[n].push(...e):a.$$.callbacks[n]=e})}),t};var Nc=function(){var i="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuikqbeeedddillviebeoweuec:q;iekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbol79IV9Rbrq:P8Yqdbk;3sezu8Jjjjjbcj;eb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Radz1jjjbhwcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhDcbhqinaqae9pmeaDaeaq9RaqaDfae6Egkcsfgocl4cifcd4hxdndndndnaoc9WGgmTmbcbhPcehsawcjdfhzalhHinaraH9Rax6midnaraHaxfgl9RcK6mbczhoinawcj;cbfaogifgoc9WfhOdndndndndnaHaic9WfgAco4fRbbaAci4coG4ciGPlbedibkaO9cb83ibaOcwf9cb83ibxikaOalRblalRbbgAco4gCaCciSgCE86bbaocGfalclfaCfgORbbaAcl4ciGgCaCciSgCE86bbaocVfaOaCfgORbbaAcd4ciGgCaCciSgCE86bbaoc7faOaCfgORbbaAciGgAaAciSgAE86bbaoctfaOaAfgARbbalRbegOco4gCaCciSgCE86bbaoc91faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc4faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc93faAaCfgARbbaOciGgOaOciSgOE86bbaoc94faAaOfgARbbalRbdgOco4gCaCciSgCE86bbaoc95faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc96faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc97faAaCfgARbbaOciGgOaOciSgOE86bbaoc98faAaOfgORbbalRbiglco4gAaAciSgAE86bbaoc99faOaAfgORbbalcl4ciGgAaAciSgAE86bbaoc9:faOaAfgORbbalcd4ciGgAaAciSgAE86bbaocufaOaAfgoRbbalciGglalciSglE86bbaoalfhlxdkaOalRbwalRbbgAcl4gCaCcsSgCE86bbaocGfalcwfaCfgORbbaAcsGgAaAcsSgAE86bbaocVfaOaAfgORbbalRbegAcl4gCaCcsSgCE86bbaoc7faOaCfgORbbaAcsGgAaAcsSgAE86bbaoctfaOaAfgORbbalRbdgAcl4gCaCcsSgCE86bbaoc91faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc4faOaAfgORbbalRbigAcl4gCaCcsSgCE86bbaoc93faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc94faOaAfgORbbalRblgAcl4gCaCcsSgCE86bbaoc95faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc96faOaAfgORbbalRbvgAcl4gCaCcsSgCE86bbaoc97faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc98faOaAfgORbbalRbogAcl4gCaCcsSgCE86bbaoc99faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc9:faOaAfgORbbalRbrglcl4gAaAcsSgAE86bbaocufaOaAfgoRbbalcsGglalcsSglE86bbaoalfhlxekaOal8Pbb83bbaOcwfalcwf8Pbb83bbalczfhlkdnaiam9pmbaiczfhoaral9RcL0mekkaiam6mialTmidnakTmbawaPfRbbhOcbhoazhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkkazcefhzaPcefgPad6hsalhHaPad9hmexvkkcbhlasceGmdxikalaxad2fhCdnakTmbcbhHcehsawcjdfhminaral9Rax6mialTmdalaxfhlawaHfRbbhOcbhoamhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkamcefhmaHcefgHad6hsaHad9hmbkaChlxikcbhocehsinaral9Rax6mdalTmealaxfhlaocefgoad6hsadao9hmbkaChlxdkcbhlasceGTmekc9:hoxikabaqad2fawcjdfakad2z1jjjb8Aawawcjdfakcufad2fadz1jjjb8Aakaqfhqalmbkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;ebf8Kjjjjbaok;yzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecjez:jjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;siliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabavcefciGaiVcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:Ohkxekcjjjj94hkkabavcdfciGaiVcetfak87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:Ohqxekcjjjj94hqkabavcufciGaiVcetfaq87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohqxekcjjjj94hqkabavciGaiVcetfaq87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2geTmbinababydbgdcwtcw91:Yadce91cjjj;8ifcjjj98G::NUdbabclfhbaecufgembkkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;LeeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiclfaeclfydbBdbaicwfaecwfydbBdbaicxfaecxfydbBdbaiczfhiaeczfheadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk;aeedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdbaicxfalBdbaicwfalBdbaiclfalBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkkkebcjwklz9Kbb",t="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuikqbbebeedddilve9Weeeviebeoweuec:q;Aekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbwl79IV9RbDq;t9tqlbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk;h8JlHud97euo978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Rad;8qbbcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhwcbhDinaDae9pmeawaeaD9RaDawfae6Egqcsfgoc9WGgkci2hxakcethmaocl4cifcd4hPabaDad2fhscbhzdnincehHalhOcbhAdninaraO9RaP6miavcj;cbfaAak2fhCaOaPfhlcbhidnakc;ab6mbaral9Rc;Gb6mbcbhoinaCaofhidndndndndnaOaoco4fRbbgXciGPlbedibkaipxbbbbbbbbbbbbbbbbpklbxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklbalczfhlkdndndndndnaXcd4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklzxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklzalczfhlkdndndndndnaXcl4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklaxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklaalczfhlkdndndndndnaXco4Plbedibkaipxbbbbbbbbbbbbbbbbpkl8WxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalclfaYpQbfaXc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalcwfaYpQbfaXc:q:yjjbfRbbfhlxekaialpbbbpkl8Walczfhlkaoc;abfhiaocjefak0meaihoaral9Rc;Fb0mbkkdndnaiak9pmbaici4hoinaral9RcK6mdaCaifhXdndndndndnaOaico4fRbbaocoG4ciGPlbedibkaXpxbbbbbbbbbbbbbbbbpklbxikaXalpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaXalpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaXalpbbbpklbalczfhlkaocdfhoaiczfgiak6mbkkalTmbaAci6hHalhOaAcefgohAaoclSmdxekkcbhlaHceGmdkdnakTmbavcjdfazfhiavazfpbdbhYcbhXinaiavcj;cbfaXfgopblbgLcep9TaLpxeeeeeeeeeeeeeeeegQp9op9Hp9rgLaoakfpblbg8Acep9Ta8AaQp9op9Hp9rg8ApmbzeHdOiAlCvXoQrLgEaoamfpblbg3cep9Ta3aQp9op9Hp9rg3aoaxfpblbg5cep9Ta5aQp9op9Hp9rg5pmbzeHdOiAlCvXoQrLg8EpmbezHdiOAlvCXorQLgQaQpmbedibedibedibediaYp9UgYp9AdbbaiadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaEa8EpmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwKDYq8AkEx3m5P8Es8FgLa3a5pmwKDYq8AkEx3m5P8Es8Fg8ApmbezHdiOAlvCXorQLgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfhiaXczfgXak6mbkkazclfgzad6mbkasavcjdfaqad2;8qbbavavcjdfaqcufad2fad;8qbbaqaDfhDc9:hoalmexikkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;kbf8Kjjjjbaokwbz:bjjjbk;uzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:EPliuo97eue978Jjjjjbca9Rhidndnadcl9hmbdnaec98GglTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalae9pmeaiaeciGgvcdtgdVcbczad9R;8kbaiabalcdtfglad;8qbbdnavTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkalaiad;8qbbskdnaec98GgxTmbcbhvabhdinadczfglalpbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oawaopmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgvax6mbkkaxae9pmbaiaeciGgvcitgdfcbcaad9R;8kbaiabaxcitfglad;8qbbdnavTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oawaopmbezHdiOAlvCXorQLp9qpklbkalaiad;8qbbkk;4wllue97euv978Jjjjjbc8W9Rhidnaec98GglTmbcbhvabhoinaiaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklbaopxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblbpEb:T:j83ibaocwfarp5eaipblbpEe:T:j83ibawaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblbpEd:T:j83ibaocKfakp5eaipblbpEi:T:j83ibaocafhoavclfgval6mbkkdnalae9pmbaiaeciGgvcitgofcbcaao9R;8kbaiabalcitfgwao;8qbbdnavTmbaiaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklaaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblapEb:T:j83ibaiarp5eaipblapEe:T:j83iwaiaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblapEd:T:j83izaiakp5eaipblapEi:T:j83iKkawaiao;8qbbkk:Pddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbhdabheinaeaepbbbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepkbbaeczfheadclfgdav6mbkkdnaval9pmbaialciGgdcdtgeVcbc;abae9R;8kbaiabavcdtfgvae;8qbbdnadTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepklbkavaiae;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz9Tbb",a=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var n=WebAssembly.validate(a)?t:i,e,o=WebAssembly.instantiate(s(n),{}).then(function(g){e=g.instance,e.exports.__wasm_call_ctors()});function s(g){for(var h=new Uint8Array(g.length),E=0;E<g.length;++E){var I=g.charCodeAt(E);h[E]=I>96?I-97:I>64?I-39:I+4}for(var y=0,E=0;E<g.length;++E)h[y++]=h[E]<60?r[h[E]]:(h[E]-60)*64+h[++E];return h.buffer.slice(0,y)}function A(g,h,E,I,y,v){var _=e.exports.sbrk,p=E+3&-4,Q=_(p*I),w=_(y.length),D=new Uint8Array(e.exports.memory.buffer);D.set(y,w);var x=g(Q,E,I,w,y.length);if(x==0&&v&&v(Q,p,I),h.set(D.subarray(Q,Q+E*I)),_(Q-_(0)),x!=0)throw new Error("Malformed buffer data: "+x)}var c={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},l={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},f=[],u=0;function d(g){var h={object:new Worker(g),pending:0,requests:{}};return h.object.onmessage=function(E){var I=E.data;h.pending-=I.count,h.requests[I.id][I.action](I.value),delete h.requests[I.id]},h}function b(g){for(var h="var instance; var ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(s(n))+"]), {}).then(function(result) { instance = result.instance; instance.exports.__wasm_call_ctors(); });self.onmessage = workerProcess;"+A.toString()+m.toString(),E=new Blob([h],{type:"text/javascript"}),I=URL.createObjectURL(E),y=0;y<g;++y)f[y]=d(I);URL.revokeObjectURL(I)}function C(g,h,E,I,y){for(var v=f[0],_=1;_<f.length;++_)f[_].pending<v.pending&&(v=f[_]);return new Promise(function(p,Q){var w=new Uint8Array(E),D=u++;v.pending+=g,v.requests[D]={resolve:p,reject:Q},v.object.postMessage({id:D,count:g,size:h,source:w,mode:I,filter:y},[w.buffer])})}function m(g){o.then(function(){var h=g.data;try{var E=new Uint8Array(h.count*h.size);A(e.exports[h.mode],E,h.count,h.size,h.source,e.exports[h.filter]),self.postMessage({id:h.id,count:h.count,action:"resolve",value:E},[E.buffer])}catch(I){self.postMessage({id:h.id,count:h.count,action:"reject",value:I})}})}return{ready:o,supported:!0,useWorkers:function(g){b(g)},decodeVertexBuffer:function(g,h,E,I,y){A(e.exports.meshopt_decodeVertexBuffer,g,h,E,I,e.exports[c[y]])},decodeIndexBuffer:function(g,h,E,I){A(e.exports.meshopt_decodeIndexBuffer,g,h,E,I)},decodeIndexSequence:function(g,h,E,I){A(e.exports.meshopt_decodeIndexSequence,g,h,E,I)},decodeGltfBuffer:function(g,h,E,I,y,v){A(e.exports[l[y]],g,h,E,I,e.exports[c[v]])},decodeGltfBufferAsync:function(g,h,E,I,y){return f.length>0?C(g,h,E,l[I],c[y]):o.then(function(){var v=new Uint8Array(g*h);return A(e.exports[l[I]],v,g,h,E,e.exports[c[y]]),v})}}}();const ia=new WeakMap;class $c extends Ya{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,a,r,n){const e=new en(this.manager);e.setPath(this.path),e.setResponseType("arraybuffer"),e.setRequestHeader(this.requestHeader),e.setWithCredentials(this.withCredentials),e.load(t,o=>{this.parse(o,a,n)},r,n)}parse(t,a,r){this.decodeDracoFile(t,a,null,null,It).catch(r)}decodeDracoFile(t,a,r,n,e=iA){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:e};return this.decodeGeometry(t,o).then(a)}decodeGeometry(t,a){const r=JSON.stringify(a);if(ia.has(t)){const A=ia.get(t);if(A.key===r)return A.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const e=this.workerNextTaskID++,o=t.byteLength,s=this._getWorker(e,o).then(A=>(n=A,new Promise((c,l)=>{n._callbacks[e]={resolve:c,reject:l},n.postMessage({type:"decode",id:e,taskConfig:a,buffer:t},[t])}))).then(A=>this._createGeometry(A.geometry));return s.catch(()=>!0).then(()=>{n&&e&&this._releaseTask(n,e)}),ia.set(t,{key:r,promise:s}),s}_createGeometry(t){const a=new Tr;t.index&&a.setIndex(new zn(t.index.array,1));for(let r=0;r<t.attributes.length;r++){const n=t.attributes[r],e=n.name,o=n.array,s=n.itemSize,A=new zn(o,s);e==="color"&&(this._assignVertexColorSpace(A,n.vertexColorSpace),A.normalized=!(o instanceof Float32Array)),a.setAttribute(e,A)}return a}_assignVertexColorSpace(t,a){if(a!==It)return;const r=new Se;for(let n=0,e=t.count;n<e;n++)r.fromBufferAttribute(t,n).convertSRGBToLinear(),t.setXYZ(n,r.r,r.g,r.b)}_loadLibrary(t,a){const r=new en(this.manager);return r.setPath(this.decoderPath),r.setResponseType(a),r.setWithCredentials(this.withCredentials),new Promise((n,e)=>{r.load(t,n,void 0,e)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",a=[];return t?a.push(this._loadLibrary("draco_decoder.js","text")):(a.push(this._loadLibrary("draco_wasm_wrapper.js","text")),a.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(a).then(r=>{const n=r[0];t||(this.decoderConfig.wasmBinary=r[1]);const e=jc.toString(),o=["/* draco decoder */",n,"","/* worker */",e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(t,a){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(e){const o=e.data;switch(o.type){case"decode":n._callbacks[o.id].resolve(o);break;case"error":n._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,e){return n._taskLoad>e._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[t]=a,r._taskLoad+=a,r})}_releaseTask(t,a){t._taskLoad-=t._taskCosts[a],delete t._callbacks[a],delete t._taskCosts[a]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function jc(){let i,t;onmessage=function(o){const s=o.data;switch(s.type){case"init":i=s.decoderConfig,t=new Promise(function(l){i.onModuleLoaded=function(f){l({draco:f})},DracoDecoderModule(i)});break;case"decode":const A=s.buffer,c=s.taskConfig;t.then(l=>{const f=l.draco,u=new f.Decoder;try{const d=a(f,u,new Int8Array(A),c),b=d.attributes.map(C=>C.array.buffer);d.index&&b.push(d.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:d},b)}catch(d){console.error(d),self.postMessage({type:"error",id:s.id,error:d.message})}finally{f.destroy(u)}});break}};function a(o,s,A,c){const l=c.attributeIDs,f=c.attributeTypes;let u,d;const b=s.GetEncodedGeometryType(A);if(b===o.TRIANGULAR_MESH)u=new o.Mesh,d=s.DecodeArrayToMesh(A,A.byteLength,u);else if(b===o.POINT_CLOUD)u=new o.PointCloud,d=s.DecodeArrayToPointCloud(A,A.byteLength,u);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||u.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const C={index:null,attributes:[]};for(const m in l){const g=self[f[m]];let h,E;if(c.useUniqueIDs)E=l[m],h=s.GetAttributeByUniqueId(u,E);else{if(E=s.GetAttributeId(u,o[l[m]]),E===-1)continue;h=s.GetAttribute(u,E)}const I=n(o,s,u,m,g,h);m==="color"&&(I.vertexColorSpace=c.vertexColorSpace),C.attributes.push(I)}return b===o.TRIANGULAR_MESH&&(C.index=r(o,s,u)),o.destroy(u),C}function r(o,s,A){const l=A.num_faces()*3,f=l*4,u=o._malloc(f);s.GetTrianglesUInt32Array(A,f,u);const d=new Uint32Array(o.HEAPF32.buffer,u,l).slice();return o._free(u),{array:d,itemSize:1}}function n(o,s,A,c,l,f){const u=f.num_components(),b=A.num_points()*u,C=b*l.BYTES_PER_ELEMENT,m=e(o,l),g=o._malloc(C);s.GetAttributeDataArrayForAllPoints(A,f,m,C,g);const h=new l(o.HEAPF32.buffer,g,b).slice();return o._free(g),{name:c,array:h,itemSize:u}}function e(o,s){switch(s){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}function Go(i,t){if(t===sA)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(t===wa||t===Yi){let a=i.getIndex();if(a===null){const o=[],s=i.getAttribute("position");if(s!==void 0){for(let A=0;A<s.count;A++)o.push(A);i.setIndex(o),a=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const r=a.count-2,n=[];if(t===wa)for(let o=1;o<=r;o++)n.push(a.getX(0)),n.push(a.getX(o)),n.push(a.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(n.push(a.getX(o)),n.push(a.getX(o+1)),n.push(a.getX(o+2))):(n.push(a.getX(o+2)),n.push(a.getX(o+1)),n.push(a.getX(o)));n.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const e=i.clone();return e.setIndex(n),e.clearGroups(),e}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),i}class zc extends Ya{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new Jc(a)}),this.register(function(a){return new rl(a)}),this.register(function(a){return new al(a)}),this.register(function(a){return new ol(a)}),this.register(function(a){return new Vc(a)}),this.register(function(a){return new Xc(a)}),this.register(function(a){return new Zc(a)}),this.register(function(a){return new el(a)}),this.register(function(a){return new Yc(a)}),this.register(function(a){return new tl(a)}),this.register(function(a){return new Wc(a)}),this.register(function(a){return new nl(a)}),this.register(function(a){return new qc(a)}),this.register(function(a){return new il(a)}),this.register(function(a){return new sl(a)})}load(t,a,r,n){const e=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=xa.extractUrlBase(t),this.manager.itemStart(t);const s=function(c){n?n(c):console.error(c),e.manager.itemError(t),e.manager.itemEnd(t)},A=new en(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(t,function(c){try{e.parse(c,o,function(l){a(l),e.manager.itemEnd(t)},s)}catch(l){s(l)}},r,s)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,a,r,n){let e;const o={},s={},A=new TextDecoder;if(typeof t=="string")e=JSON.parse(t);else if(t instanceof ArrayBuffer)if(A.decode(new Uint8Array(t,0,4))===us){try{o[Fe.KHR_BINARY_GLTF]=new Al(t)}catch(f){n&&n(f);return}e=JSON.parse(o[Fe.KHR_BINARY_GLTF].content)}else e=JSON.parse(A.decode(t));else e=t;if(e.asset===void 0||e.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Cl(e,{path:a||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const f=this.pluginCallbacks[l](c);s[f.name]=f,o[f.name]=!0}if(e.extensionsUsed)for(let l=0;l<e.extensionsUsed.length;++l){const f=e.extensionsUsed[l],u=e.extensionsRequired||[];switch(f){case Fe.KHR_MATERIALS_UNLIT:o[f]=new Kc;break;case Fe.KHR_DRACO_MESH_COMPRESSION:o[f]=new cl(e,this.dracoLoader);break;case Fe.KHR_TEXTURE_TRANSFORM:o[f]=new ll;break;case Fe.KHR_MESH_QUANTIZATION:o[f]=new fl;break;default:u.indexOf(f)>=0&&s[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(o),c.setPlugins(s),c.parse(r,n)}parseAsync(t,a){const r=this;return new Promise(function(n,e){r.parse(t,a,n,e)})}}function Hc(){let i={};return{get:function(t){return i[t]},add:function(t,a){i[t]=a},remove:function(t){delete i[t]},removeAll:function(){i={}}}}const Fe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class qc{constructor(t){this.parser=t,this.name=Fe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,a=this.parser.json.nodes||[];for(let r=0,n=a.length;r<n;r++){const e=a[r];e.extensions&&e.extensions[this.name]&&e.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,e.extensions[this.name].light)}}_loadLight(t){const a=this.parser,r="light:"+t;let n=a.cache.get(r);if(n)return n;const e=a.json,A=((e.extensions&&e.extensions[this.name]||{}).lights||[])[t];let c;const l=new Se(16777215);A.color!==void 0&&l.fromArray(A.color);const f=A.range!==void 0?A.range:0;switch(A.type){case"directional":c=new lA(l),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new cA(l),c.distance=f;break;case"spot":c=new AA(l),c.distance=f,A.spot=A.spot||{},A.spot.innerConeAngle=A.spot.innerConeAngle!==void 0?A.spot.innerConeAngle:0,A.spot.outerConeAngle=A.spot.outerConeAngle!==void 0?A.spot.outerConeAngle:Math.PI/4,c.angle=A.spot.outerConeAngle,c.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return c.position.set(0,0,0),c.decay=2,Ht(c,A),A.intensity!==void 0&&(c.intensity=A.intensity),c.name=a.createUniqueName(A.name||"light_"+t),n=Promise.resolve(c),a.cache.add(r,n),n}getDependency(t,a){if(t==="light")return this._loadLight(a)}createNodeAttachment(t){const a=this,r=this.parser,e=r.json.nodes[t],s=(e.extensions&&e.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(A){return r._getNodeRef(a.cache,s,A)})}}class Kc{constructor(){this.name=Fe.KHR_MATERIALS_UNLIT}getMaterialType(){return Vt}extendParams(t,a,r){const n=[];t.color=new Se(1,1,1),t.opacity=1;const e=a.pbrMetallicRoughness;if(e){if(Array.isArray(e.baseColorFactor)){const o=e.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}e.baseColorTexture!==void 0&&n.push(r.assignTexture(t,"map",e.baseColorTexture,It))}return Promise.all(n)}}class Yc{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,a){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=n.extensions[this.name].emissiveStrength;return e!==void 0&&(a.emissiveIntensity=e),Promise.resolve()}}class Jc{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[],o=n.extensions[this.name];if(o.clearcoatFactor!==void 0&&(a.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&e.push(r.assignTexture(a,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(a.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&e.push(r.assignTexture(a,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(e.push(r.assignTexture(a,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const s=o.clearcoatNormalTexture.scale;a.clearcoatNormalScale=new ze(s,s)}return Promise.all(e)}}class Wc{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[],o=n.extensions[this.name];return o.iridescenceFactor!==void 0&&(a.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&e.push(r.assignTexture(a,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(a.iridescenceIOR=o.iridescenceIor),a.iridescenceThicknessRange===void 0&&(a.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(a.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(a.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&e.push(r.assignTexture(a,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(e)}}class Vc{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_SHEEN}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[];a.sheenColor=new Se(0,0,0),a.sheenRoughness=0,a.sheen=1;const o=n.extensions[this.name];return o.sheenColorFactor!==void 0&&a.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(a.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&e.push(r.assignTexture(a,"sheenColorMap",o.sheenColorTexture,It)),o.sheenRoughnessTexture!==void 0&&e.push(r.assignTexture(a,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(e)}}class Xc{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[],o=n.extensions[this.name];return o.transmissionFactor!==void 0&&(a.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&e.push(r.assignTexture(a,"transmissionMap",o.transmissionTexture)),Promise.all(e)}}class Zc{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_VOLUME}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[],o=n.extensions[this.name];a.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&e.push(r.assignTexture(a,"thicknessMap",o.thicknessTexture)),a.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return a.attenuationColor=new Se(s[0],s[1],s[2]),Promise.all(e)}}class el{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_IOR}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=n.extensions[this.name];return a.ior=e.ior!==void 0?e.ior:1.5,Promise.resolve()}}class tl{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_SPECULAR}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[],o=n.extensions[this.name];a.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&e.push(r.assignTexture(a,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return a.specularColor=new Se(s[0],s[1],s[2]),o.specularColorTexture!==void 0&&e.push(r.assignTexture(a,"specularColorMap",o.specularColorTexture,It)),Promise.all(e)}}class nl{constructor(t){this.parser=t,this.name=Fe.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:Mt}extendMaterialParams(t,a){const r=this.parser,n=r.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const e=[],o=n.extensions[this.name];return o.anisotropyStrength!==void 0&&(a.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(a.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&e.push(r.assignTexture(a,"anisotropyMap",o.anisotropyTexture)),Promise.all(e)}}class rl{constructor(t){this.parser=t,this.name=Fe.KHR_TEXTURE_BASISU}loadTexture(t){const a=this.parser,r=a.json,n=r.textures[t];if(!n.extensions||!n.extensions[this.name])return null;const e=n.extensions[this.name],o=a.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return a.loadTextureImage(t,e.source,o)}}class al{constructor(t){this.parser=t,this.name=Fe.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const a=this.name,r=this.parser,n=r.json,e=n.textures[t];if(!e.extensions||!e.extensions[a])return null;const o=e.extensions[a],s=n.images[o.source];let A=r.textureLoader;if(s.uri){const c=r.options.manager.getHandler(s.uri);c!==null&&(A=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(t,o.source,A);if(n.extensionsRequired&&n.extensionsRequired.indexOf(a)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const a=new Image;a.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",a.onload=a.onerror=function(){t(a.height===1)}})),this.isSupported}}class ol{constructor(t){this.parser=t,this.name=Fe.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const a=this.name,r=this.parser,n=r.json,e=n.textures[t];if(!e.extensions||!e.extensions[a])return null;const o=e.extensions[a],s=n.images[o.source];let A=r.textureLoader;if(s.uri){const c=r.options.manager.getHandler(s.uri);c!==null&&(A=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(t,o.source,A);if(n.extensionsRequired&&n.extensionsRequired.indexOf(a)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const a=new Image;a.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",a.onload=a.onerror=function(){t(a.height===1)}})),this.isSupported}}class il{constructor(t){this.name=Fe.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const a=this.parser.json,r=a.bufferViews[t];if(r.extensions&&r.extensions[this.name]){const n=r.extensions[this.name],e=this.parser.getDependency("buffer",n.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(a.extensionsRequired&&a.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return e.then(function(s){const A=n.byteOffset||0,c=n.byteLength||0,l=n.count,f=n.byteStride,u=new Uint8Array(s,A,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(l,f,u,n.mode,n.filter).then(function(d){return d.buffer}):o.ready.then(function(){const d=new ArrayBuffer(l*f);return o.decodeGltfBuffer(new Uint8Array(d),l,f,u,n.mode,n.filter),d})})}else return null}}class sl{constructor(t){this.name=Fe.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const a=this.parser.json,r=a.nodes[t];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const n=a.meshes[r.mesh];for(const c of n.primitives)if(c.mode!==lt.TRIANGLES&&c.mode!==lt.TRIANGLE_STRIP&&c.mode!==lt.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,s=[],A={};for(const c in o)s.push(this.parser.getDependency("accessor",o[c]).then(l=>(A[c]=l,A[c])));return s.length<1?null:(s.push(this.parser.createNodeMesh(t)),Promise.all(s).then(c=>{const l=c.pop(),f=l.isGroup?l.children:[l],u=c[0].count,d=[];for(const b of f){const C=new mn,m=new Pe,g=new Dr,h=new Pe(1,1,1),E=new fA(b.geometry,b.material,u);for(let I=0;I<u;I++)A.TRANSLATION&&m.fromBufferAttribute(A.TRANSLATION,I),A.ROTATION&&g.fromBufferAttribute(A.ROTATION,I),A.SCALE&&h.fromBufferAttribute(A.SCALE,I),E.setMatrixAt(I,C.compose(m,g,h));for(const I in A)I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&b.geometry.setAttribute(I,A[I]);Ja.prototype.copy.call(E,b),this.parser.assignFinalMaterial(E),d.push(E)}return l.isGroup?(l.clear(),l.add(...d),l):d[0]}))}}const us="glTF",Ln=12,Uo={JSON:1313821514,BIN:5130562};class Al{constructor(t){this.name=Fe.KHR_BINARY_GLTF,this.content=null,this.body=null;const a=new DataView(t,0,Ln),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:a.getUint32(4,!0),length:a.getUint32(8,!0)},this.header.magic!==us)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Ln,e=new DataView(t,Ln);let o=0;for(;o<n;){const s=e.getUint32(o,!0);o+=4;const A=e.getUint32(o,!0);if(o+=4,A===Uo.JSON){const c=new Uint8Array(t,Ln+o,s);this.content=r.decode(c)}else if(A===Uo.BIN){const c=Ln+o;this.body=t.slice(c,c+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class cl{constructor(t,a){if(!a)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fe.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=a,this.dracoLoader.preload()}decodePrimitive(t,a){const r=this.json,n=this.dracoLoader,e=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,s={},A={},c={};for(const l in o){const f=Ra[l]||l.toLowerCase();s[f]=o[l]}for(const l in t.attributes){const f=Ra[l]||l.toLowerCase();if(o[l]!==void 0){const u=r.accessors[t.attributes[l]],d=hn[u.componentType];c[f]=d.name,A[f]=u.normalized===!0}}return a.getDependency("bufferView",e).then(function(l){return new Promise(function(f){n.decodeDracoFile(l,function(u){for(const d in u.attributes){const b=u.attributes[d],C=A[d];C!==void 0&&(b.normalized=C)}f(u)},s,c)})})}}class ll{constructor(){this.name=Fe.KHR_TEXTURE_TRANSFORM}extendTexture(t,a){return(a.texCoord===void 0||a.texCoord===t.channel)&&a.offset===void 0&&a.rotation===void 0&&a.scale===void 0||(t=t.clone(),a.texCoord!==void 0&&(t.channel=a.texCoord),a.offset!==void 0&&t.offset.fromArray(a.offset),a.rotation!==void 0&&(t.rotation=a.rotation),a.scale!==void 0&&t.repeat.fromArray(a.scale),t.needsUpdate=!0),t}}class fl{constructor(){this.name=Fe.KHR_MESH_QUANTIZATION}}class gs extends MA{constructor(t,a,r,n){super(t,a,r,n)}copySampleValue_(t){const a=this.resultBuffer,r=this.sampleValues,n=this.valueSize,e=t*n*3+n;for(let o=0;o!==n;o++)a[o]=r[e+o];return a}interpolate_(t,a,r,n){const e=this.resultBuffer,o=this.sampleValues,s=this.valueSize,A=s*2,c=s*3,l=n-a,f=(r-a)/l,u=f*f,d=u*f,b=t*c,C=b-c,m=-2*d+3*u,g=d-u,h=1-m,E=g-u+f;for(let I=0;I!==s;I++){const y=o[C+I+s],v=o[C+I+A]*l,_=o[b+I+s],p=o[b+I]*l;e[I]=h*y+E*v+m*_+g*p}return e}}const ul=new Dr;class gl extends gs{interpolate_(t,a,r,n){const e=super.interpolate_(t,a,r,n);return ul.fromArray(e).normalize().toArray(e),e}}const lt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},hn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Lo={9728:yA,9729:bn,9984:QA,9985:wA,9986:xA,9987:Wa},Po={33071:SA,33648:DA,10497:Sa},sa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ra={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},jt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},dl={CUBICSPLINE:void 0,LINEAR:Vi,STEP:kA},Aa={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function hl(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new Vn({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Xi})),i.DefaultMaterial}function Jt(i,t,a){for(const r in a.extensions)i[r]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=a.extensions[r])}function Ht(i,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(i.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function pl(i,t,a){let r=!1,n=!1,e=!1;for(let c=0,l=t.length;c<l;c++){const f=t[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(n=!0),f.COLOR_0!==void 0&&(e=!0),r&&n&&e)break}if(!r&&!n&&!e)return Promise.resolve(i);const o=[],s=[],A=[];for(let c=0,l=t.length;c<l;c++){const f=t[c];if(r){const u=f.POSITION!==void 0?a.getDependency("accessor",f.POSITION):i.attributes.position;o.push(u)}if(n){const u=f.NORMAL!==void 0?a.getDependency("accessor",f.NORMAL):i.attributes.normal;s.push(u)}if(e){const u=f.COLOR_0!==void 0?a.getDependency("accessor",f.COLOR_0):i.attributes.color;A.push(u)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(A)]).then(function(c){const l=c[0],f=c[1],u=c[2];return r&&(i.morphAttributes.position=l),n&&(i.morphAttributes.normal=f),e&&(i.morphAttributes.color=u),i.morphTargetsRelative=!0,i})}function ml(i,t){if(i.updateMorphTargets(),t.weights!==void 0)for(let a=0,r=t.weights.length;a<r;a++)i.morphTargetInfluences[a]=t.weights[a];if(t.extras&&Array.isArray(t.extras.targetNames)){const a=t.extras.targetNames;if(i.morphTargetInfluences.length===a.length){i.morphTargetDictionary={};for(let r=0,n=a.length;r<n;r++)i.morphTargetDictionary[a[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function bl(i){let t;const a=i.extensions&&i.extensions[Fe.KHR_DRACO_MESH_COMPRESSION];if(a?t="draco:"+a.bufferView+":"+a.indices+":"+ca(a.attributes):t=i.indices+":"+ca(i.attributes)+":"+i.mode,i.targets!==void 0)for(let r=0,n=i.targets.length;r<n;r++)t+=":"+ca(i.targets[r]);return t}function ca(i){let t="";const a=Object.keys(i).sort();for(let r=0,n=a.length;r<n;r++)t+=a[r]+":"+i[a[r]]+";";return t}function Ma(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Il(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const El=new mn;class Cl{constructor(t={},a={}){this.json=t,this.extensions={},this.plugins={},this.options=a,this.cache=new Hc,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,n=!1,e=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,n=navigator.userAgent.indexOf("Firefox")>-1,e=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||n&&e<98?this.textureLoader=new Ji(this.options.manager):this.textureLoader=new uA(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new en(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,a){const r=this,n=this.json,e=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const s={scene:o[0][n.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:n.asset,parser:r,userData:{}};Jt(e,s,n),Ht(s,n),Promise.all(r._invokeAll(function(A){return A.afterRoot&&A.afterRoot(s)})).then(function(){t(s)})}).catch(a)}_markDefs(){const t=this.json.nodes||[],a=this.json.skins||[],r=this.json.meshes||[];for(let n=0,e=a.length;n<e;n++){const o=a[n].joints;for(let s=0,A=o.length;s<A;s++)t[o[s]].isBone=!0}for(let n=0,e=t.length;n<e;n++){const o=t[n];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,a){a!==void 0&&(t.refs[a]===void 0&&(t.refs[a]=t.uses[a]=0),t.refs[a]++)}_getNodeRef(t,a,r){if(t.refs[a]<=1)return r;const n=r.clone(),e=(o,s)=>{const A=this.associations.get(o);A!=null&&this.associations.set(s,A);for(const[c,l]of o.children.entries())e(l,s.children[c])};return e(r,n),n.name+="_instance_"+t.uses[a]++,n}_invokeOne(t){const a=Object.values(this.plugins);a.push(this);for(let r=0;r<a.length;r++){const n=t(a[r]);if(n)return n}return null}_invokeAll(t){const a=Object.values(this.plugins);a.unshift(this);const r=[];for(let n=0;n<a.length;n++){const e=t(a[n]);e&&r.push(e)}return r}getDependency(t,a){const r=t+":"+a;let n=this.cache.get(r);if(!n){switch(t){case"scene":n=this.loadScene(a);break;case"node":n=this._invokeOne(function(e){return e.loadNode&&e.loadNode(a)});break;case"mesh":n=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(a)});break;case"accessor":n=this.loadAccessor(a);break;case"bufferView":n=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(a)});break;case"buffer":n=this.loadBuffer(a);break;case"material":n=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(a)});break;case"texture":n=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(a)});break;case"skin":n=this.loadSkin(a);break;case"animation":n=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(a)});break;case"camera":n=this.loadCamera(a);break;default:if(n=this._invokeOne(function(e){return e!=this&&e.getDependency&&e.getDependency(t,a)}),!n)throw new Error("Unknown type: "+t);break}this.cache.add(r,n)}return n}getDependencies(t){let a=this.cache.get(t);if(!a){const r=this,n=this.json[t+(t==="mesh"?"es":"s")]||[];a=Promise.all(n.map(function(e,o){return r.getDependency(t,o)})),this.cache.add(t,a)}return a}loadBuffer(t){const a=this.json.buffers[t],r=this.fileLoader;if(a.type&&a.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+a.type+" buffer type is not supported.");if(a.uri===void 0&&t===0)return Promise.resolve(this.extensions[Fe.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(e,o){r.load(xa.resolveURL(a.uri,n.path),e,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+a.uri+'".'))})})}loadBufferView(t){const a=this.json.bufferViews[t];return this.getDependency("buffer",a.buffer).then(function(r){const n=a.byteLength||0,e=a.byteOffset||0;return r.slice(e,e+n)})}loadAccessor(t){const a=this,r=this.json,n=this.json.accessors[t];if(n.bufferView===void 0&&n.sparse===void 0){const o=sa[n.type],s=hn[n.componentType],A=n.normalized===!0,c=new s(n.count*o);return Promise.resolve(new zn(c,o,A))}const e=[];return n.bufferView!==void 0?e.push(this.getDependency("bufferView",n.bufferView)):e.push(null),n.sparse!==void 0&&(e.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(e).then(function(o){const s=o[0],A=sa[n.type],c=hn[n.componentType],l=c.BYTES_PER_ELEMENT,f=l*A,u=n.byteOffset||0,d=n.bufferView!==void 0?r.bufferViews[n.bufferView].byteStride:void 0,b=n.normalized===!0;let C,m;if(d&&d!==f){const g=Math.floor(u/d),h="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+g+":"+n.count;let E=a.cache.get(h);E||(C=new c(s,g*d,n.count*d/l),E=new gA(C,d/l),a.cache.add(h,E)),m=new FA(E,A,u%d/l,b)}else s===null?C=new c(n.count*A):C=new c(s,u,n.count*A),m=new zn(C,A,b);if(n.sparse!==void 0){const g=sa.SCALAR,h=hn[n.sparse.indices.componentType],E=n.sparse.indices.byteOffset||0,I=n.sparse.values.byteOffset||0,y=new h(o[1],E,n.sparse.count*g),v=new c(o[2],I,n.sparse.count*A);s!==null&&(m=new zn(m.array.slice(),m.itemSize,m.normalized));for(let _=0,p=y.length;_<p;_++){const Q=y[_];if(m.setX(Q,v[_*A]),A>=2&&m.setY(Q,v[_*A+1]),A>=3&&m.setZ(Q,v[_*A+2]),A>=4&&m.setW(Q,v[_*A+3]),A>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(t){const a=this.json,r=this.options,e=a.textures[t].source,o=a.images[e];let s=this.textureLoader;if(o.uri){const A=r.manager.getHandler(o.uri);A!==null&&(s=A)}return this.loadTextureImage(t,e,s)}loadTextureImage(t,a,r){const n=this,e=this.json,o=e.textures[t],s=e.images[a],A=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[A])return this.textureCache[A];const c=this.loadImageSource(a,r).then(function(l){l.flipY=!1,l.name=o.name||s.name||"",l.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(l.name=s.uri);const u=(e.samplers||{})[o.sampler]||{};return l.magFilter=Lo[u.magFilter]||bn,l.minFilter=Lo[u.minFilter]||Wa,l.wrapS=Po[u.wrapS]||Sa,l.wrapT=Po[u.wrapT]||Sa,n.associations.set(l,{textures:t}),l}).catch(function(){return null});return this.textureCache[A]=c,c}loadImageSource(t,a){const r=this,n=this.json,e=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(f=>f.clone());const o=n.images[t],s=self.URL||self.webkitURL;let A=o.uri||"",c=!1;if(o.bufferView!==void 0)A=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const u=new Blob([f],{type:o.mimeType});return A=s.createObjectURL(u),A});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const l=Promise.resolve(A).then(function(f){return new Promise(function(u,d){let b=u;a.isImageBitmapLoader===!0&&(b=function(C){const m=new kr(C);m.needsUpdate=!0,u(m)}),a.load(xa.resolveURL(f,e.path),b,void 0,d)})}).then(function(f){return c===!0&&s.revokeObjectURL(A),f.userData.mimeType=o.mimeType||Il(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),f});return this.sourceCache[t]=l,l}assignTexture(t,a,r,n){const e=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),e.extensions[Fe.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[Fe.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const A=e.associations.get(o);o=e.extensions[Fe.KHR_TEXTURE_TRANSFORM].extendTexture(o,s),e.associations.set(o,A)}}return n!==void 0&&(o.colorSpace=n),t[a]=o,o})}assignFinalMaterial(t){const a=t.geometry;let r=t.material;const n=a.attributes.tangent===void 0,e=a.attributes.color!==void 0,o=a.attributes.normal===void 0;if(t.isPoints){const s="PointsMaterial:"+r.uuid;let A=this.cache.get(s);A||(A=new Wi,yr.prototype.copy.call(A,r),A.color.copy(r.color),A.map=r.map,A.sizeAttenuation=!1,this.cache.add(s,A)),r=A}else if(t.isLine){const s="LineBasicMaterial:"+r.uuid;let A=this.cache.get(s);A||(A=new dA,yr.prototype.copy.call(A,r),A.color.copy(r.color),A.map=r.map,this.cache.add(s,A)),r=A}if(n||e||o){let s="ClonedMaterial:"+r.uuid+":";n&&(s+="derivative-tangents:"),e&&(s+="vertex-colors:"),o&&(s+="flat-shading:");let A=this.cache.get(s);A||(A=r.clone(),e&&(A.vertexColors=!0),o&&(A.flatShading=!0),n&&(A.normalScale&&(A.normalScale.y*=-1),A.clearcoatNormalScale&&(A.clearcoatNormalScale.y*=-1)),this.cache.add(s,A),this.associations.set(A,this.associations.get(r))),r=A}t.material=r}getMaterialType(){return Vn}loadMaterial(t){const a=this,r=this.json,n=this.extensions,e=r.materials[t];let o;const s={},A=e.extensions||{},c=[];if(A[Fe.KHR_MATERIALS_UNLIT]){const f=n[Fe.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(s,e,a))}else{const f=e.pbrMetallicRoughness||{};if(s.color=new Se(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){const u=f.baseColorFactor;s.color.fromArray(u),s.opacity=u[3]}f.baseColorTexture!==void 0&&c.push(a.assignTexture(s,"map",f.baseColorTexture,It)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(a.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),c.push(a.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(u){return u.getMaterialType&&u.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(u){return u.extendMaterialParams&&u.extendMaterialParams(t,s)})))}e.doubleSided===!0&&(s.side=Va);const l=e.alphaMode||Aa.OPAQUE;if(l===Aa.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,l===Aa.MASK&&(s.alphaTest=e.alphaCutoff!==void 0?e.alphaCutoff:.5)),e.normalTexture!==void 0&&o!==Vt&&(c.push(a.assignTexture(s,"normalMap",e.normalTexture)),s.normalScale=new ze(1,1),e.normalTexture.scale!==void 0)){const f=e.normalTexture.scale;s.normalScale.set(f,f)}return e.occlusionTexture!==void 0&&o!==Vt&&(c.push(a.assignTexture(s,"aoMap",e.occlusionTexture)),e.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=e.occlusionTexture.strength)),e.emissiveFactor!==void 0&&o!==Vt&&(s.emissive=new Se().fromArray(e.emissiveFactor)),e.emissiveTexture!==void 0&&o!==Vt&&c.push(a.assignTexture(s,"emissiveMap",e.emissiveTexture,It)),Promise.all(c).then(function(){const f=new o(s);return e.name&&(f.name=e.name),Ht(f,e),a.associations.set(f,{materials:t}),e.extensions&&Jt(n,f,e),f})}createUniqueName(t){const a=hA.sanitizeNodeName(t||"");return a in this.nodeNamesUsed?a+"_"+ ++this.nodeNamesUsed[a]:(this.nodeNamesUsed[a]=0,a)}loadGeometries(t){const a=this,r=this.extensions,n=this.primitiveCache;function e(s){return r[Fe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,a).then(function(A){return Oo(A,s,a)})}const o=[];for(let s=0,A=t.length;s<A;s++){const c=t[s],l=bl(c),f=n[l];if(f)o.push(f.promise);else{let u;c.extensions&&c.extensions[Fe.KHR_DRACO_MESH_COMPRESSION]?u=e(c):u=Oo(new Tr,c,a),n[l]={primitive:c,promise:u},o.push(u)}}return Promise.all(o)}loadMesh(t){const a=this,r=this.json,n=this.extensions,e=r.meshes[t],o=e.primitives,s=[];for(let A=0,c=o.length;A<c;A++){const l=o[A].material===void 0?hl(this.cache):this.getDependency("material",o[A].material);s.push(l)}return s.push(a.loadGeometries(o)),Promise.all(s).then(function(A){const c=A.slice(0,A.length-1),l=A[A.length-1],f=[];for(let d=0,b=l.length;d<b;d++){const C=l[d],m=o[d];let g;const h=c[d];if(m.mode===lt.TRIANGLES||m.mode===lt.TRIANGLE_STRIP||m.mode===lt.TRIANGLE_FAN||m.mode===void 0)g=e.isSkinnedMesh===!0?new pA(C,h):new Qr(C,h),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),m.mode===lt.TRIANGLE_STRIP?g.geometry=Go(g.geometry,Yi):m.mode===lt.TRIANGLE_FAN&&(g.geometry=Go(g.geometry,wa));else if(m.mode===lt.LINES)g=new mA(C,h);else if(m.mode===lt.LINE_STRIP)g=new bA(C,h);else if(m.mode===lt.LINE_LOOP)g=new IA(C,h);else if(m.mode===lt.POINTS)g=new EA(C,h);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(g.geometry.morphAttributes).length>0&&ml(g,e),g.name=a.createUniqueName(e.name||"mesh_"+t),Ht(g,e),m.extensions&&Jt(n,g,m),a.assignFinalMaterial(g),f.push(g)}for(let d=0,b=f.length;d<b;d++)a.associations.set(f[d],{meshes:t,primitives:d});if(f.length===1)return e.extensions&&Jt(n,f[0],e),f[0];const u=new Hn;e.extensions&&Jt(n,u,e),a.associations.set(u,{meshes:t});for(let d=0,b=f.length;d<b;d++)u.add(f[d]);return u})}loadCamera(t){let a;const r=this.json.cameras[t],n=r[r.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?a=new zi(Rr.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):r.type==="orthographic"&&(a=new CA(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(a.name=this.createUniqueName(r.name)),Ht(a,r),Promise.resolve(a)}loadSkin(t){const a=this.json.skins[t],r=[];for(let n=0,e=a.joints.length;n<e;n++)r.push(this._loadNodeShallow(a.joints[n]));return a.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",a.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(n){const e=n.pop(),o=n,s=[],A=[];for(let c=0,l=o.length;c<l;c++){const f=o[c];if(f){s.push(f);const u=new mn;e!==null&&u.fromArray(e.array,c*16),A.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[c])}return new BA(s,A)})}loadAnimation(t){const r=this.json.animations[t],n=r.name?r.name:"animation_"+t,e=[],o=[],s=[],A=[],c=[];for(let l=0,f=r.channels.length;l<f;l++){const u=r.channels[l],d=r.samplers[u.sampler],b=u.target,C=b.node,m=r.parameters!==void 0?r.parameters[d.input]:d.input,g=r.parameters!==void 0?r.parameters[d.output]:d.output;b.node!==void 0&&(e.push(this.getDependency("node",C)),o.push(this.getDependency("accessor",m)),s.push(this.getDependency("accessor",g)),A.push(d),c.push(b))}return Promise.all([Promise.all(e),Promise.all(o),Promise.all(s),Promise.all(A),Promise.all(c)]).then(function(l){const f=l[0],u=l[1],d=l[2],b=l[3],C=l[4],m=[];for(let g=0,h=f.length;g<h;g++){const E=f[g],I=u[g],y=d[g],v=b[g],_=C[g];if(E===void 0)continue;E.updateMatrix();let p;switch(jt[_.path]){case jt.weights:p=RA;break;case jt.rotation:p=xo;break;case jt.position:case jt.scale:default:p=TA;break}const Q=E.name?E.name:E.uuid,w=v.interpolation!==void 0?dl[v.interpolation]:Vi,D=[];jt[_.path]===jt.weights?E.traverse(function(R){R.morphTargetInfluences&&D.push(R.name?R.name:R.uuid)}):D.push(Q);let x=y.array;if(y.normalized){const R=Ma(x.constructor),T=new Float32Array(x.length);for(let j=0,L=x.length;j<L;j++)T[j]=x[j]*R;x=T}for(let R=0,T=D.length;R<T;R++){const j=new p(D[R]+"."+jt[_.path],I.array,x,w);v.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function(K){const z=this instanceof xo?gl:gs;return new z(this.times,this.values,this.getValueSize()/3,K)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(j)}}return new vA(n,void 0,m)})}createNodeMesh(t){const a=this.json,r=this,n=a.nodes[t];return n.mesh===void 0?null:r.getDependency("mesh",n.mesh).then(function(e){const o=r._getNodeRef(r.meshCache,n.mesh,e);return n.weights!==void 0&&o.traverse(function(s){if(s.isMesh)for(let A=0,c=n.weights.length;A<c;A++)s.morphTargetInfluences[A]=n.weights[A]}),o})}loadNode(t){const a=this.json,r=this,n=a.nodes[t],e=r._loadNodeShallow(t),o=[],s=n.children||[];for(let c=0,l=s.length;c<l;c++)o.push(r.getDependency("node",s[c]));const A=n.skin===void 0?Promise.resolve(null):r.getDependency("skin",n.skin);return Promise.all([e,Promise.all(o),A]).then(function(c){const l=c[0],f=c[1],u=c[2];u!==null&&l.traverse(function(d){d.isSkinnedMesh&&d.bind(u,El)});for(let d=0,b=f.length;d<b;d++)l.add(f[d]);return l})}_loadNodeShallow(t){const a=this.json,r=this.extensions,n=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const e=a.nodes[t],o=e.name?n.createUniqueName(e.name):"",s=[],A=n._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(t)});return A&&s.push(A),e.camera!==void 0&&s.push(n.getDependency("camera",e.camera).then(function(c){return n._getNodeRef(n.cameraCache,e.camera,c)})),n._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(t)}).forEach(function(c){s.push(c)}),this.nodeCache[t]=Promise.all(s).then(function(c){let l;if(e.isBone===!0?l=new _A:c.length>1?l=new Hn:c.length===1?l=c[0]:l=new Ja,l!==c[0])for(let f=0,u=c.length;f<u;f++)l.add(c[f]);if(e.name&&(l.userData.name=e.name,l.name=o),Ht(l,e),e.extensions&&Jt(r,l,e),e.matrix!==void 0){const f=new mn;f.fromArray(e.matrix),l.applyMatrix4(f)}else e.translation!==void 0&&l.position.fromArray(e.translation),e.rotation!==void 0&&l.quaternion.fromArray(e.rotation),e.scale!==void 0&&l.scale.fromArray(e.scale);return n.associations.has(l)||n.associations.set(l,{}),n.associations.get(l).nodes=t,l}),this.nodeCache[t]}loadScene(t){const a=this.extensions,r=this.json.scenes[t],n=this,e=new Hn;r.name&&(e.name=n.createUniqueName(r.name)),Ht(e,r),r.extensions&&Jt(a,e,r);const o=r.nodes||[],s=[];for(let A=0,c=o.length;A<c;A++)s.push(n.getDependency("node",o[A]));return Promise.all(s).then(function(A){for(let l=0,f=A.length;l<f;l++)e.add(A[l]);const c=l=>{const f=new Map;for(const[u,d]of n.associations)(u instanceof yr||u instanceof kr)&&f.set(u,d);return l.traverse(u=>{const d=n.associations.get(u);d!=null&&f.set(u,d)}),f};return n.associations=c(e),e})}}function Bl(i,t,a){const r=t.attributes,n=new Zi;if(r.POSITION!==void 0){const s=a.json.accessors[r.POSITION],A=s.min,c=s.max;if(A!==void 0&&c!==void 0){if(n.set(new Pe(A[0],A[1],A[2]),new Pe(c[0],c[1],c[2])),s.normalized){const l=Ma(hn[s.componentType]);n.min.multiplyScalar(l),n.max.multiplyScalar(l)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const e=t.targets;if(e!==void 0){const s=new Pe,A=new Pe;for(let c=0,l=e.length;c<l;c++){const f=e[c];if(f.POSITION!==void 0){const u=a.json.accessors[f.POSITION],d=u.min,b=u.max;if(d!==void 0&&b!==void 0){if(A.setX(Math.max(Math.abs(d[0]),Math.abs(b[0]))),A.setY(Math.max(Math.abs(d[1]),Math.abs(b[1]))),A.setZ(Math.max(Math.abs(d[2]),Math.abs(b[2]))),u.normalized){const C=Ma(hn[u.componentType]);A.multiplyScalar(C)}s.max(A)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(s)}i.boundingBox=n;const o=new es;n.getCenter(o.center),o.radius=n.min.distanceTo(n.max)/2,i.boundingSphere=o}function Oo(i,t,a){const r=t.attributes,n=[];function e(o,s){return a.getDependency("accessor",o).then(function(A){i.setAttribute(s,A)})}for(const o in r){const s=Ra[o]||o.toLowerCase();s in i.attributes||n.push(e(r[o],s))}if(t.indices!==void 0&&!i.index){const o=a.getDependency("accessor",t.indices).then(function(s){i.setIndex(s)});n.push(o)}return Ht(i,t),Bl(i,t,a),Promise.all(n).then(function(){return t.targets!==void 0?pl(i,t.targets,a):i})}class vl{constructor(t=4){this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(t){if(!this.workers[t]){const a=this.workerCreator();a.addEventListener("message",this._onMessage.bind(this,t)),this.workers[t]=a}}_getIdleWorker(){for(let t=0;t<this.pool;t++)if(!(this.workerStatus&1<<t))return t;return-1}_onMessage(t,a){const r=this.workersResolve[t];if(r&&r(a),this.queue.length){const{resolve:n,msg:e,transfer:o}=this.queue.shift();this.workersResolve[t]=n,this.workers[t].postMessage(e,o)}else this.workerStatus^=1<<t}setWorkerCreator(t){this.workerCreator=t}setWorkerLimit(t){this.pool=t}postMessage(t,a){return new Promise(r=>{const n=this._getIdleWorker();n!==-1?(this._initWorker(n),this.workerStatus|=1<<n,this.workersResolve[n]=r,this.workers[n].postMessage(t,a)):this.queue.push({resolve:r,msg:t,transfer:a})})}dispose(){this.workers.forEach(t=>t.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const _l=0,yl=2,Ql=1,wl=2,xl=0,ds=9,Xa=15,hs=16,Za=22,ps=37,eo=43,ms=76,bs=83,Is=97,Es=100,Cs=103,Bs=109;class Sl{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Pn{constructor(t,a,r,n){this._dataView=new DataView(t.buffer,t.byteOffset+a,r),this._littleEndian=n,this._offset=0}_nextUint8(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}_nextUint16(){const t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}_nextUint32(){const t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint64(){const t=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}_nextInt32(){const t=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,t}_skip(t){return this._offset+=t,this}_scan(t,a=0){const r=this._offset;let n=0;for(;this._dataView.getUint8(this._offset)!==a&&n<t;)n++,this._offset++;return n<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,n)}}const et=[171,75,84,88,32,50,48,187,13,10,26,10];function No(i){return typeof TextDecoder<"u"?new TextDecoder().decode(i):Buffer.from(i).toString("utf8")}function Dl(i){const t=new Uint8Array(i.buffer,i.byteOffset,et.length);if(t[0]!==et[0]||t[1]!==et[1]||t[2]!==et[2]||t[3]!==et[3]||t[4]!==et[4]||t[5]!==et[5]||t[6]!==et[6]||t[7]!==et[7]||t[8]!==et[8]||t[9]!==et[9]||t[10]!==et[10]||t[11]!==et[11])throw new Error("Missing KTX 2.0 identifier.");const a=new Sl,r=17*Uint32Array.BYTES_PER_ELEMENT,n=new Pn(i,et.length,r,!0);a.vkFormat=n._nextUint32(),a.typeSize=n._nextUint32(),a.pixelWidth=n._nextUint32(),a.pixelHeight=n._nextUint32(),a.pixelDepth=n._nextUint32(),a.layerCount=n._nextUint32(),a.faceCount=n._nextUint32();const e=n._nextUint32();a.supercompressionScheme=n._nextUint32();const o=n._nextUint32(),s=n._nextUint32(),A=n._nextUint32(),c=n._nextUint32(),l=n._nextUint64(),f=n._nextUint64(),u=new Pn(i,et.length+r,3*e*8,!0);for(let K=0;K<e;K++)a.levels.push({levelData:new Uint8Array(i.buffer,i.byteOffset+u._nextUint64(),u._nextUint64()),uncompressedByteLength:u._nextUint64()});const d=new Pn(i,o,s,!0),b={vendorId:d._skip(4)._nextUint16(),descriptorType:d._nextUint16(),versionNumber:d._nextUint16(),descriptorBlockSize:d._nextUint16(),colorModel:d._nextUint8(),colorPrimaries:d._nextUint8(),transferFunction:d._nextUint8(),flags:d._nextUint8(),texelBlockDimension:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],bytesPlane:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],samples:[]},C=(b.descriptorBlockSize/4-6)/4;for(let K=0;K<C;K++){const z={bitOffset:d._nextUint16(),bitLength:d._nextUint8(),channelType:d._nextUint8(),samplePosition:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&z.channelType?(z.sampleLower=d._nextInt32(),z.sampleUpper=d._nextInt32()):(z.sampleLower=d._nextUint32(),z.sampleUpper=d._nextUint32()),b.samples[K]=z}a.dataFormatDescriptor.length=0,a.dataFormatDescriptor.push(b);const m=new Pn(i,A,c,!0);for(;m._offset<c;){const K=m._nextUint32(),z=m._scan(K),N=No(z),q=m._scan(K-z.byteLength);a.keyValue[N]=N.match(/^ktx/i)?No(q):q,m._offset%4&&m._skip(4-m._offset%4)}if(f<=0)return a;const g=new Pn(i,l,f,!0),h=g._nextUint16(),E=g._nextUint16(),I=g._nextUint32(),y=g._nextUint32(),v=g._nextUint32(),_=g._nextUint32(),p=[];for(let K=0;K<e;K++)p.push({imageFlags:g._nextUint32(),rgbSliceByteOffset:g._nextUint32(),rgbSliceByteLength:g._nextUint32(),alphaSliceByteOffset:g._nextUint32(),alphaSliceByteLength:g._nextUint32()});const Q=l+g._offset,w=Q+I,D=w+y,x=D+v,R=new Uint8Array(i.buffer,i.byteOffset+Q,I),T=new Uint8Array(i.buffer,i.byteOffset+w,y),j=new Uint8Array(i.buffer,i.byteOffset+D,v),L=new Uint8Array(i.buffer,i.byteOffset+x,_);return a.globalData={endpointCount:h,selectorCount:E,imageDescs:p,endpointsData:R,selectorsData:T,tablesData:j,extendedData:L},a}let la,Dt,Ga;const fa={env:{emscripten_notify_memory_growth:function(i){Ga=new Uint8Array(Dt.exports.memory.buffer)}}};class kl{init(){return la||(la=typeof fetch<"u"?fetch("data:application/wasm;base64,"+$o).then(t=>t.arrayBuffer()).then(t=>WebAssembly.instantiate(t,fa)).then(this._init):WebAssembly.instantiate(Buffer.from($o,"base64"),fa).then(this._init),la)}_init(t){Dt=t.instance,fa.env.emscripten_notify_memory_growth(0)}decode(t,a=0){if(!Dt)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=t.byteLength,n=Dt.exports.malloc(r);Ga.set(t,n),a=a||Number(Dt.exports.ZSTD_findDecompressedSize(n,r));const e=Dt.exports.malloc(a),o=Dt.exports.ZSTD_decompress(e,a,n,r),s=Ga.slice(e,e+o);return Dt.exports.free(n),Dt.exports.free(e),s}}const $o="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",ua=new WeakMap;let ga=0,da;class Bt extends Ya{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new vl,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return t.isWebGPURenderer===!0?this.workerConfig={astcSupported:t.hasFeature("texture-compression-astc"),etc1Supported:!1,etc2Supported:t.hasFeature("texture-compression-etc2"),dxtSupported:t.hasFeature("texture-compression-bc"),bptcSupported:!1,pvrtcSupported:!1}:(this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1)),this}init(){if(!this.transcoderPending){const t=new en(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const a=t.loadAsync("basis_transcoder.js"),r=new en(this.manager);r.setPath(this.transcoderPath),r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const n=r.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([a,n]).then(([e,o])=>{const s=Bt.BasisWorker.toString(),A=["/* constants */","let _EngineFormat = "+JSON.stringify(Bt.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Bt.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Bt.BasisFormat),"/* basis_transcoder.js */",e,"/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([A])),this.transcoderBinary=o,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),l=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:l},[l]),c})}),ga>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),ga++}return this.transcoderPending}load(t,a,r,n){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const e=new en(this.manager);e.setResponseType("arraybuffer"),e.setWithCredentials(this.withCredentials),e.load(t,o=>{if(ua.has(o))return ua.get(o).promise.then(a).catch(n);this._createTexture(o).then(s=>a?a(s):null).catch(n)},r,n)}_createTextureFrom(t,a){const{faces:r,width:n,height:e,format:o,type:s,error:A,dfdTransferFn:c,dfdFlags:l}=t;if(s==="error")return Promise.reject(A);let f;if(a.faceCount===6)f=new So,f.image=r,f.format=o,f.type=kt;else{const u=r[0].mipmaps;f=a.layerCount>1?new GA(u,n,e,a.layerCount,o,kt):new So(u,n,e,o,kt)}return f.minFilter=r[0].mipmaps.length===1?bn:Wa,f.magFilter=bn,f.generateMipmaps=!1,f.needsUpdate=!0,f.colorSpace=c===wl?It:ts,f.premultiplyAlpha=!!(l&Ql),f}async _createTexture(t,a={}){const r=Dl(new Uint8Array(t));if(r.vkFormat!==xl){const o=[],s=[];for(let c=0;c<r.levels.length;c++)s.push(Tl(r,c).then(function(l){o[c]=l}));await Promise.all(s);const A=o[0];return A.mipmaps=o.map(c=>({data:c.source.data,width:c.source.data.width,height:c.source.data.height,depth:c.source.data.depth})),A}const n=a,e=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:n},[t])).then(o=>this._createTextureFrom(o.data,r));return ua.set(t,{promise:e}),e}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),ga--,this}}Bt.BasisFormat={ETC1S:0,UASTC_4x4:1};Bt.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};Bt.EngineFormat={RGBAFormat:$n,RGBA_ASTC_4x4_Format:UA,RGBA_BPTC_Format:LA,RGBA_ETC2_EAC_Format:PA,RGBA_PVRTC_4BPPV1_Format:OA,RGBA_S3TC_DXT5_Format:NA,RGB_ETC1_Format:$A,RGB_ETC2_Format:jA,RGB_PVRTC_4BPPV1_Format:zA,RGB_S3TC_DXT1_Format:HA};Bt.BasisWorker=function(){let i,t,a;const r=_EngineFormat,n=_TranscoderFormat,e=_BasisFormat;self.addEventListener("message",function(b){const C=b.data;switch(C.type){case"init":i=C.config,o(C.transcoderBinary);break;case"transcode":t.then(()=>{try{const{faces:m,buffers:g,width:h,height:E,hasAlpha:I,format:y,dfdTransferFn:v,dfdFlags:_}=s(C.buffer);self.postMessage({type:"transcode",id:C.id,faces:m,width:h,height:E,hasAlpha:I,format:y,dfdTransferFn:v,dfdFlags:_},g)}catch(m){console.error(m),self.postMessage({type:"error",id:C.id,error:m.message})}});break}});function o(b){t=new Promise(C=>{a={wasmBinary:b,onRuntimeInitialized:C},BASIS(a)}).then(()=>{a.initializeBasis(),a.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function s(b){const C=new a.KTX2File(new Uint8Array(b));function m(){C.close(),C.delete()}if(!C.isValid())throw m(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const g=C.isUASTC()?e.UASTC_4x4:e.ETC1S,h=C.getWidth(),E=C.getHeight(),I=C.getLayers()||1,y=C.getLevels(),v=C.getFaces(),_=C.getHasAlpha(),p=C.getDFDTransferFunc(),Q=C.getDFDFlags(),{transcoderFormat:w,engineFormat:D}=f(g,h,E,_);if(!h||!E||!y)throw m(),new Error("THREE.KTX2Loader:	Invalid texture");if(!C.startTranscoding())throw m(),new Error("THREE.KTX2Loader: .startTranscoding failed");const x=[],R=[];for(let T=0;T<v;T++){const j=[];for(let L=0;L<y;L++){const K=[];let z,N;for(let M=0;M<I;M++){const Y=C.getImageLevelInfo(L,M,T);T===0&&L===0&&M===0&&(Y.origWidth%4!==0||Y.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),y>1?(z=Y.origWidth,N=Y.origHeight):(z=Y.width,N=Y.height);const oe=new Uint8Array(C.getImageTranscodedSizeInBytes(L,M,0,w));if(!C.transcodeImage(oe,L,M,T,w,0,-1,-1))throw m(),new Error("THREE.KTX2Loader: .transcodeImage failed.");K.push(oe)}const q=d(K);j.push({data:q,width:z,height:N}),R.push(q.buffer)}x.push({mipmaps:j,width:h,height:E,format:D})}return m(),{faces:x,buffers:R,width:h,height:E,hasAlpha:_,format:D,dfdTransferFn:p,dfdFlags:Q}}const A=[{if:"astcSupported",basisFormat:[e.UASTC_4x4],transcoderFormat:[n.ASTC_4x4,n.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[e.ETC1S,e.UASTC_4x4],transcoderFormat:[n.BC7_M5,n.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[e.ETC1S,e.UASTC_4x4],transcoderFormat:[n.BC1,n.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[e.ETC1S,e.UASTC_4x4],transcoderFormat:[n.ETC1,n.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[e.ETC1S,e.UASTC_4x4],transcoderFormat:[n.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[e.ETC1S,e.UASTC_4x4],transcoderFormat:[n.PVRTC1_4_RGB,n.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=A.sort(function(b,C){return b.priorityETC1S-C.priorityETC1S}),l=A.sort(function(b,C){return b.priorityUASTC-C.priorityUASTC});function f(b,C,m,g){let h,E;const I=b===e.ETC1S?c:l;for(let y=0;y<I.length;y++){const v=I[y];if(i[v.if]&&v.basisFormat.includes(b)&&!(g&&v.transcoderFormat.length<2)&&!(v.needsPowerOfTwo&&!(u(C)&&u(m))))return h=v.transcoderFormat[g?1:0],E=v.engineFormat[g?1:0],{transcoderFormat:h,engineFormat:E}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=n.RGBA32,E=r.RGBAFormat,{transcoderFormat:h,engineFormat:E}}function u(b){return b<=2?!0:(b&b-1)===0&&b!==0}function d(b){if(b.length===1)return b[0];let C=0;for(let h=0;h<b.length;h++){const E=b[h];C+=E.byteLength}const m=new Uint8Array(C);let g=0;for(let h=0;h<b.length;h++){const E=b[h];m.set(E,g),g+=E.byteLength}return m}};const jo={[Bs]:$n,[Is]:$n,[ps]:$n,[eo]:$n,[Cs]:Er,[bs]:Er,[hs]:Er,[Za]:Er,[Es]:Cr,[ms]:Cr,[Xa]:Cr,[ds]:Cr},ha={[Bs]:wr,[Is]:xr,[ps]:kt,[eo]:kt,[Cs]:wr,[bs]:xr,[hs]:kt,[Za]:kt,[Es]:wr,[ms]:xr,[Xa]:kt,[ds]:kt},Fl={[eo]:It,[Za]:It,[Xa]:It};async function Tl(i,t=0){const{vkFormat:a}=i,r=Math.max(1,i.pixelWidth>>t),n=Math.max(1,i.pixelHeight>>t),e=Math.max(1,i.pixelDepth>>t);if(jo[a]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const o=i.levels[t];let s,A;if(i.supercompressionScheme===_l)s=o.levelData;else if(i.supercompressionScheme===yl)da||(da=new Promise(async l=>{const f=new kl;await f.init(),l(f)})),s=(await da).decode(o.levelData,o.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");ha[a]===wr?A=new Float32Array(s.buffer,s.byteOffset,s.byteLength/Float32Array.BYTES_PER_ELEMENT):ha[a]===xr?A=new Uint16Array(s.buffer,s.byteOffset,s.byteLength/Uint16Array.BYTES_PER_ELEMENT):A=s;const c=e===0?new qA(A,r,n):new KA(A,r,n,e);return c.type=ha[a],c.format=jo[a],c.colorSpace=Fl[a]||ts,c.needsUpdate=!0,Promise.resolve(c)}const Rl=i=>{const t={nodes:{},materials:{}};return i&&i.traverse(a=>{a.name&&(t.nodes[a.name]=a),a.material&&!t.materials[a.material.name]&&(t.materials[a.material.name]=a.material)}),t};function vs(i,t){const{renderer:a}=Gt(),r=typeof i=="string"?t:i,n=fs(zc,{extend(s){if(r?.useDraco){const A=typeof r.useDraco=="string"?r.useDraco:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/",c=new $c().setDecoderPath(A);s.setDRACOLoader(c)}if(r?.useMeshopt&&s.setMeshoptDecoder(Nc),r?.ktxTranscoderPath&&a){const A=new Bt;A.setTranscoderPath(r?.ktxTranscoderPath),A.detectSupport(a),s.setKTX2Loader(A)}}}),e=s=>n.load(s,{transform(A){return{...A,...Rl(A.scene)}}}),o=typeof i=="string"?i:void 0;return o?e(o):{load:e}}const _s=(i,t)=>fs(Ji,t).load(i),Ml=i=>({ref:i&32768}),zo=i=>({ref:i[15]});function Gl(i){let t;const a=i[11].default,r=yt(a,i,i[12],zo);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&36864)&&Qt(r,a,n,n[12],t?xt(a,n[12],e,Ml):wt(n[12]),zo)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function Ul(i){let t,a;const r=[{position:i[0]},{rotation:i[1]},i[2]];let n={$$slots:{default:[Gl,({ref:e})=>({15:e}),({ref:e})=>e?32768:0]},$$scope:{ctx:i}};for(let e=0;e<r.length;e+=1)n=nt(n,r[e]);return t=new le.Group({props:n}),{c(){V(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,o){Z(t,e,o),a=!0},p(e,[o]){const s=o&7?er(r,[o&1&&{position:e[0]},o&2&&{rotation:e[1]},o&4&&tr(e[2])]):{};o&36864&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){ee(t,e)}}}function Ll(i,t,a){const r=["position","rotation","speed","floatIntensity","floatingRange","rotationSpeed","rotationIntensity","seed"];let n=vt(t,r),{$$slots:e={},$$scope:o}=t,{position:s=0}=t,{rotation:A=0}=t,{speed:c=1}=t,{floatIntensity:l=1}=t,{floatingRange:f=[-.1,.1]}=t,{rotationSpeed:u=0}=t,{rotationIntensity:d=0}=t,{seed:b=Math.random()*1e4}=t,C=b,m=Array.isArray(s)?s:[s,s,s];const g=Rr.mapLinear;let h=Array.isArray(A)?A:[A,A,A];return Yt((E,I)=>{C+=I;const y=Array.isArray(c)?c:[c,c,c],v=Array.isArray(l)?l:[l,l,l],_=f.length==3?f:[[0,0],f,[0,0]];a(0,m=Array.isArray(s)?s:[s,s,s]),a(0,m[0]=m[0]+g(Math.sin(C/4*y[0])/10,-.1,.1,..._[0])*v[0],m),a(0,m[1]=m[1]+g(Math.sin(C/4*y[1])/10,-.1,.1,..._[1])*v[1],m),a(0,m[2]=m[2]+g(Math.sin(C/4*y[2])/10,-.1,.1,..._[2])*v[2],m),a(0,m);const p=Array.isArray(u)?u:[u,u,u],Q=Array.isArray(d)?d:[d,d,d];a(1,h=Array.isArray(A)?A:[A,A,A]),a(1,h[0]+=Math.cos(C/4*p[0])/8*Q[0],h),a(1,h[1]+=Math.cos(C/4*p[1])/8*Q[1],h),a(1,h[2]+=Math.cos(C/4*p[2])/8*Q[2],h)},{debugFrameloopMessage:"Float: framehandler"}),i.$$set=E=>{t=nt(nt({},t),Wn(E)),a(2,n=vt(t,r)),"position"in E&&a(3,s=E.position),"rotation"in E&&a(4,A=E.rotation),"speed"in E&&a(5,c=E.speed),"floatIntensity"in E&&a(6,l=E.floatIntensity),"floatingRange"in E&&a(7,f=E.floatingRange),"rotationSpeed"in E&&a(8,u=E.rotationSpeed),"rotationIntensity"in E&&a(9,d=E.rotationIntensity),"seed"in E&&a(10,b=E.seed),"$$scope"in E&&a(12,o=E.$$scope)},[m,h,n,s,A,c,l,f,u,d,b,e,o]}class jn extends Ve{constructor(t){super(),Xe(this,t,Ll,Ul,We,{position:3,rotation:4,speed:5,floatIntensity:6,floatingRange:7,rotationSpeed:8,rotationIntensity:9,seed:10})}}const Pl=()=>Oc("threlte-controls",{orbitControls:ft(void 0)}),Ho={type:"change"},pa={type:"start"},qo={type:"end"};let Ol=class extends YA{constructor(t,a){super(),this.object=t,this.domElement=a,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Pe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:ln.ROTATE,MIDDLE:ln.DOLLY,RIGHT:ln.PAN},this.touches={ONE:fn.ROTATE,TWO:fn.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(F){F.addEventListener("keydown",ce),this._domElementKeyEvents=F},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ce),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(Ho),r.update(),e=n.NONE},this.update=function(){const F=new Pe,ie=new Dr().setFromUnitVectors(t.up,new Pe(0,1,0)),_e=ie.clone().invert(),Qe=new Pe,ke=new Dr,Me=new Pe,Ee=2*Math.PI;return function(){const Re=r.object.position;F.copy(Re).sub(r.target),F.applyQuaternion(ie),s.setFromVector3(F),r.autoRotate&&e===n.NONE&&Q(_()),r.enableDamping?(s.theta+=A.theta*r.dampingFactor,s.phi+=A.phi*r.dampingFactor):(s.theta+=A.theta,s.phi+=A.phi);let we=r.minAzimuthAngle,Oe=r.maxAzimuthAngle;return isFinite(we)&&isFinite(Oe)&&(we<-Math.PI?we+=Ee:we>Math.PI&&(we-=Ee),Oe<-Math.PI?Oe+=Ee:Oe>Math.PI&&(Oe-=Ee),we<=Oe?s.theta=Math.max(we,Math.min(Oe,s.theta)):s.theta=s.theta>(we+Oe)/2?Math.max(we,s.theta):Math.min(Oe,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=c,s.radius=Math.max(r.minDistance,Math.min(r.maxDistance,s.radius)),r.enableDamping===!0?r.target.addScaledVector(l,r.dampingFactor):r.target.add(l),F.setFromSpherical(s),F.applyQuaternion(_e),Re.copy(r.target).add(F),r.object.lookAt(r.target),r.enableDamping===!0?(A.theta*=1-r.dampingFactor,A.phi*=1-r.dampingFactor,l.multiplyScalar(1-r.dampingFactor)):(A.set(0,0,0),l.set(0,0,0)),c=1,f||Qe.distanceToSquared(r.object.position)>o||8*(1-ke.dot(r.object.quaternion))>o||Me.distanceToSquared(r.target)>0?(r.dispatchEvent(Ho),Qe.copy(r.object.position),ke.copy(r.object.quaternion),Me.copy(r.target),f=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",fe),r.domElement.removeEventListener("pointerdown",W),r.domElement.removeEventListener("pointercancel",Ae),r.domElement.removeEventListener("wheel",ue),r.domElement.removeEventListener("pointermove",re),r.domElement.removeEventListener("pointerup",Ae),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",ce),r._domElementKeyEvents=null)};const r=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let e=n.NONE;const o=1e-6,s=new Do,A=new Do;let c=1;const l=new Pe;let f=!1;const u=new ze,d=new ze,b=new ze,C=new ze,m=new ze,g=new ze,h=new ze,E=new ze,I=new ze,y=[],v={};function _(){return 2*Math.PI/60/60*r.autoRotateSpeed}function p(){return Math.pow(.95,r.zoomSpeed)}function Q(F){A.theta-=F}function w(F){A.phi-=F}const D=function(){const F=new Pe;return function(_e,Qe){F.setFromMatrixColumn(Qe,0),F.multiplyScalar(-_e),l.add(F)}}(),x=function(){const F=new Pe;return function(_e,Qe){r.screenSpacePanning===!0?F.setFromMatrixColumn(Qe,1):(F.setFromMatrixColumn(Qe,0),F.crossVectors(r.object.up,F)),F.multiplyScalar(_e),l.add(F)}}(),R=function(){const F=new Pe;return function(_e,Qe){const ke=r.domElement;if(r.object.isPerspectiveCamera){const Me=r.object.position;F.copy(Me).sub(r.target);let Ee=F.length();Ee*=Math.tan(r.object.fov/2*Math.PI/180),D(2*_e*Ee/ke.clientHeight,r.object.matrix),x(2*Qe*Ee/ke.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(D(_e*(r.object.right-r.object.left)/r.object.zoom/ke.clientWidth,r.object.matrix),x(Qe*(r.object.top-r.object.bottom)/r.object.zoom/ke.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function T(F){r.object.isPerspectiveCamera?c/=F:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*F)),r.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(F){r.object.isPerspectiveCamera?c*=F:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/F)),r.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function L(F){u.set(F.clientX,F.clientY)}function K(F){h.set(F.clientX,F.clientY)}function z(F){C.set(F.clientX,F.clientY)}function N(F){d.set(F.clientX,F.clientY),b.subVectors(d,u).multiplyScalar(r.rotateSpeed);const ie=r.domElement;Q(2*Math.PI*b.x/ie.clientHeight),w(2*Math.PI*b.y/ie.clientHeight),u.copy(d),r.update()}function q(F){E.set(F.clientX,F.clientY),I.subVectors(E,h),I.y>0?T(p()):I.y<0&&j(p()),h.copy(E),r.update()}function M(F){m.set(F.clientX,F.clientY),g.subVectors(m,C).multiplyScalar(r.panSpeed),R(g.x,g.y),C.copy(m),r.update()}function Y(F){F.deltaY<0?j(p()):F.deltaY>0&&T(p()),r.update()}function oe(F){let ie=!1;switch(F.code){case r.keys.UP:F.ctrlKey||F.metaKey||F.shiftKey?w(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):R(0,r.keyPanSpeed),ie=!0;break;case r.keys.BOTTOM:F.ctrlKey||F.metaKey||F.shiftKey?w(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):R(0,-r.keyPanSpeed),ie=!0;break;case r.keys.LEFT:F.ctrlKey||F.metaKey||F.shiftKey?Q(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):R(r.keyPanSpeed,0),ie=!0;break;case r.keys.RIGHT:F.ctrlKey||F.metaKey||F.shiftKey?Q(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):R(-r.keyPanSpeed,0),ie=!0;break}ie&&(F.preventDefault(),r.update())}function ae(){if(y.length===1)u.set(y[0].pageX,y[0].pageY);else{const F=.5*(y[0].pageX+y[1].pageX),ie=.5*(y[0].pageY+y[1].pageY);u.set(F,ie)}}function te(){if(y.length===1)C.set(y[0].pageX,y[0].pageY);else{const F=.5*(y[0].pageX+y[1].pageX),ie=.5*(y[0].pageY+y[1].pageY);C.set(F,ie)}}function se(){const F=y[0].pageX-y[1].pageX,ie=y[0].pageY-y[1].pageY,_e=Math.sqrt(F*F+ie*ie);h.set(0,_e)}function $(){r.enableZoom&&se(),r.enablePan&&te()}function U(){r.enableZoom&&se(),r.enableRotate&&ae()}function B(F){if(y.length==1)d.set(F.pageX,F.pageY);else{const _e=De(F),Qe=.5*(F.pageX+_e.x),ke=.5*(F.pageY+_e.y);d.set(Qe,ke)}b.subVectors(d,u).multiplyScalar(r.rotateSpeed);const ie=r.domElement;Q(2*Math.PI*b.x/ie.clientHeight),w(2*Math.PI*b.y/ie.clientHeight),u.copy(d)}function S(F){if(y.length===1)m.set(F.pageX,F.pageY);else{const ie=De(F),_e=.5*(F.pageX+ie.x),Qe=.5*(F.pageY+ie.y);m.set(_e,Qe)}g.subVectors(m,C).multiplyScalar(r.panSpeed),R(g.x,g.y),C.copy(m)}function k(F){const ie=De(F),_e=F.pageX-ie.x,Qe=F.pageY-ie.y,ke=Math.sqrt(_e*_e+Qe*Qe);E.set(0,ke),I.set(0,Math.pow(E.y/h.y,r.zoomSpeed)),T(I.y),h.copy(E)}function G(F){r.enableZoom&&k(F),r.enablePan&&S(F)}function H(F){r.enableZoom&&k(F),r.enableRotate&&B(F)}function W(F){r.enabled!==!1&&(y.length===0&&(r.domElement.setPointerCapture(F.pointerId),r.domElement.addEventListener("pointermove",re),r.domElement.addEventListener("pointerup",Ae)),de(F),F.pointerType==="touch"?J(F):he(F))}function re(F){r.enabled!==!1&&(F.pointerType==="touch"?be(F):ne(F))}function Ae(F){ge(F),y.length===0&&(r.domElement.releasePointerCapture(F.pointerId),r.domElement.removeEventListener("pointermove",re),r.domElement.removeEventListener("pointerup",Ae)),r.dispatchEvent(qo),e=n.NONE}function he(F){let ie;switch(F.button){case 0:ie=r.mouseButtons.LEFT;break;case 1:ie=r.mouseButtons.MIDDLE;break;case 2:ie=r.mouseButtons.RIGHT;break;default:ie=-1}switch(ie){case ln.DOLLY:if(r.enableZoom===!1)return;K(F),e=n.DOLLY;break;case ln.ROTATE:if(F.ctrlKey||F.metaKey||F.shiftKey){if(r.enablePan===!1)return;z(F),e=n.PAN}else{if(r.enableRotate===!1)return;L(F),e=n.ROTATE}break;case ln.PAN:if(F.ctrlKey||F.metaKey||F.shiftKey){if(r.enableRotate===!1)return;L(F),e=n.ROTATE}else{if(r.enablePan===!1)return;z(F),e=n.PAN}break;default:e=n.NONE}e!==n.NONE&&r.dispatchEvent(pa)}function ne(F){switch(e){case n.ROTATE:if(r.enableRotate===!1)return;N(F);break;case n.DOLLY:if(r.enableZoom===!1)return;q(F);break;case n.PAN:if(r.enablePan===!1)return;M(F);break}}function ue(F){r.enabled===!1||r.enableZoom===!1||e!==n.NONE||(F.preventDefault(),r.dispatchEvent(pa),Y(F),r.dispatchEvent(qo))}function ce(F){r.enabled===!1||r.enablePan===!1||oe(F)}function J(F){switch(xe(F),y.length){case 1:switch(r.touches.ONE){case fn.ROTATE:if(r.enableRotate===!1)return;ae(),e=n.TOUCH_ROTATE;break;case fn.PAN:if(r.enablePan===!1)return;te(),e=n.TOUCH_PAN;break;default:e=n.NONE}break;case 2:switch(r.touches.TWO){case fn.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$(),e=n.TOUCH_DOLLY_PAN;break;case fn.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;U(),e=n.TOUCH_DOLLY_ROTATE;break;default:e=n.NONE}break;default:e=n.NONE}e!==n.NONE&&r.dispatchEvent(pa)}function be(F){switch(xe(F),e){case n.TOUCH_ROTATE:if(r.enableRotate===!1)return;B(F),r.update();break;case n.TOUCH_PAN:if(r.enablePan===!1)return;S(F),r.update();break;case n.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;G(F),r.update();break;case n.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;H(F),r.update();break;default:e=n.NONE}}function fe(F){r.enabled!==!1&&F.preventDefault()}function de(F){y.push(F)}function ge(F){delete v[F.pointerId];for(let ie=0;ie<y.length;ie++)if(y[ie].pointerId==F.pointerId){y.splice(ie,1);return}}function xe(F){let ie=v[F.pointerId];ie===void 0&&(ie=new ze,v[F.pointerId]=ie),ie.set(F.pageX,F.pageY)}function De(F){const ie=F.pointerId===y[0].pointerId?y[1]:y[0];return v[ie.pointerId]}r.domElement.addEventListener("contextmenu",fe),r.domElement.addEventListener("pointerdown",W),r.domElement.addEventListener("pointercancel",Ae),r.domElement.addEventListener("wheel",ue,{passive:!1}),this.update()}};const Nl=i=>({ref:i&1}),Ko=i=>({ref:i[0]});function $l(i){let t;const a=i[7].default,r=yt(a,i,i[10],Ko);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&1025)&&Qt(r,a,n,n[10],t?xt(a,n[10],e,Nl):wt(n[10]),Ko)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function jl(i){let t,a;const r=[{is:i[0]},i[6]];let n={$$slots:{default:[$l,({ref:e})=>({0:e}),({ref:e})=>e?1:0]},$$scope:{ctx:i}};for(let e=0;e<r.length;e+=1)n=nt(n,r[e]);return t=new le({props:n}),i[8](t),t.$on("change",i[3]),t.$on("create",i[9]),{c(){V(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,o){Z(t,e,o),a=!0},p(e,[o]){const s=o&65?er(r,[o&1&&{is:e[0]},o&64&&tr(e[6])]):{};o&1025&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){i[8](null),ee(t,e)}}}function zl(i,t,a){const r=["ref"];let n=vt(t,r),e,o,{$$slots:s={},$$scope:A}=t;const c=JA();ye(i,c,E=>a(11,e=E));const{renderer:l,invalidate:f}=Gt();if(!l)throw new Error("Threlte Context missing: Is <OrbitControls> a child of <Canvas>?");if(!(e instanceof WA))throw new Error("Parent missing: <OrbitControls> need to be a child of a <Camera>");const u=new Ol(e,l.domElement),{start:d,stop:b}=Yt(()=>u.update(),{autostart:!1,debugFrameloopMessage:"OrbitControls: updating controls"}),C=Gr();ye(i,C,E=>a(1,o=E));const{orbitControls:m}=Pl();function g(E){Kt[E?"unshift":"push"](()=>{o=E,C.set(o)})}const h=({ref:E,cleanup:I})=>{m.set(E),I(()=>{m.set(void 0)})};return i.$$set=E=>{t=nt(nt({},t),Wn(E)),a(6,n=vt(t,r)),"$$scope"in E&&a(10,A=E.$$scope)},i.$$.update=()=>{n.autoRotate||n.enableDamping?d():b()},[u,o,c,f,C,m,n,s,g,h,A]}class ys extends Ve{constructor(t){super(),Xe(this,t,zl,jl,We,{ref:0})}get ref(){return this.$$.ctx[0]}}function to(){var i=0,t=[],a,r=0,n=0;function e(g,h){var E=to();function I(){var y=i>0?g:h;if(C(y))try{var v=y(a);v===E&&b();var _=u(v);_?_.call(v,E.resolve,E.reject):E.resolve(v)}catch(p){E.reject(p)}else E[i>0?"resolve":"reject"](a)}return t.push(I),i&&c(),E}var o=d(function(g){n||A(1,g)}),s=d(function(g){n||A(-1,g)});function A(g,h){n++;var E=0;try{h===m&&b();var I=g>0&&u(h);I?I.call(h,d(function(y){E++,A(1,y)}),d(function(y){E++,A(-1,y)})):(i=g,a=h,c())}catch(y){!i&&!E&&A(-1,y)}}function c(){r||(setTimeout(l,0),r=1)}function l(){var g=t;r=0,t=[],g.forEach(f)}function f(g){g()}function u(g){var h=g&&(C(g)||typeof g=="object")&&g.then;return C(h)&&h}function d(g){var h=0;return function(){for(var E=[],I=arguments.length;I--;)E[I]=arguments[I];h++||g.apply(this,E)}}function b(){throw new TypeError("Chaining cycle detected")}var C=function(g){return typeof g=="function"},m={then:e,resolve:o,reject:s};return m}function Qs(){var i,t,a=new Promise(function(r,n){i=r,t=n});return{then:a.then.bind(a),resolve:i,reject:t}}to.all=Qs.all=function(i){var t=0,a=[],r=Rt();return i.length===0?r.resolve([]):i.forEach(function(n,e){var o=Rt();o.resolve(n),o.then(function(s){t++,a[e]=s,t===i.length&&r.resolve(a)},r.reject)}),r};var Rt=typeof Promise=="function"?Qs:to;function Hl(){var i=Object.create(null);function t(n,e){var o=n.id,s=n.name,A=n.dependencies;A===void 0&&(A=[]);var c=n.init;c===void 0&&(c=function(){});var l=n.getTransferables;if(l===void 0&&(l=null),!i[o])try{A=A.map(function(u){return u&&u.isWorkerModule&&(t(u,function(d){if(d instanceof Error)throw d}),u=i[u.id].value),u}),c=r("<"+s+">.init",c),l&&(l=r("<"+s+">.getTransferables",l));var f=null;typeof c=="function"?f=c.apply(void 0,A):console.error("worker module init function failed to rehydrate"),i[o]={id:o,value:f,getTransferables:l},e(f)}catch(u){u&&u.noLog||console.error(u),e(u)}}function a(n,e){var o,s=n.id,A=n.args;(!i[s]||typeof i[s].value!="function")&&e(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var c=(o=i[s]).value.apply(o,A);c&&typeof c.then=="function"?c.then(l,function(f){return e(f instanceof Error?f:new Error(""+f))}):l(c)}catch(f){e(f)}function l(f){try{var u=i[s].getTransferables&&i[s].getTransferables(f);(!u||!Array.isArray(u)||!u.length)&&(u=void 0),e(f,u)}catch(d){console.error(d),e(d)}}}function r(n,e){var o=void 0;self.troikaDefine=function(A){return o=A};var s=URL.createObjectURL(new Blob(["/** "+n.replace(/\*/g,"")+` **/

troikaDefine(
`+e+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(A){console.error(A)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(n){var e=n.data,o=e.messageId,s=e.action,A=e.data;try{s==="registerModule"&&t(A,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),s==="callModule"&&a(A,function(c,l){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},l||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function ql(i){var t=function(){for(var a=[],r=arguments.length;r--;)a[r]=arguments[r];return t._getInitResult().then(function(n){if(typeof n=="function")return n.apply(void 0,a);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var a=i.dependencies,r=i.init;a=Array.isArray(a)?a.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var n=Rt.all(a).then(function(e){return r.apply(null,e)});return t._getInitResult=function(){return n},n},t}var ws=function(){var i=!1;if(typeof window<"u"&&typeof window.document<"u")try{var t=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));t.terminate(),i=!0}catch(a){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+a.message+"]")}return ws=function(){return i},i},Kl=0,Yl=0,ma=!1,qn=Object.create(null),Kn=Object.create(null),Ua=Object.create(null);function En(i){if((!i||typeof i.init!="function")&&!ma)throw new Error("requires `options.init` function");var t=i.dependencies,a=i.init,r=i.getTransferables,n=i.workerId;if(!ws())return ql(i);n==null&&(n="#default");var e="workerModule"+ ++Kl,o=i.name||e,s=null;t=t&&t.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(ma=!0,c=En({workerId:n,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+Sr(c)+`
)}`}),ma=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function A(){for(var c=[],l=arguments.length;l--;)c[l]=arguments[l];if(!s){s=Yo(n,"registerModule",A.workerModuleData);var f=function(){s=null,Kn[n].delete(f)};(Kn[n]||(Kn[n]=new Set)).add(f)}return s.then(function(u){var d=u.isCallable;if(d)return Yo(n,"callModule",{id:e,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return A.workerModuleData={isWorkerModule:!0,id:e,name:o,dependencies:t,init:Sr(a),getTransferables:r&&Sr(r)},A}function Jl(i){Kn[i]&&Kn[i].forEach(function(t){t()}),qn[i]&&(qn[i].terminate(),delete qn[i])}function Sr(i){var t=i.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function Wl(i){var t=qn[i];if(!t){var a=Sr(Hl);t=qn[i]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+i.replace(/\*/g,"")+` **/

;(`+a+")()"],{type:"application/javascript"}))),t.onmessage=function(r){var n=r.data,e=n.messageId,o=Ua[e];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete Ua[e],o(n)}}return t}function Yo(i,t,a){var r=Rt(),n=++Yl;return Ua[n]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},Wl(i).postMessage({messageId:n,action:t,data:a}),r}var Vl=En({name:"Thenable",dependencies:[Rt],init:function(i){return i}});function xs(){var i=function(t){function a(N,q,M,Y,oe,ae,te,se){var $=1-te;se.x=$*$*N+2*$*te*M+te*te*oe,se.y=$*$*q+2*$*te*Y+te*te*ae}function r(N,q,M,Y,oe,ae,te,se,$,U){var B=1-$;U.x=B*B*B*N+3*B*B*$*M+3*B*$*$*oe+$*$*$*te,U.y=B*B*B*q+3*B*B*$*Y+3*B*$*$*ae+$*$*$*se}function n(N,q){for(var M=/([MLQCZ])([^MLQCZ]*)/g,Y,oe,ae,te,se;Y=M.exec(N);){var $=Y[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(U){return parseFloat(U)});switch(Y[1]){case"M":te=oe=$[0],se=ae=$[1];break;case"L":($[0]!==te||$[1]!==se)&&q("L",te,se,te=$[0],se=$[1]);break;case"Q":{q("Q",te,se,te=$[2],se=$[3],$[0],$[1]);break}case"C":{q("C",te,se,te=$[4],se=$[5],$[0],$[1],$[2],$[3]);break}case"Z":(te!==oe||se!==ae)&&q("L",te,se,oe,ae);break}}}function e(N,q,M){M===void 0&&(M=16);var Y={x:0,y:0};n(N,function(oe,ae,te,se,$,U,B,S,k){switch(oe){case"L":q(ae,te,se,$);break;case"Q":{for(var G=ae,H=te,W=1;W<M;W++)a(ae,te,U,B,se,$,W/(M-1),Y),q(G,H,Y.x,Y.y),G=Y.x,H=Y.y;break}case"C":{for(var re=ae,Ae=te,he=1;he<M;he++)r(ae,te,U,B,S,k,se,$,he/(M-1),Y),q(re,Ae,Y.x,Y.y),re=Y.x,Ae=Y.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",A=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function l(N,q){var M=N.getContext?N.getContext("webgl",c):N,Y=A.get(M);if(!Y){let B=function(re){var Ae=ae[re];if(!Ae&&(Ae=ae[re]=M.getExtension(re),!Ae))throw new Error(re+" not supported");return Ae},S=function(re,Ae){var he=M.createShader(Ae);return M.shaderSource(he,re),M.compileShader(he),he},k=function(re,Ae,he,ne){if(!te[re]){var ue={},ce={},J=M.createProgram();M.attachShader(J,S(Ae,M.VERTEX_SHADER)),M.attachShader(J,S(he,M.FRAGMENT_SHADER)),M.linkProgram(J),te[re]={program:J,transaction:function(fe){M.useProgram(J),fe({setUniform:function(ge,xe){for(var De=[],F=arguments.length-2;F-- >0;)De[F]=arguments[F+2];var ie=ce[xe]||(ce[xe]=M.getUniformLocation(J,xe));M["uniform"+ge].apply(M,[ie].concat(De))},setAttribute:function(ge,xe,De,F,ie){var _e=ue[ge];_e||(_e=ue[ge]={buf:M.createBuffer(),loc:M.getAttribLocation(J,ge),data:null}),M.bindBuffer(M.ARRAY_BUFFER,_e.buf),M.vertexAttribPointer(_e.loc,xe,M.FLOAT,!1,0,0),M.enableVertexAttribArray(_e.loc),oe?M.vertexAttribDivisor(_e.loc,F):B("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(_e.loc,F),ie!==_e.data&&(M.bufferData(M.ARRAY_BUFFER,ie,De),_e.data=ie)}})}}}te[re].transaction(ne)},G=function(re,Ae){$++;try{M.activeTexture(M.TEXTURE0+$);var he=se[re];he||(he=se[re]=M.createTexture(),M.bindTexture(M.TEXTURE_2D,he),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST)),M.bindTexture(M.TEXTURE_2D,he),Ae(he,$)}finally{$--}},H=function(re,Ae,he){var ne=M.createFramebuffer();U.push(ne),M.bindFramebuffer(M.FRAMEBUFFER,ne),M.activeTexture(M.TEXTURE0+Ae),M.bindTexture(M.TEXTURE_2D,re),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,re,0);try{he(ne)}finally{M.deleteFramebuffer(ne),M.bindFramebuffer(M.FRAMEBUFFER,U[--U.length-1]||null)}},W=function(){ae={},te={},se={},$=-1,U.length=0};var oe=typeof WebGL2RenderingContext<"u"&&M instanceof WebGL2RenderingContext,ae={},te={},se={},$=-1,U=[];M.canvas.addEventListener("webglcontextlost",function(re){W(),re.preventDefault()},!1),A.set(M,Y={gl:M,isWebGL2:oe,getExtension:B,withProgram:k,withTexture:G,withTextureFramebuffer:H,handleContextLoss:W})}q(Y)}function f(N,q,M,Y,oe,ae,te,se){te===void 0&&(te=15),se===void 0&&(se=null),l(N,function($){var U=$.gl,B=$.withProgram,S=$.withTexture;S("copy",function(k,G){U.texImage2D(U.TEXTURE_2D,0,U.RGBA,oe,ae,0,U.RGBA,U.UNSIGNED_BYTE,q),B("copy",o,s,function(H){var W=H.setUniform,re=H.setAttribute;re("aUV",2,U.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),W("1i","image",G),U.bindFramebuffer(U.FRAMEBUFFER,se||null),U.disable(U.BLEND),U.colorMask(te&8,te&4,te&2,te&1),U.viewport(M,Y,oe,ae),U.scissor(M,Y,oe,ae),U.drawArrays(U.TRIANGLES,0,3)})})})}function u(N,q,M){var Y=N.width,oe=N.height;l(N,function(ae){var te=ae.gl,se=new Uint8Array(Y*oe*4);te.readPixels(0,0,Y,oe,te.RGBA,te.UNSIGNED_BYTE,se),N.width=q,N.height=M,f(te,se,0,0,Y,oe)})}var d=Object.freeze({__proto__:null,withWebGLContext:l,renderImageData:f,resizeWebGLCanvasWithoutClearing:u});function b(N,q,M,Y,oe,ae){ae===void 0&&(ae=1);var te=new Uint8Array(N*q),se=Y[2]-Y[0],$=Y[3]-Y[1],U=[];e(M,function(re,Ae,he,ne){U.push({x1:re,y1:Ae,x2:he,y2:ne,minX:Math.min(re,he),minY:Math.min(Ae,ne),maxX:Math.max(re,he),maxY:Math.max(Ae,ne)})}),U.sort(function(re,Ae){return re.maxX-Ae.maxX});for(var B=0;B<N;B++)for(var S=0;S<q;S++){var k=H(Y[0]+se*(B+.5)/N,Y[1]+$*(S+.5)/q),G=Math.pow(1-Math.abs(k)/oe,ae)/2;k<0&&(G=1-G),G=Math.max(0,Math.min(255,Math.round(G*255))),te[S*N+B]=G}return te;function H(re,Ae){for(var he=1/0,ne=1/0,ue=U.length;ue--;){var ce=U[ue];if(ce.maxX+ne<=re)break;if(re+ne>ce.minX&&Ae-ne<ce.maxY&&Ae+ne>ce.minY){var J=g(re,Ae,ce.x1,ce.y1,ce.x2,ce.y2);J<he&&(he=J,ne=Math.sqrt(he))}}return W(re,Ae)&&(ne=-ne),ne}function W(re,Ae){for(var he=0,ne=U.length;ne--;){var ue=U[ne];if(ue.maxX<=re)break;var ce=ue.y1>Ae!=ue.y2>Ae&&re<(ue.x2-ue.x1)*(Ae-ue.y1)/(ue.y2-ue.y1)+ue.x1;ce&&(he+=ue.y1<ue.y2?1:-1)}return he!==0}}function C(N,q,M,Y,oe,ae,te,se,$,U){ae===void 0&&(ae=1),se===void 0&&(se=0),$===void 0&&($=0),U===void 0&&(U=0),m(N,q,M,Y,oe,ae,te,null,se,$,U)}function m(N,q,M,Y,oe,ae,te,se,$,U,B){ae===void 0&&(ae=1),$===void 0&&($=0),U===void 0&&(U=0),B===void 0&&(B=0);for(var S=b(N,q,M,Y,oe,ae),k=new Uint8Array(S.length*4),G=0;G<S.length;G++)k[G*4+B]=S[G];f(te,k,$,U,N,q,1<<3-B,se)}function g(N,q,M,Y,oe,ae){var te=oe-M,se=ae-Y,$=te*te+se*se,U=$?Math.max(0,Math.min(1,((N-M)*te+(q-Y)*se)/$)):0,B=N-(M+U*te),S=q-(Y+U*se);return B*B+S*S}var h=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:C,generateIntoFramebuffer:m}),E="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",I="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",y="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",v=new Float32Array([0,0,2,0,0,2]),_=null,p=!1,Q={},w=new WeakMap;function D(N){if(!p&&!j(N))throw new Error("WebGL generation not supported")}function x(N,q,M,Y,oe,ae,te){if(ae===void 0&&(ae=1),te===void 0&&(te=null),!te&&(te=_,!te)){var se=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!se)throw new Error("OffscreenCanvas or DOM canvas not supported");te=_=se.getContext("webgl",{depth:!1})}D(te);var $=new Uint8Array(N*q*4);l(te,function(k){var G=k.gl,H=k.withTexture,W=k.withTextureFramebuffer;H("readable",function(re,Ae){G.texImage2D(G.TEXTURE_2D,0,G.RGBA,N,q,0,G.RGBA,G.UNSIGNED_BYTE,null),W(re,Ae,function(he){T(N,q,M,Y,oe,ae,G,he,0,0,0),G.readPixels(0,0,N,q,G.RGBA,G.UNSIGNED_BYTE,$)})})});for(var U=new Uint8Array(N*q),B=0,S=0;B<$.length;B+=4)U[S++]=$[B];return U}function R(N,q,M,Y,oe,ae,te,se,$,U){ae===void 0&&(ae=1),se===void 0&&(se=0),$===void 0&&($=0),U===void 0&&(U=0),T(N,q,M,Y,oe,ae,te,null,se,$,U)}function T(N,q,M,Y,oe,ae,te,se,$,U,B){ae===void 0&&(ae=1),$===void 0&&($=0),U===void 0&&(U=0),B===void 0&&(B=0),D(te);var S=[];e(M,function(k,G,H,W){S.push(k,G,H,W)}),S=new Float32Array(S),l(te,function(k){var G=k.gl,H=k.isWebGL2,W=k.getExtension,re=k.withProgram,Ae=k.withTexture,he=k.withTextureFramebuffer,ne=k.handleContextLoss;if(Ae("rawDistances",function(ue,ce){(N!==ue._lastWidth||q!==ue._lastHeight)&&G.texImage2D(G.TEXTURE_2D,0,G.RGBA,ue._lastWidth=N,ue._lastHeight=q,0,G.RGBA,G.UNSIGNED_BYTE,null),re("main",E,I,function(J){var be=J.setAttribute,fe=J.setUniform,de=!H&&W("ANGLE_instanced_arrays"),ge=!H&&W("EXT_blend_minmax");be("aUV",2,G.STATIC_DRAW,0,v),be("aLineSegment",4,G.DYNAMIC_DRAW,1,S),fe.apply(void 0,["4f","uGlyphBounds"].concat(Y)),fe("1f","uMaxDistance",oe),fe("1f","uExponent",ae),he(ue,ce,function(xe){G.enable(G.BLEND),G.colorMask(!0,!0,!0,!0),G.viewport(0,0,N,q),G.scissor(0,0,N,q),G.blendFunc(G.ONE,G.ONE),G.blendEquationSeparate(G.FUNC_ADD,H?G.MAX:ge.MAX_EXT),G.clear(G.COLOR_BUFFER_BIT),H?G.drawArraysInstanced(G.TRIANGLES,0,3,S.length/4):de.drawArraysInstancedANGLE(G.TRIANGLES,0,3,S.length/4)})}),re("post",o,y,function(J){J.setAttribute("aUV",2,G.STATIC_DRAW,0,v),J.setUniform("1i","tex",ce),G.bindFramebuffer(G.FRAMEBUFFER,se),G.disable(G.BLEND),G.colorMask(B===0,B===1,B===2,B===3),G.viewport($,U,N,q),G.scissor($,U,N,q),G.drawArrays(G.TRIANGLES,0,3)})}),G.isContextLost())throw ne(),new Error("webgl context lost")})}function j(N){var q=!N||N===_?Q:N.canvas||N,M=w.get(q);if(M===void 0){p=!0;var Y=null;try{var oe=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ae=x(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,N);M=ae&&oe.length===ae.length&&ae.every(function(te,se){return te===oe[se]}),M||(Y="bad trial run results",console.info(oe,ae))}catch(te){M=!1,Y=te.message}Y&&console.warn("WebGL SDF generation not supported:",Y),p=!1,w.set(q,M)}return M}var L=Object.freeze({__proto__:null,generate:x,generateIntoCanvas:R,generateIntoFramebuffer:T,isSupported:j});function K(N,q,M,Y,oe,ae){oe===void 0&&(oe=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),ae===void 0&&(ae=1);try{return x.apply(L,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),b.apply(h,arguments)}}function z(N,q,M,Y,oe,ae,te,se,$,U){oe===void 0&&(oe=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),ae===void 0&&(ae=1),se===void 0&&(se=0),$===void 0&&($=0),U===void 0&&(U=0);try{return R.apply(L,arguments)}catch(B){return console.info("WebGL SDF generation failed, falling back to JS",B),C.apply(h,arguments)}}return t.forEachPathCommand=n,t.generate=K,t.generateIntoCanvas=z,t.javascript=h,t.pathToLineSegments=e,t.webgl=L,t.webglUtils=d,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return i}function Xl(){var i=function(t){var a={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},n={};r.L=1,n[1]="L",Object.keys(a).forEach(function(ne,ue){r[ne]=1<<ue+1,n[r[ne]]=ne}),Object.freeze(r);var e=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,A=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|e|r.PDI|A,l=null;function f(){if(!l){l=new Map;var ne=function(ce){if(a.hasOwnProperty(ce)){var J=0;a[ce].split(",").forEach(function(be){var fe=be.split("+"),de=fe[0],ge=fe[1];de=parseInt(de,36),ge=ge?parseInt(ge,36):0,l.set(J+=de,r[ce]);for(var xe=0;xe<ge;xe++)l.set(++J,r[ce])})}};for(var ue in a)ne(ue)}}function u(ne){return f(),l.get(ne.codePointAt(0))||r.L}function d(ne){return n[u(ne)]}var b={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function C(ne,ue){var ce=36,J=0,be=new Map,fe=ue&&new Map,de;return ne.split(",").forEach(function ge(xe){if(xe.indexOf("+")!==-1)for(var De=+xe;De--;)ge(de);else{de=xe;var F=xe.split(">"),ie=F[0],_e=F[1];ie=String.fromCodePoint(J+=parseInt(ie,ce)),_e=String.fromCodePoint(J+=parseInt(_e,ce)),be.set(ie,_e),ue&&fe.set(_e,ie)}}),{map:be,reverseMap:fe}}var m,g,h;function E(){if(!m){var ne=C(b.pairs,!0),ue=ne.map,ce=ne.reverseMap;m=ue,g=ce,h=C(b.canonical,!1).map}}function I(ne){return E(),m.get(ne)||null}function y(ne){return E(),g.get(ne)||null}function v(ne){return E(),h.get(ne)||null}var _=r.L,p=r.R,Q=r.EN,w=r.ES,D=r.ET,x=r.AN,R=r.CS,T=r.B,j=r.S,L=r.ON,K=r.BN,z=r.NSM,N=r.AL,q=r.LRO,M=r.RLO,Y=r.LRE,oe=r.RLE,ae=r.PDF,te=r.LRI,se=r.RLI,$=r.FSI,U=r.PDI;function B(ne,ue){for(var ce=125,J=new Uint32Array(ne.length),be=0;be<ne.length;be++)J[be]=u(ne[be]);var fe=new Map;function de(Je,ht){var rt=J[Je];J[Je]=ht,fe.set(rt,fe.get(rt)-1),rt&s&&fe.set(s,fe.get(s)-1),fe.set(ht,(fe.get(ht)||0)+1),ht&s&&fe.set(s,(fe.get(s)||0)+1)}for(var ge=new Uint8Array(ne.length),xe=new Map,De=[],F=null,ie=0;ie<ne.length;ie++)F||De.push(F={start:ie,end:ne.length-1,level:ue==="rtl"?1:ue==="ltr"?0:vo(ie,!1)}),J[ie]&T&&(F.end=ie,F=null);for(var _e=oe|Y|M|q|e|U|ae|T,Qe=function(Je){return Je+(Je&1?1:2)},ke=function(Je){return Je+(Je&1?2:1)},Me=0;Me<De.length;Me++){F=De[Me];var Ee=[{_level:F.level,_override:0,_isolate:0}],Ce=void 0,Re=0,we=0,Oe=0;fe.clear();for(var Ne=F.start;Ne<=F.end;Ne++){var $e=J[Ne];if(Ce=Ee[Ee.length-1],fe.set($e,(fe.get($e)||0)+1),$e&s&&fe.set(s,(fe.get(s)||0)+1),$e&_e)if($e&(oe|Y)){ge[Ne]=Ce._level;var Lt=($e===oe?ke:Qe)(Ce._level);Lt<=ce&&!Re&&!we?Ee.push({_level:Lt,_override:0,_isolate:0}):Re||we++}else if($e&(M|q)){ge[Ne]=Ce._level;var _n=($e===M?ke:Qe)(Ce._level);_n<=ce&&!Re&&!we?Ee.push({_level:_n,_override:$e&M?p:_,_isolate:0}):Re||we++}else if($e&e){$e&$&&($e=vo(Ne+1,!0)===1?se:te),ge[Ne]=Ce._level,Ce._override&&de(Ne,Ce._override);var He=($e===se?ke:Qe)(Ce._level);He<=ce&&Re===0&&we===0?(Oe++,Ee.push({_level:He,_override:0,_isolate:1,_isolInitIndex:Ne})):Re++}else if($e&U){if(Re>0)Re--;else if(Oe>0){for(we=0;!Ee[Ee.length-1]._isolate;)Ee.pop();var yn=Ee[Ee.length-1]._isolInitIndex;yn!=null&&(xe.set(yn,Ne),xe.set(Ne,yn)),Ee.pop(),Oe--}Ce=Ee[Ee.length-1],ge[Ne]=Ce._level,Ce._override&&de(Ne,Ce._override)}else $e&ae?(Re===0&&(we>0?we--:!Ce._isolate&&Ee.length>1&&(Ee.pop(),Ce=Ee[Ee.length-1])),ge[Ne]=Ce._level):$e&T&&(ge[Ne]=F.level);else ge[Ne]=Ce._level,Ce._override&&$e!==K&&de(Ne,Ce._override)}for(var Ue=[],Te=null,qe=F.start;qe<=F.end;qe++){var ot=J[qe];if(!(ot&A)){var Le=ge[qe],Ze=ot&e,Ct=ot===U;Te&&Le===Te._level?(Te._end=qe,Te._endsWithIsolInit=Ze):Ue.push(Te={_start:qe,_end:qe,_level:Le,_startsWithPDI:Ct,_endsWithIsolInit:Ze})}}for(var Ke=[],je=0;je<Ue.length;je++){var it=Ue[je];if(!it._startsWithPDI||it._startsWithPDI&&!xe.has(it._start)){for(var Pt=[Te=it],gt=void 0;Te&&Te._endsWithIsolInit&&(gt=xe.get(Te._end))!=null;)for(var Ot=je+1;Ot<Ue.length;Ot++)if(Ue[Ot]._start===gt){Pt.push(Te=Ue[Ot]);break}for(var an=[],Pr=0;Pr<Pt.length;Pr++)for(var ao=Pt[Pr],Or=ao._start;Or<=ao._end;Or++)an.push(Or);for(var Ls=ge[an[0]],oo=F.level,rr=an[0]-1;rr>=0;rr--)if(!(J[rr]&A)){oo=ge[rr];break}var Nr=an[an.length-1],Ps=ge[Nr],io=F.level;if(!(J[Nr]&e)){for(var ar=Nr+1;ar<=F.end;ar++)if(!(J[ar]&A)){io=ge[ar];break}}Ke.push({_seqIndices:an,_sosType:Math.max(oo,Ls)%2?p:_,_eosType:Math.max(io,Ps)%2?p:_})}}for(var $r=0;$r<Ke.length;$r++){var jr=Ke[$r],Ie=jr._seqIndices,Qn=jr._sosType,Os=jr._eosType;if(fe.get(z))for(var or=0;or<Ie.length;or++){var so=Ie[or];if(J[so]&z){for(var zr=Qn,ir=or-1;ir>=0;ir--)if(!(J[Ie[ir]]&A)){zr=J[Ie[ir]];break}de(so,zr&(e|U)?L:zr)}}if(fe.get(Q))for(var sr=0;sr<Ie.length;sr++){var Ao=Ie[sr];if(J[Ao]&Q)for(var Ar=sr-1;Ar>=-1;Ar--){var co=Ar===-1?Qn:J[Ie[Ar]];if(co&o){co===N&&de(Ao,x);break}}}if(fe.get(N))for(var Hr=0;Hr<Ie.length;Hr++){var lo=Ie[Hr];J[lo]&N&&de(lo,p)}if(fe.get(w)||fe.get(R))for(var wn=1;wn<Ie.length-1;wn++){var qr=Ie[wn];if(J[qr]&(w|R)){for(var on=0,Kr=0,Yr=wn-1;Yr>=0&&(on=J[Ie[Yr]],!!(on&A));Yr--);for(var Jr=wn+1;Jr<Ie.length&&(Kr=J[Ie[Jr]],!!(Kr&A));Jr++);on===Kr&&(J[qr]===w?on===Q:on&(Q|x))&&de(qr,on)}}if(fe.get(Q))for(var xn=0;xn<Ie.length;xn++){var Ns=Ie[xn];if(J[Ns]&Q){for(var cr=xn-1;cr>=0&&J[Ie[cr]]&(D|A);cr--)de(Ie[cr],Q);for(var lr=xn+1;lr<Ie.length&&J[Ie[lr]]&(D|A);lr++)de(Ie[lr],Q)}}if(fe.get(D)||fe.get(w)||fe.get(R))for(var Sn=0;Sn<Ie.length;Sn++){var fo=Ie[Sn];if(J[fo]&(D|w|R)){de(fo,L);for(var fr=Sn-1;fr>=0&&J[Ie[fr]]&A;fr--)de(Ie[fr],L);for(var ur=Sn+1;ur<Ie.length&&J[Ie[ur]]&A;ur++)de(Ie[ur],L)}}if(fe.get(Q))for(var Wr=0,uo=Qn;Wr<Ie.length;Wr++){var go=Ie[Wr],Vr=J[go];Vr&Q?uo===_&&de(go,_):Vr&o&&(uo=Vr)}if(fe.get(s)){var Dn=p|Q|x,ho=Dn|_,gr=[];{for(var sn=[],An=0;An<Ie.length;An++)if(J[Ie[An]]&s){var kn=ne[Ie[An]],po=void 0;if(I(kn)!==null)if(sn.length<63)sn.push({char:kn,seqIndex:An});else break;else if((po=y(kn))!==null)for(var Fn=sn.length-1;Fn>=0;Fn--){var Xr=sn[Fn].char;if(Xr===po||Xr===y(v(kn))||I(v(Xr))===kn){gr.push([sn[Fn].seqIndex,An]),sn.length=Fn;break}}}gr.sort(function(Je,ht){return Je[0]-ht[0]})}for(var Zr=0;Zr<gr.length;Zr++){for(var mo=gr[Zr],Tn=mo[0],dr=mo[1],bo=!1,dt=0,ea=Tn+1;ea<dr;ea++){var ta=Ie[ea];if(J[ta]&ho){bo=!0;var Io=J[ta]&Dn?p:_;if(Io===cn(ta)){dt=Io;break}}}if(bo&&!dt){dt=Qn;for(var na=Tn-1;na>=0;na--){var hr=Ie[na];if(J[hr]&ho){var Eo=J[hr]&Dn?p:_;Eo!==cn(hr)?dt=Eo:dt=cn(hr);break}}}if(dt){if(J[Ie[Tn]]=J[Ie[dr]]=dt,dt!==cn(Ie[Tn])){for(var Rn=Tn+1;Rn<Ie.length;Rn++)if(!(J[Ie[Rn]]&A)){u(ne[Ie[Rn]])&z&&(J[Ie[Rn]]=dt);break}}if(dt!==cn(Ie[dr])){for(var Mn=dr+1;Mn<Ie.length;Mn++)if(!(J[Ie[Mn]]&A)){u(ne[Ie[Mn]])&z&&(J[Ie[Mn]]=dt);break}}}}for(var Nt=0;Nt<Ie.length;Nt++)if(J[Ie[Nt]]&s){for(var Co=Nt,ra=Nt,aa=Qn,Gn=Nt-1;Gn>=0;Gn--)if(J[Ie[Gn]]&A)Co=Gn;else{aa=J[Ie[Gn]]&Dn?p:_;break}for(var Bo=Os,Un=Nt+1;Un<Ie.length;Un++)if(J[Ie[Un]]&(s|A))ra=Un;else{Bo=J[Ie[Un]]&Dn?p:_;break}for(var pr=Co;pr<=ra;pr++)J[Ie[pr]]=aa===Bo?aa:cn(Ie[pr]);Nt=ra}}}for(var st=F.start;st<=F.end;st++){var $s=ge[st],mr=J[st];if($s&1?mr&(_|Q|x)&&ge[st]++:mr&p?ge[st]++:mr&(x|Q)&&(ge[st]+=2),mr&A&&(ge[st]=st===0?F.level:ge[st-1]),st===F.end||u(ne[st])&(j|T))for(var br=st;br>=0&&u(ne[br])&c;br--)ge[br]=F.level}}return{levels:ge,paragraphs:De};function vo(Je,ht){for(var rt=Je;rt<ne.length;rt++){var $t=J[rt];if($t&(p|N))return 1;if($t&(T|_)||ht&&$t===U)return 0;if($t&e){var _o=js(rt);rt=_o===-1?ne.length:_o}}return 0}function js(Je){for(var ht=1,rt=Je+1;rt<ne.length;rt++){var $t=J[rt];if($t&T)break;if($t&U){if(--ht===0)return rt}else $t&e&&ht++}return-1}function cn(Je){return ge[Je]&1?p:_}}var S="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",k;function G(){if(!k){var ne=C(S,!0),ue=ne.map,ce=ne.reverseMap;ce.forEach(function(J,be){ue.set(be,J)}),k=ue}}function H(ne){return G(),k.get(ne)||null}function W(ne,ue,ce,J){var be=ne.length;ce=Math.max(0,ce==null?0:+ce),J=Math.min(be-1,J==null?be-1:+J);for(var fe=new Map,de=ce;de<=J;de++)if(ue[de]&1){var ge=H(ne[de]);ge!==null&&fe.set(de,ge)}return fe}function re(ne,ue,ce,J){var be=ne.length;ce=Math.max(0,ce==null?0:+ce),J=Math.min(be-1,J==null?be-1:+J);var fe=[];return ue.paragraphs.forEach(function(de){var ge=Math.max(ce,de.start),xe=Math.min(J,de.end);if(ge<xe){for(var De=ue.levels.slice(ge,xe+1),F=xe;F>=ge&&u(ne[F])&c;F--)De[F]=de.level;for(var ie=de.level,_e=1/0,Qe=0;Qe<De.length;Qe++){var ke=De[Qe];ke>ie&&(ie=ke),ke<_e&&(_e=ke|1)}for(var Me=ie;Me>=_e;Me--)for(var Ee=0;Ee<De.length;Ee++)if(De[Ee]>=Me){for(var Ce=Ee;Ee+1<De.length&&De[Ee+1]>=Me;)Ee++;Ee>Ce&&fe.push([Ce+ce,Ee+ce])}}}),fe}function Ae(ne,ue,ce,J){var be=he(ne,ue,ce,J),fe=[].concat(ne);return be.forEach(function(de,ge){fe[ge]=(ue.levels[de]&1?H(ne[de]):null)||ne[de]}),fe.join("")}function he(ne,ue,ce,J){for(var be=re(ne,ue,ce,J),fe=[],de=0;de<ne.length;de++)fe[de]=de;return be.forEach(function(ge){for(var xe=ge[0],De=ge[1],F=fe.slice(xe,De+1),ie=F.length;ie--;)fe[De-ie]=F[ie]}),fe}return t.closingToOpeningBracket=y,t.getBidiCharType=u,t.getBidiCharTypeName=d,t.getCanonicalBracket=v,t.getEmbeddingLevels=B,t.getMirroredCharacter=H,t.getMirroredCharactersMap=W,t.getReorderSegments=re,t.getReorderedIndices=he,t.getReorderedString=Ae,t.openingToClosingBracket=I,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return i}const Ss=/\bvoid\s+main\s*\(\s*\)\s*{/g;function La(i){const t=/^[ \t]*#include +<([\w\d./]+)>/gm;function a(r,n){let e=tc[n];return e?La(e):r}return i.replace(t,a)}const Ye=[];for(let i=0;i<256;i++)Ye[i]=(i<16?"0":"")+i.toString(16);function Zl(){const i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,a=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ye[i&255]+Ye[i>>8&255]+Ye[i>>16&255]+Ye[i>>24&255]+"-"+Ye[t&255]+Ye[t>>8&255]+"-"+Ye[t>>16&15|64]+Ye[t>>24&255]+"-"+Ye[a&63|128]+Ye[a>>8&255]+"-"+Ye[a>>16&255]+Ye[a>>24&255]+Ye[r&255]+Ye[r>>8&255]+Ye[r>>16&255]+Ye[r>>24&255]).toUpperCase()}const Wt=Object.assign||function(){let i=arguments[0];for(let t=1,a=arguments.length;t<a;t++){let r=arguments[t];if(r)for(let n in r)r.hasOwnProperty(n)&&(i[n]=r[n])}return i},ef=Date.now(),Jo=new WeakMap,Wo=new Map;let tf=1e10;function Pa(i,t){const a=of(t);let r=Jo.get(i);if(r||Jo.set(i,r=Object.create(null)),r[a])return new r[a];const n=`_onBeforeCompile${a}`,e=function(c){i.onBeforeCompile.call(this,c);const l=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let f=Wo[l];if(!f){const u=nf(c,t,a);f=Wo[l]=u}c.vertexShader=f.vertexShader,c.fragmentShader=f.fragmentShader,Wt(c.uniforms,this.uniforms),t.timeUniform&&(c.uniforms[t.timeUniform]={get value(){return Date.now()-ef}}),this[n]&&this[n](c)},o=function(){return s(t.chained?i:i.clone())},s=function(c){const l=Object.create(c,A);return Object.defineProperty(l,"baseMaterial",{value:i}),Object.defineProperty(l,"id",{value:tf++}),l.uuid=Zl(),l.uniforms=Wt({},c.uniforms,t.uniforms),l.defines=Wt({},c.defines,t.defines),l.defines[`TROIKA_DERIVED_MATERIAL_${a}`]="",l.extensions=Wt({},c.extensions,t.extensions),l._listeners=void 0,l},A={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return i.customProgramCacheKey()+"|"+a}},onBeforeCompile:{get(){return e},set(c){this[n]=c}},copy:{writable:!0,configurable:!0,value:function(c){return i.copy.call(this,c),!i.isShaderMaterial&&!i.isDerivedMaterial&&(Wt(this.extensions,c.extensions),Wt(this.defines,c.defines),Wt(this.uniforms,VA.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new i.constructor;return s(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=Pa(i.isDerivedMaterial?i.getDepthMaterial():new XA({depthPacking:ZA}),t),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=Pa(i.isDerivedMaterial?i.getDistanceMaterial():new ec,t),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:l}=this;c&&c.dispose(),l&&l.dispose(),i.dispose.call(this)}}};return r[a]=o,new o}function nf({vertexShader:i,fragmentShader:t},a,r){let{vertexDefs:n,vertexMainIntro:e,vertexMainOutro:o,vertexTransform:s,fragmentDefs:A,fragmentMainIntro:c,fragmentMainOutro:l,fragmentColorTransform:f,customRewriter:u,timeUniform:d}=a;if(n=n||"",e=e||"",o=o||"",A=A||"",c=c||"",l=l||"",(s||u)&&(i=La(i)),(f||u)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=La(t)),u){let b=u({vertexShader:i,fragmentShader:t});i=b.vertexShader,t=b.fragmentShader}if(f){let b=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,C=>(b.push(C),"")),l=`${f}
${b.join(`
`)}
${l}`}if(d){const b=`
uniform float ${d};
`;n=b+n,A=b+A}return s&&(i=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${i}
`,n=`${n}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,e=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${e}
`,i=i.replace(/\b(position|normal|uv)\b/g,(b,C,m,g)=>/\battribute\s+vec[23]\s+$/.test(g.substr(0,m))?C:`troika_${C}_${r}`)),i=Vo(i,r,n,e,o),t=Vo(t,r,A,c,l),{vertexShader:i,fragmentShader:t}}function Vo(i,t,a,r,n){return(r||n||a)&&(i=i.replace(Ss,`
${a}
void troikaOrigMain${t}() {`),i+=`
void main() {
  ${r}
  troikaOrigMain${t}();
  ${n}
}`),i}function rf(i,t){return i==="uniforms"?void 0:typeof t=="function"?t.toString():t}let af=0;const Xo=new Map;function of(i){const t=JSON.stringify(i,rf);let a=Xo.get(t);return a==null&&Xo.set(t,a=++af),a}function sf(i,t,a){const{defaultFontURL:r}=a,n=Object.create(null),e=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function A(g,h){function E(){const I=y=>{console.error(`Failure loading font ${g}${g===r?"":"; trying fallback"}`,y),g!==r&&(g=r,E())};try{const y=new XMLHttpRequest;y.open("get",g,!0),y.responseType="arraybuffer",y.onload=function(){if(y.status>=400)I(new Error(y.statusText));else if(y.status>0)try{const v=i(y.response);h(v)}catch(v){I(v)}},y.onerror=I,y.send()}catch(y){I(y)}}E()}function c(g,h){g||(g=r);let E=n[g];E?E.pending?E.pending.push(h):h(E):(n[g]={pending:[h]},A(g,I=>{let y=n[g].pending;n[g]=I,y.forEach(v=>v(I))}))}function l({text:g="",font:h=r,sdfGlyphSize:E=64,fontSize:I=1,letterSpacing:y=0,lineHeight:v="normal",maxWidth:_=e,direction:p,textAlign:Q="left",textIndent:w=0,whiteSpace:D="normal",overflowWrap:x="normal",anchorX:R=0,anchorY:T=0,includeCaretPositions:j=!1,chunkedBoundsSize:L=8192,colorRanges:K=null},z,N=!1){const q=b(),M={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),I=+I,y=+y,_=+_,v=v||"normal",w=+w,c(h,Y=>{const oe=isFinite(_);let ae=null,te=null,se=null,$=null,U=null,B=null,S=null,k=0,G=0,H=D!=="nowrap";const{ascender:W,descender:re,unitsPerEm:Ae}=Y;M.fontLoad=b()-q;const he=b(),ne=I/Ae;v==="normal"&&(v=(W-re)/Ae),v=v*I;const ue=(v-(W-re)*ne)/2,ce=-(W*ne+ue),J=Math.min(v,(W-re)*ne),be=(W+re)/2*ne-J/2;let fe=w,de=new C;const ge=[de];Y.forEachGlyph(g,I,y,(F,ie,_e)=>{const Qe=g.charAt(_e),ke=F.advanceWidth*ne,Me=de.count;let Ee;if("isEmpty"in F||(F.isWhitespace=!!Qe&&/\s/.test(Qe),F.canBreakAfter=!!Qe&&s.test(Qe),F.isEmpty=F.xMin===F.xMax||F.yMin===F.yMax||o.test(Qe)),!F.isWhitespace&&!F.isEmpty&&G++,H&&oe&&!F.isWhitespace&&ie+ke+fe>_&&Me){if(de.glyphAt(Me-1).glyphObj.canBreakAfter)Ee=new C,fe=-ie;else for(let Re=Me;Re--;)if(Re===0&&x==="break-word"){Ee=new C,fe=-ie;break}else if(de.glyphAt(Re).glyphObj.canBreakAfter){Ee=de.splitAt(Re+1);const we=Ee.glyphAt(0).x;fe-=we;for(let Oe=Ee.count;Oe--;)Ee.glyphAt(Oe).x-=we;break}Ee&&(de.isSoftWrapped=!0,de=Ee,ge.push(de),k=_)}let Ce=de.glyphAt(de.count);Ce.glyphObj=F,Ce.x=ie+fe,Ce.width=ke,Ce.charIndex=_e,Qe===`
`&&(de=new C,ge.push(de),fe=-(ie+ke+y*I)+w)}),ge.forEach(F=>{for(let ie=F.count;ie--;){let{glyphObj:_e,x:Qe,width:ke}=F.glyphAt(ie);if(!_e.isWhitespace){F.width=Qe+ke,F.width>k&&(k=F.width);return}}});let xe=0,De=0;if(R&&(typeof R=="number"?xe=-R:typeof R=="string"&&(xe=-k*(R==="left"?0:R==="center"?.5:R==="right"?1:u(R)))),T){if(typeof T=="number")De=-T;else if(typeof T=="string"){let F=ge.length*v;De=T==="top"?0:T==="top-baseline"?-ce:T==="middle"?F/2:T==="bottom"?F:T==="bottom-baseline"?F-ue+re*ne:u(T)*F}}if(!N){const F=t.getEmbeddingLevels(g,p);ae=new Uint16Array(G),te=new Float32Array(G*2),se={},B=[e,e,-e,-e],S=[];let ie=ce;j&&(U=new Float32Array(g.length*3)),K&&($=new Uint8Array(G*3));let _e=0,Qe=-1,ke=-1,Me,Ee;if(ge.forEach((Ce,Re)=>{let{count:we,width:Oe}=Ce;if(we>0){let Ne=0;for(let Ue=we;Ue--&&Ce.glyphAt(Ue).glyphObj.isWhitespace;)Ne++;let $e=0,Lt=0;if(Q==="center")$e=(k-Oe)/2;else if(Q==="right")$e=k-Oe;else if(Q==="justify"&&Ce.isSoftWrapped){let Ue=0;for(let Te=we-Ne;Te--;)Ce.glyphAt(Te).glyphObj.isWhitespace&&Ue++;Lt=(k-Oe)/Ue}if(Lt||$e){let Ue=0;for(let Te=0;Te<we;Te++){let qe=Ce.glyphAt(Te);const ot=qe.glyphObj;qe.x+=$e+Ue,Lt!==0&&ot.isWhitespace&&Te<we-Ne&&(Ue+=Lt,qe.width+=Lt)}}const _n=t.getReorderSegments(g,F,Ce.glyphAt(0).charIndex,Ce.glyphAt(Ce.count-1).charIndex);for(let Ue=0;Ue<_n.length;Ue++){const[Te,qe]=_n[Ue];let ot=1/0,Le=-1/0;for(let Ze=0;Ze<we;Ze++)if(Ce.glyphAt(Ze).charIndex>=Te){let Ct=Ze,Ke=Ze;for(;Ke<we;Ke++){let je=Ce.glyphAt(Ke);if(je.charIndex>qe)break;Ke<we-Ne&&(ot=Math.min(ot,je.x),Le=Math.max(Le,je.x+je.width))}for(let je=Ct;je<Ke;je++){const it=Ce.glyphAt(je);it.x=Le-(it.x+it.width-ot)}break}}let He;const yn=Ue=>He=Ue;for(let Ue=0;Ue<we;Ue++){let Te=Ce.glyphAt(Ue);He=Te.glyphObj;const qe=He.index,ot=F.levels[Te.charIndex]&1;if(ot){const Le=t.getMirroredCharacter(g[Te.charIndex]);Le&&Y.forEachGlyph(Le,0,0,yn)}if(j){const{charIndex:Le}=Te,Ze=Te.x+xe,Ct=Te.x+Te.width+xe;U[Le*3]=ot?Ct:Ze,U[Le*3+1]=ot?Ze:Ct,U[Le*3+2]=ie+be+De;const Ke=Le-Qe;Ke>1&&d(U,Qe,Ke),Qe=Le}if(K){const{charIndex:Le}=Te;for(;Le>ke;)ke++,K.hasOwnProperty(ke)&&(Ee=K[ke])}if(!He.isWhitespace&&!He.isEmpty){const Le=_e++;se[qe]||(se[qe]={path:He.path,pathBounds:[He.xMin,He.yMin,He.xMax,He.yMax]});const Ze=Te.x+xe,Ct=ie+De;te[Le*2]=Ze,te[Le*2+1]=Ct;const Ke=Ze+He.xMin*ne,je=Ct+He.yMin*ne,it=Ze+He.xMax*ne,Pt=Ct+He.yMax*ne;Ke<B[0]&&(B[0]=Ke),je<B[1]&&(B[1]=je),it>B[2]&&(B[2]=it),Pt>B[3]&&(B[3]=Pt),Le%L===0&&(Me={start:Le,end:Le,rect:[e,e,-e,-e]},S.push(Me)),Me.end++;const gt=Me.rect;if(Ke<gt[0]&&(gt[0]=Ke),je<gt[1]&&(gt[1]=je),it>gt[2]&&(gt[2]=it),Pt>gt[3]&&(gt[3]=Pt),ae[Le]=qe,K){const Ot=Le*3;$[Ot]=Ee>>16&255,$[Ot+1]=Ee>>8&255,$[Ot+2]=Ee&255}}}}ie-=v}),U){const Ce=g.length-Qe;Ce>1&&d(U,Qe,Ce)}}M.typesetting=b()-he,z({glyphIds:ae,glyphPositions:te,glyphData:se,caretPositions:U,caretHeight:J,glyphColors:$,chunkedBounds:S,fontSize:I,unitsPerEm:Ae,ascender:W*ne,descender:re*ne,lineHeight:v,topBaseline:ce,blockBounds:[xe,De-ge.length*v,xe+k,De],visibleBounds:B,timings:M})})}function f(g,h){l(g,E=>{const[I,y,v,_]=E.blockBounds;h({width:v-I,height:_-y})},{metricsOnly:!0})}function u(g){let h=g.match(/^([\d.]+)%$/),E=h?parseFloat(h[1]):NaN;return isNaN(E)?0:E/100}function d(g,h,E){const I=g[h*3],y=g[h*3+1],v=g[h*3+2],_=(y-I)/E;for(let p=0;p<E;p++){const Q=(h+p)*3;g[Q]=I+_*p,g[Q+1]=I+_*(p+1),g[Q+2]=v}}function b(){return(self.performance||Date).now()}function C(){this.data=[]}const m=["glyphObj","x","width","charIndex"];return C.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(g){let h=C.flyweight;return h.data=this.data,h.index=g,h},splitAt(g){let h=new C;return h.data=this.data.splice(g*m.length),h}},C.flyweight=m.reduce((g,h,E,I)=>(Object.defineProperty(g,h,{get(){return this.data[this.index*m.length+E]},set(y){this.data[this.index*m.length+E]=y}}),g),{data:null,index:0}),{typeset:l,measure:f,loadFont:c}}const Xt=()=>(self.performance||Date).now(),Ur=xs();let Zo;function Af(i,t,a,r,n,e,o,s,A,c,l=!0){return l?cf(i,t,a,r,n,e,o,s,A,c).then(null,f=>(Zo||(console.warn("WebGL SDF generation failed, falling back to JS",f),Zo=!0),ei(i,t,a,r,n,e,o,s,A,c))):ei(i,t,a,r,n,e,o,s,A,c)}const cf=function(){const i=[];let a=0;function r(){const n=Xt();for(;i.length&&Xt()-n<5;)i.shift()();a=i.length?setTimeout(r,0):0}return(...n)=>{const e=Rt();return i.push(()=>{const o=Xt();try{Ur.webgl.generateIntoCanvas(...n),e.resolve({timing:Xt()-o})}catch(s){e.reject(s)}}),a||(a=setTimeout(r,0)),e}}(),ei=function(){const a={};let r=0;return function(n,e,o,s,A,c,l,f,u,d){const b="TroikaTextSDFGenerator_JS_"+r++%4;let C=a[b];return C||(C=a[b]={workerModule:En({name:b,workerId:b,dependencies:[xs,Xt],init(m,g){const h=m().javascript.generate;return function(...E){const I=g();return{textureData:h(...E),timing:g()-I}}},getTransferables(m){return[m.textureData.buffer]}}),requests:0,idleTimer:null}),C.requests++,clearTimeout(C.idleTimer),C.workerModule(n,e,o,s,A,c).then(({textureData:m,timing:g})=>{const h=Xt(),E=new Uint8Array(m.length*4);for(let I=0;I<m.length;I++)E[I*4+d]=m[I];return Ur.webglUtils.renderImageData(l,E,f,u,n,e,1<<3-d),g+=Xt()-h,--C.requests===0&&(C.idleTimer=setTimeout(()=>{Jl(b)},2e3)),{timing:g}})}}();function lf(i){i._warm||(Ur.webgl.isSupported(i),i._warm=!0)}const ff=Ur.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function uf(){return typeof window>"u"&&(self.window=self),function(i){var t={parse:function(n){var e=t._bin,o=new Uint8Array(n);if(e.readASCII(o,0,4)=="ttcf"){var s=4;e.readUshort(o,s),s+=2,e.readUshort(o,s),s+=2;var A=e.readUint(o,s);s+=4;for(var c=[],l=0;l<A;l++){var f=e.readUint(o,s);s+=4,c.push(t._readFont(o,f))}return c}return[t._readFont(o,0)]},_readFont:function(n,e){var o=t._bin,s=e;o.readFixed(n,e),e+=4;var A=o.readUshort(n,e);e+=2,o.readUshort(n,e),e+=2,o.readUshort(n,e),e+=2,o.readUshort(n,e),e+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],l={_data:n,_offset:s},f={},u=0;u<A;u++){var d=o.readASCII(n,e,4);e+=4,o.readUint(n,e),e+=4;var b=o.readUint(n,e);e+=4;var C=o.readUint(n,e);e+=4,f[d]={offset:b,length:C}}for(u=0;u<c.length;u++){var m=c[u];f[m]&&(l[m.trim()]=t[m.trim()].parse(n,f[m].offset,f[m].length,l))}return l},_tabOffset:function(n,e,o){for(var s=t._bin,A=s.readUshort(n,o+4),c=o+12,l=0;l<A;l++){var f=s.readASCII(n,c,4);c+=4,s.readUint(n,c),c+=4;var u=s.readUint(n,c);if(c+=4,s.readUint(n,c),c+=4,f==e)return u}return 0}};t._bin={readFixed:function(n,e){return(n[e]<<8|n[e+1])+(n[e+2]<<8|n[e+3])/65540},readF2dot14:function(n,e){return t._bin.readShort(n,e)/16384},readInt:function(n,e){return t._bin._view(n).getInt32(e)},readInt8:function(n,e){return t._bin._view(n).getInt8(e)},readShort:function(n,e){return t._bin._view(n).getInt16(e)},readUshort:function(n,e){return t._bin._view(n).getUint16(e)},readUshorts:function(n,e,o){for(var s=[],A=0;A<o;A++)s.push(t._bin.readUshort(n,e+2*A));return s},readUint:function(n,e){return t._bin._view(n).getUint32(e)},readUint64:function(n,e){return 4294967296*t._bin.readUint(n,e)+t._bin.readUint(n,e+4)},readASCII:function(n,e,o){for(var s="",A=0;A<o;A++)s+=String.fromCharCode(n[e+A]);return s},readUnicode:function(n,e,o){for(var s="",A=0;A<o;A++){var c=n[e++]<<8|n[e++];s+=String.fromCharCode(c)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(n,e,o){var s=t._bin._tdec;return s&&e==0&&o==n.length?s.decode(n):t._bin.readASCII(n,e,o)},readBytes:function(n,e,o){for(var s=[],A=0;A<o;A++)s.push(n[e+A]);return s},readASCIIArray:function(n,e,o){for(var s=[],A=0;A<o;A++)s.push(String.fromCharCode(n[e+A]));return s},_view:function(n){return n._dataView||(n._dataView=n.buffer?new DataView(n.buffer,n.byteOffset,n.byteLength):new DataView(new Uint8Array(n).buffer))}},t._lctf={},t._lctf.parse=function(n,e,o,s,A){var c=t._bin,l={},f=e;c.readFixed(n,e),e+=4;var u=c.readUshort(n,e);e+=2;var d=c.readUshort(n,e);e+=2;var b=c.readUshort(n,e);return e+=2,l.scriptList=t._lctf.readScriptList(n,f+u),l.featureList=t._lctf.readFeatureList(n,f+d),l.lookupList=t._lctf.readLookupList(n,f+b,A),l},t._lctf.readLookupList=function(n,e,o){var s=t._bin,A=e,c=[],l=s.readUshort(n,e);e+=2;for(var f=0;f<l;f++){var u=s.readUshort(n,e);e+=2;var d=t._lctf.readLookupTable(n,A+u,o);c.push(d)}return c},t._lctf.readLookupTable=function(n,e,o){var s=t._bin,A=e,c={tabs:[]};c.ltype=s.readUshort(n,e),e+=2,c.flag=s.readUshort(n,e),e+=2;var l=s.readUshort(n,e);e+=2;for(var f=c.ltype,u=0;u<l;u++){var d=s.readUshort(n,e);e+=2;var b=o(n,f,A+d,c);c.tabs.push(b)}return c},t._lctf.numOfOnes=function(n){for(var e=0,o=0;o<32;o++)n>>>o&1&&e++;return e},t._lctf.readClassDef=function(n,e){var o=t._bin,s=[],A=o.readUshort(n,e);if(e+=2,A==1){var c=o.readUshort(n,e);e+=2;var l=o.readUshort(n,e);e+=2;for(var f=0;f<l;f++)s.push(c+f),s.push(c+f),s.push(o.readUshort(n,e)),e+=2}if(A==2){var u=o.readUshort(n,e);for(e+=2,f=0;f<u;f++)s.push(o.readUshort(n,e)),e+=2,s.push(o.readUshort(n,e)),e+=2,s.push(o.readUshort(n,e)),e+=2}return s},t._lctf.getInterval=function(n,e){for(var o=0;o<n.length;o+=3){var s=n[o],A=n[o+1];if(n[o+2],s<=e&&e<=A)return o}return-1},t._lctf.readCoverage=function(n,e){var o=t._bin,s={};s.fmt=o.readUshort(n,e),e+=2;var A=o.readUshort(n,e);return e+=2,s.fmt==1&&(s.tab=o.readUshorts(n,e,A)),s.fmt==2&&(s.tab=o.readUshorts(n,e,3*A)),s},t._lctf.coverageIndex=function(n,e){var o=n.tab;if(n.fmt==1)return o.indexOf(e);if(n.fmt==2){var s=t._lctf.getInterval(o,e);if(s!=-1)return o[s+2]+(e-o[s])}return-1},t._lctf.readFeatureList=function(n,e){var o=t._bin,s=e,A=[],c=o.readUshort(n,e);e+=2;for(var l=0;l<c;l++){var f=o.readASCII(n,e,4);e+=4;var u=o.readUshort(n,e);e+=2;var d=t._lctf.readFeatureTable(n,s+u);d.tag=f.trim(),A.push(d)}return A},t._lctf.readFeatureTable=function(n,e){var o=t._bin,s=e,A={},c=o.readUshort(n,e);e+=2,c>0&&(A.featureParams=s+c);var l=o.readUshort(n,e);e+=2,A.tab=[];for(var f=0;f<l;f++)A.tab.push(o.readUshort(n,e+2*f));return A},t._lctf.readScriptList=function(n,e){var o=t._bin,s=e,A={},c=o.readUshort(n,e);e+=2;for(var l=0;l<c;l++){var f=o.readASCII(n,e,4);e+=4;var u=o.readUshort(n,e);e+=2,A[f.trim()]=t._lctf.readScriptTable(n,s+u)}return A},t._lctf.readScriptTable=function(n,e){var o=t._bin,s=e,A={},c=o.readUshort(n,e);e+=2,A.default=t._lctf.readLangSysTable(n,s+c);var l=o.readUshort(n,e);e+=2;for(var f=0;f<l;f++){var u=o.readASCII(n,e,4);e+=4;var d=o.readUshort(n,e);e+=2,A[u.trim()]=t._lctf.readLangSysTable(n,s+d)}return A},t._lctf.readLangSysTable=function(n,e){var o=t._bin,s={};o.readUshort(n,e),e+=2,s.reqFeature=o.readUshort(n,e),e+=2;var A=o.readUshort(n,e);return e+=2,s.features=o.readUshorts(n,e,A),s},t.CFF={},t.CFF.parse=function(n,e,o){var s=t._bin;(n=new Uint8Array(n.buffer,e,o))[e=0],n[++e],n[++e],n[++e],e++;var A=[];e=t.CFF.readIndex(n,e,A);for(var c=[],l=0;l<A.length-1;l++)c.push(s.readASCII(n,e+A[l],A[l+1]-A[l]));e+=A[A.length-1];var f=[];e=t.CFF.readIndex(n,e,f);var u=[];for(l=0;l<f.length-1;l++)u.push(t.CFF.readDict(n,e+f[l],e+f[l+1]));e+=f[f.length-1];var d=u[0],b=[];e=t.CFF.readIndex(n,e,b);var C=[];for(l=0;l<b.length-1;l++)C.push(s.readASCII(n,e+b[l],b[l+1]-b[l]));if(e+=b[b.length-1],t.CFF.readSubrs(n,e,d),d.CharStrings){e=d.CharStrings,b=[],e=t.CFF.readIndex(n,e,b);var m=[];for(l=0;l<b.length-1;l++)m.push(s.readBytes(n,e+b[l],b[l+1]-b[l]));d.CharStrings=m}if(d.ROS){e=d.FDArray;var g=[];for(e=t.CFF.readIndex(n,e,g),d.FDArray=[],l=0;l<g.length-1;l++){var h=t.CFF.readDict(n,e+g[l],e+g[l+1]);t.CFF._readFDict(n,h,C),d.FDArray.push(h)}e+=g[g.length-1],e=d.FDSelect,d.FDSelect=[];var E=n[e];if(e++,E!=3)throw E;var I=s.readUshort(n,e);for(e+=2,l=0;l<I+1;l++)d.FDSelect.push(s.readUshort(n,e),n[e+2]),e+=3}return d.Encoding&&(d.Encoding=t.CFF.readEncoding(n,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=t.CFF.readCharset(n,d.charset,d.CharStrings.length)),t.CFF._readFDict(n,d,C),d},t.CFF._readFDict=function(n,e,o){var s;for(var A in e.Private&&(s=e.Private[1],e.Private=t.CFF.readDict(n,s,s+e.Private[0]),e.Private.Subrs&&t.CFF.readSubrs(n,s+e.Private.Subrs,e.Private)),e)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(A)!=-1&&(e[A]=o[e[A]-426+35])},t.CFF.readSubrs=function(n,e,o){var s=t._bin,A=[];e=t.CFF.readIndex(n,e,A);var c,l=A.length;c=l<1240?107:l<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<A.length-1;f++)o.Subrs.push(s.readBytes(n,e+A[f],A[f+1]-A[f]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(n,e){for(var o=0;o<n.charset.length;o++)if(n.charset[o]==e)return o;return-1},t.CFF.glyphBySE=function(n,e){return e<0||e>255?-1:t.CFF.glyphByUnicode(n,t.CFF.tableSE[e])},t.CFF.readEncoding=function(n,e,o){t._bin;var s=[".notdef"],A=n[e];if(e++,A!=0)throw"error: unknown encoding format: "+A;var c=n[e];e++;for(var l=0;l<c;l++)s.push(n[e+l]);return s},t.CFF.readCharset=function(n,e,o){var s=t._bin,A=[".notdef"],c=n[e];if(e++,c==0)for(var l=0;l<o;l++){var f=s.readUshort(n,e);e+=2,A.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;A.length<o;){f=s.readUshort(n,e),e+=2;var u=0;for(c==1?(u=n[e],e++):(u=s.readUshort(n,e),e+=2),l=0;l<=u;l++)A.push(f),f++}}return A},t.CFF.readIndex=function(n,e,o){var s=t._bin,A=s.readUshort(n,e)+1,c=n[e+=2];if(e++,c==1)for(var l=0;l<A;l++)o.push(n[e+l]);else if(c==2)for(l=0;l<A;l++)o.push(s.readUshort(n,e+2*l));else if(c==3)for(l=0;l<A;l++)o.push(16777215&s.readUint(n,e+3*l-1));else if(A!=1)throw"unsupported offset size: "+c+", count: "+A;return(e+=A*c)-1},t.CFF.getCharString=function(n,e,o){var s=t._bin,A=n[e],c=n[e+1];n[e+2],n[e+3],n[e+4];var l=1,f=null,u=null;A<=20&&(f=A,l=1),A==12&&(f=100*A+c,l=2),21<=A&&A<=27&&(f=A,l=1),A==28&&(u=s.readShort(n,e+1),l=3),29<=A&&A<=31&&(f=A,l=1),32<=A&&A<=246&&(u=A-139,l=1),247<=A&&A<=250&&(u=256*(A-247)+c+108,l=2),251<=A&&A<=254&&(u=256*-(A-251)-c-108,l=2),A==255&&(u=s.readInt(n,e+1)/65535,l=5),o.val=u??"o"+f,o.size=l},t.CFF.readCharString=function(n,e,o){for(var s=e+o,A=t._bin,c=[];e<s;){var l=n[e],f=n[e+1];n[e+2],n[e+3],n[e+4];var u=1,d=null,b=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+f,u=2),l!=19&&l!=20||(d=l,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(b=A.readShort(n,e+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(b=l-139,u=1),247<=l&&l<=250&&(b=256*(l-247)+f+108,u=2),251<=l&&l<=254&&(b=256*-(l-251)-f-108,u=2),l==255&&(b=A.readInt(n,e+1)/65535,u=5),c.push(b??"o"+d),e+=u}return c},t.CFF.readDict=function(n,e,o){for(var s=t._bin,A={},c=[];e<o;){var l=n[e],f=n[e+1];n[e+2],n[e+3],n[e+4];var u=1,d=null,b=null;if(l==28&&(b=s.readShort(n,e+1),u=3),l==29&&(b=s.readInt(n,e+1),u=5),32<=l&&l<=246&&(b=l-139,u=1),247<=l&&l<=250&&(b=256*(l-247)+f+108,u=2),251<=l&&l<=254&&(b=256*-(l-251)-f-108,u=2),l==255)throw b=s.readInt(n,e+1)/65535,u=5,"unknown number";if(l==30){var C=[];for(u=1;;){var m=n[e+u];u++;var g=m>>4,h=15&m;if(g!=15&&C.push(g),h!=15&&C.push(h),h==15)break}for(var E="",I=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<C.length;y++)E+=I[C[y]];b=parseFloat(E)}l<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][l],u=1,l==12&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],u=2)),d!=null?(A[d]=c.length==1?c[0]:c,c=[]):c.push(b),e+=u}return A},t.cmap={},t.cmap.parse=function(n,e,o){n=new Uint8Array(n.buffer,e,o),e=0;var s=t._bin,A={};s.readUshort(n,e),e+=2;var c=s.readUshort(n,e);e+=2;var l=[];A.tables=[];for(var f=0;f<c;f++){var u=s.readUshort(n,e);e+=2;var d=s.readUshort(n,e);e+=2;var b=s.readUint(n,e);e+=4;var C="p"+u+"e"+d,m=l.indexOf(b);if(m==-1){var g;m=A.tables.length,l.push(b);var h=s.readUshort(n,b);h==0?g=t.cmap.parse0(n,b):h==4?g=t.cmap.parse4(n,b):h==6?g=t.cmap.parse6(n,b):h==12?g=t.cmap.parse12(n,b):console.debug("unknown format: "+h,u,d,b),A.tables.push(g)}if(A[C]!=null)throw"multiple tables for one platform+encoding";A[C]=m}return A},t.cmap.parse0=function(n,e){var o=t._bin,s={};s.format=o.readUshort(n,e),e+=2;var A=o.readUshort(n,e);e+=2,o.readUshort(n,e),e+=2,s.map=[];for(var c=0;c<A-6;c++)s.map.push(n[e+c]);return s},t.cmap.parse4=function(n,e){var o=t._bin,s=e,A={};A.format=o.readUshort(n,e),e+=2;var c=o.readUshort(n,e);e+=2,o.readUshort(n,e),e+=2;var l=o.readUshort(n,e);e+=2;var f=l/2;A.searchRange=o.readUshort(n,e),e+=2,A.entrySelector=o.readUshort(n,e),e+=2,A.rangeShift=o.readUshort(n,e),e+=2,A.endCount=o.readUshorts(n,e,f),e+=2*f,e+=2,A.startCount=o.readUshorts(n,e,f),e+=2*f,A.idDelta=[];for(var u=0;u<f;u++)A.idDelta.push(o.readShort(n,e)),e+=2;for(A.idRangeOffset=o.readUshorts(n,e,f),e+=2*f,A.glyphIdArray=[];e<s+c;)A.glyphIdArray.push(o.readUshort(n,e)),e+=2;return A},t.cmap.parse6=function(n,e){var o=t._bin,s={};s.format=o.readUshort(n,e),e+=2,o.readUshort(n,e),e+=2,o.readUshort(n,e),e+=2,s.firstCode=o.readUshort(n,e),e+=2;var A=o.readUshort(n,e);e+=2,s.glyphIdArray=[];for(var c=0;c<A;c++)s.glyphIdArray.push(o.readUshort(n,e)),e+=2;return s},t.cmap.parse12=function(n,e){var o=t._bin,s={};s.format=o.readUshort(n,e),e+=2,e+=2,o.readUint(n,e),e+=4,o.readUint(n,e),e+=4;var A=o.readUint(n,e);e+=4,s.groups=[];for(var c=0;c<A;c++){var l=e+12*c,f=o.readUint(n,l+0),u=o.readUint(n,l+4),d=o.readUint(n,l+8);s.groups.push([f,u,d])}return s},t.glyf={},t.glyf.parse=function(n,e,o,s){for(var A=[],c=0;c<s.maxp.numGlyphs;c++)A.push(null);return A},t.glyf._parseGlyf=function(n,e){var o=t._bin,s=n._data,A=t._tabOffset(s,"glyf",n._offset)+n.loca[e];if(n.loca[e]==n.loca[e+1])return null;var c={};if(c.noc=o.readShort(s,A),A+=2,c.xMin=o.readShort(s,A),A+=2,c.yMin=o.readShort(s,A),A+=2,c.xMax=o.readShort(s,A),A+=2,c.yMax=o.readShort(s,A),A+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var l=0;l<c.noc;l++)c.endPts.push(o.readUshort(s,A)),A+=2;var f=o.readUshort(s,A);if(A+=2,s.length-A<f)return null;c.instructions=o.readBytes(s,A,f),A+=f;var u=c.endPts[c.noc-1]+1;for(c.flags=[],l=0;l<u;l++){var d=s[A];if(A++,c.flags.push(d),(8&d)!=0){var b=s[A];A++;for(var C=0;C<b;C++)c.flags.push(d),l++}}for(c.xs=[],l=0;l<u;l++){var m=(2&c.flags[l])!=0,g=(16&c.flags[l])!=0;m?(c.xs.push(g?s[A]:-s[A]),A++):g?c.xs.push(0):(c.xs.push(o.readShort(s,A)),A+=2)}for(c.ys=[],l=0;l<u;l++)m=(4&c.flags[l])!=0,g=(32&c.flags[l])!=0,m?(c.ys.push(g?s[A]:-s[A]),A++):g?c.ys.push(0):(c.ys.push(o.readShort(s,A)),A+=2);var h=0,E=0;for(l=0;l<u;l++)h+=c.xs[l],E+=c.ys[l],c.xs[l]=h,c.ys[l]=E}else{var I;c.parts=[];do{I=o.readUshort(s,A),A+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(y),y.glyphIndex=o.readUshort(s,A),A+=2,1&I){var v=o.readShort(s,A);A+=2;var _=o.readShort(s,A);A+=2}else v=o.readInt8(s,A),A++,_=o.readInt8(s,A),A++;2&I?(y.m.tx=v,y.m.ty=_):(y.p1=v,y.p2=_),8&I?(y.m.a=y.m.d=o.readF2dot14(s,A),A+=2):64&I?(y.m.a=o.readF2dot14(s,A),A+=2,y.m.d=o.readF2dot14(s,A),A+=2):128&I&&(y.m.a=o.readF2dot14(s,A),A+=2,y.m.b=o.readF2dot14(s,A),A+=2,y.m.c=o.readF2dot14(s,A),A+=2,y.m.d=o.readF2dot14(s,A),A+=2)}while(32&I);if(256&I){var p=o.readUshort(s,A);for(A+=2,c.instr=[],l=0;l<p;l++)c.instr.push(s[A]),A++}}return c},t.GPOS={},t.GPOS.parse=function(n,e,o,s){return t._lctf.parse(n,e,o,s,t.GPOS.subt)},t.GPOS.subt=function(n,e,o,s){var A=t._bin,c=o,l={};if(l.fmt=A.readUshort(n,o),o+=2,e==1||e==2||e==3||e==7||e==8&&l.fmt<=2){var f=A.readUshort(n,o);o+=2,l.coverage=t._lctf.readCoverage(n,f+c)}if(e==1&&l.fmt==1){var u=A.readUshort(n,o);o+=2;var d=t._lctf.numOfOnes(u);u!=0&&(l.pos=t.GPOS.readValueRecord(n,o,u))}else if(e==2&&l.fmt>=1&&l.fmt<=2){u=A.readUshort(n,o),o+=2;var b=A.readUshort(n,o);o+=2,d=t._lctf.numOfOnes(u);var C=t._lctf.numOfOnes(b);if(l.fmt==1){l.pairsets=[];var m=A.readUshort(n,o);o+=2;for(var g=0;g<m;g++){var h=c+A.readUshort(n,o);o+=2;var E=A.readUshort(n,h);h+=2;for(var I=[],y=0;y<E;y++){var v=A.readUshort(n,h);h+=2,u!=0&&(x=t.GPOS.readValueRecord(n,h,u),h+=2*d),b!=0&&(R=t.GPOS.readValueRecord(n,h,b),h+=2*C),I.push({gid2:v,val1:x,val2:R})}l.pairsets.push(I)}}if(l.fmt==2){var _=A.readUshort(n,o);o+=2;var p=A.readUshort(n,o);o+=2;var Q=A.readUshort(n,o);o+=2;var w=A.readUshort(n,o);for(o+=2,l.classDef1=t._lctf.readClassDef(n,c+_),l.classDef2=t._lctf.readClassDef(n,c+p),l.matrix=[],g=0;g<Q;g++){var D=[];for(y=0;y<w;y++){var x=null,R=null;u!=0&&(x=t.GPOS.readValueRecord(n,o,u),o+=2*d),b!=0&&(R=t.GPOS.readValueRecord(n,o,b),o+=2*C),D.push({val1:x,val2:R})}l.matrix.push(D)}}}else{if(e==9&&l.fmt==1){var T=A.readUshort(n,o);o+=2;var j=A.readUint(n,o);if(o+=4,s.ltype==9)s.ltype=T;else if(s.ltype!=T)throw"invalid extension substitution";return t.GPOS.subt(n,s.ltype,c+j)}console.debug("unsupported GPOS table LookupType",e,"format",l.fmt)}return l},t.GPOS.readValueRecord=function(n,e,o){var s=t._bin,A=[];return A.push(1&o?s.readShort(n,e):0),e+=1&o?2:0,A.push(2&o?s.readShort(n,e):0),e+=2&o?2:0,A.push(4&o?s.readShort(n,e):0),e+=4&o?2:0,A.push(8&o?s.readShort(n,e):0),e+=8&o?2:0,A},t.GSUB={},t.GSUB.parse=function(n,e,o,s){return t._lctf.parse(n,e,o,s,t.GSUB.subt)},t.GSUB.subt=function(n,e,o,s){var A=t._bin,c=o,l={};if(l.fmt=A.readUshort(n,o),o+=2,e!=1&&e!=4&&e!=5&&e!=6)return null;if(e==1||e==4||e==5&&l.fmt<=2||e==6&&l.fmt<=2){var f=A.readUshort(n,o);o+=2,l.coverage=t._lctf.readCoverage(n,c+f)}if(e==1&&l.fmt>=1&&l.fmt<=2){if(l.fmt==1)l.delta=A.readShort(n,o),o+=2;else if(l.fmt==2){var u=A.readUshort(n,o);o+=2,l.newg=A.readUshorts(n,o,u),o+=2*l.newg.length}}else if(e==4){l.vals=[],u=A.readUshort(n,o),o+=2;for(var d=0;d<u;d++){var b=A.readUshort(n,o);o+=2,l.vals.push(t.GSUB.readLigatureSet(n,c+b))}}else if(e==5&&l.fmt==2){if(l.fmt==2){var C=A.readUshort(n,o);o+=2,l.cDef=t._lctf.readClassDef(n,c+C),l.scset=[];var m=A.readUshort(n,o);for(o+=2,d=0;d<m;d++){var g=A.readUshort(n,o);o+=2,l.scset.push(g==0?null:t.GSUB.readSubClassSet(n,c+g))}}}else if(e==6&&l.fmt==3){if(l.fmt==3){for(d=0;d<3;d++){u=A.readUshort(n,o),o+=2;for(var h=[],E=0;E<u;E++)h.push(t._lctf.readCoverage(n,c+A.readUshort(n,o+2*E)));o+=2*u,d==0&&(l.backCvg=h),d==1&&(l.inptCvg=h),d==2&&(l.ahedCvg=h)}u=A.readUshort(n,o),o+=2,l.lookupRec=t.GSUB.readSubstLookupRecords(n,o,u)}}else{if(e==7&&l.fmt==1){var I=A.readUshort(n,o);o+=2;var y=A.readUint(n,o);if(o+=4,s.ltype==9)s.ltype=I;else if(s.ltype!=I)throw"invalid extension substitution";return t.GSUB.subt(n,s.ltype,c+y)}console.debug("unsupported GSUB table LookupType",e,"format",l.fmt)}return l},t.GSUB.readSubClassSet=function(n,e){var o=t._bin.readUshort,s=e,A=[],c=o(n,e);e+=2;for(var l=0;l<c;l++){var f=o(n,e);e+=2,A.push(t.GSUB.readSubClassRule(n,s+f))}return A},t.GSUB.readSubClassRule=function(n,e){var o=t._bin.readUshort,s={},A=o(n,e),c=o(n,e+=2);e+=2,s.input=[];for(var l=0;l<A-1;l++)s.input.push(o(n,e)),e+=2;return s.substLookupRecords=t.GSUB.readSubstLookupRecords(n,e,c),s},t.GSUB.readSubstLookupRecords=function(n,e,o){for(var s=t._bin.readUshort,A=[],c=0;c<o;c++)A.push(s(n,e),s(n,e+2)),e+=4;return A},t.GSUB.readChainSubClassSet=function(n,e){var o=t._bin,s=e,A=[],c=o.readUshort(n,e);e+=2;for(var l=0;l<c;l++){var f=o.readUshort(n,e);e+=2,A.push(t.GSUB.readChainSubClassRule(n,s+f))}return A},t.GSUB.readChainSubClassRule=function(n,e){for(var o=t._bin,s={},A=["backtrack","input","lookahead"],c=0;c<A.length;c++){var l=o.readUshort(n,e);e+=2,c==1&&l--,s[A[c]]=o.readUshorts(n,e,l),e+=2*s[A[c]].length}return l=o.readUshort(n,e),e+=2,s.subst=o.readUshorts(n,e,2*l),e+=2*s.subst.length,s},t.GSUB.readLigatureSet=function(n,e){var o=t._bin,s=e,A=[],c=o.readUshort(n,e);e+=2;for(var l=0;l<c;l++){var f=o.readUshort(n,e);e+=2,A.push(t.GSUB.readLigature(n,s+f))}return A},t.GSUB.readLigature=function(n,e){var o=t._bin,s={chain:[]};s.nglyph=o.readUshort(n,e),e+=2;var A=o.readUshort(n,e);e+=2;for(var c=0;c<A-1;c++)s.chain.push(o.readUshort(n,e)),e+=2;return s},t.head={},t.head.parse=function(n,e,o){var s=t._bin,A={};return s.readFixed(n,e),e+=4,A.fontRevision=s.readFixed(n,e),e+=4,s.readUint(n,e),e+=4,s.readUint(n,e),e+=4,A.flags=s.readUshort(n,e),e+=2,A.unitsPerEm=s.readUshort(n,e),e+=2,A.created=s.readUint64(n,e),e+=8,A.modified=s.readUint64(n,e),e+=8,A.xMin=s.readShort(n,e),e+=2,A.yMin=s.readShort(n,e),e+=2,A.xMax=s.readShort(n,e),e+=2,A.yMax=s.readShort(n,e),e+=2,A.macStyle=s.readUshort(n,e),e+=2,A.lowestRecPPEM=s.readUshort(n,e),e+=2,A.fontDirectionHint=s.readShort(n,e),e+=2,A.indexToLocFormat=s.readShort(n,e),e+=2,A.glyphDataFormat=s.readShort(n,e),e+=2,A},t.hhea={},t.hhea.parse=function(n,e,o){var s=t._bin,A={};return s.readFixed(n,e),e+=4,A.ascender=s.readShort(n,e),e+=2,A.descender=s.readShort(n,e),e+=2,A.lineGap=s.readShort(n,e),e+=2,A.advanceWidthMax=s.readUshort(n,e),e+=2,A.minLeftSideBearing=s.readShort(n,e),e+=2,A.minRightSideBearing=s.readShort(n,e),e+=2,A.xMaxExtent=s.readShort(n,e),e+=2,A.caretSlopeRise=s.readShort(n,e),e+=2,A.caretSlopeRun=s.readShort(n,e),e+=2,A.caretOffset=s.readShort(n,e),e+=2,e+=8,A.metricDataFormat=s.readShort(n,e),e+=2,A.numberOfHMetrics=s.readUshort(n,e),e+=2,A},t.hmtx={},t.hmtx.parse=function(n,e,o,s){for(var A=t._bin,c={aWidth:[],lsBearing:[]},l=0,f=0,u=0;u<s.maxp.numGlyphs;u++)u<s.hhea.numberOfHMetrics&&(l=A.readUshort(n,e),e+=2,f=A.readShort(n,e),e+=2),c.aWidth.push(l),c.lsBearing.push(f);return c},t.kern={},t.kern.parse=function(n,e,o,s){var A=t._bin,c=A.readUshort(n,e);if(e+=2,c==1)return t.kern.parseV1(n,e-2,o,s);var l=A.readUshort(n,e);e+=2;for(var f={glyph1:[],rval:[]},u=0;u<l;u++){e+=2,o=A.readUshort(n,e),e+=2;var d=A.readUshort(n,e);e+=2;var b=d>>>8;if((b&=15)!=0)throw"unknown kern table format: "+b;e=t.kern.readFormat0(n,e,f)}return f},t.kern.parseV1=function(n,e,o,s){var A=t._bin;A.readFixed(n,e),e+=4;var c=A.readUint(n,e);e+=4;for(var l={glyph1:[],rval:[]},f=0;f<c;f++){A.readUint(n,e),e+=4;var u=A.readUshort(n,e);e+=2,A.readUshort(n,e),e+=2;var d=u>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;e=t.kern.readFormat0(n,e,l)}return l},t.kern.readFormat0=function(n,e,o){var s=t._bin,A=-1,c=s.readUshort(n,e);e+=2,s.readUshort(n,e),e+=2,s.readUshort(n,e),e+=2,s.readUshort(n,e),e+=2;for(var l=0;l<c;l++){var f=s.readUshort(n,e);e+=2;var u=s.readUshort(n,e);e+=2;var d=s.readShort(n,e);e+=2,f!=A&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var b=o.rval[o.rval.length-1];b.glyph2.push(u),b.vals.push(d),A=f}return e},t.loca={},t.loca.parse=function(n,e,o,s){var A=t._bin,c=[],l=s.head.indexToLocFormat,f=s.maxp.numGlyphs+1;if(l==0)for(var u=0;u<f;u++)c.push(A.readUshort(n,e+(u<<1))<<1);if(l==1)for(u=0;u<f;u++)c.push(A.readUint(n,e+(u<<2)));return c},t.maxp={},t.maxp.parse=function(n,e,o){var s=t._bin,A={},c=s.readUint(n,e);return e+=4,A.numGlyphs=s.readUshort(n,e),e+=2,c==65536&&(A.maxPoints=s.readUshort(n,e),e+=2,A.maxContours=s.readUshort(n,e),e+=2,A.maxCompositePoints=s.readUshort(n,e),e+=2,A.maxCompositeContours=s.readUshort(n,e),e+=2,A.maxZones=s.readUshort(n,e),e+=2,A.maxTwilightPoints=s.readUshort(n,e),e+=2,A.maxStorage=s.readUshort(n,e),e+=2,A.maxFunctionDefs=s.readUshort(n,e),e+=2,A.maxInstructionDefs=s.readUshort(n,e),e+=2,A.maxStackElements=s.readUshort(n,e),e+=2,A.maxSizeOfInstructions=s.readUshort(n,e),e+=2,A.maxComponentElements=s.readUshort(n,e),e+=2,A.maxComponentDepth=s.readUshort(n,e),e+=2),A},t.name={},t.name.parse=function(n,e,o){var s=t._bin,A={};s.readUshort(n,e),e+=2;var c=s.readUshort(n,e);e+=2,s.readUshort(n,e);for(var l,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=e+=2,d=0;d<c;d++){var b=s.readUshort(n,e);e+=2;var C=s.readUshort(n,e);e+=2;var m=s.readUshort(n,e);e+=2;var g=s.readUshort(n,e);e+=2;var h=s.readUshort(n,e);e+=2;var E=s.readUshort(n,e);e+=2;var I,y=f[g],v=u+12*c+E;if(b==0)I=s.readUnicode(n,v,h/2);else if(b==3&&C==0)I=s.readUnicode(n,v,h/2);else if(C==0)I=s.readASCII(n,v,h);else if(C==1)I=s.readUnicode(n,v,h/2);else if(C==3)I=s.readUnicode(n,v,h/2);else{if(b!=1)throw"unknown encoding "+C+", platformID: "+b;I=s.readASCII(n,v,h),console.debug("reading unknown MAC encoding "+C+" as ASCII")}var _="p"+b+","+m.toString(16);A[_]==null&&(A[_]={}),A[_][y!==void 0?y:g]=I,A[_]._lang=m}for(var p in A)if(A[p].postScriptName!=null&&A[p]._lang==1033)return A[p];for(var p in A)if(A[p].postScriptName!=null&&A[p]._lang==0)return A[p];for(var p in A)if(A[p].postScriptName!=null&&A[p]._lang==3084)return A[p];for(var p in A)if(A[p].postScriptName!=null)return A[p];for(var p in A){l=p;break}return console.debug("returning name table with languageID "+A[l]._lang),A[l]},t["OS/2"]={},t["OS/2"].parse=function(n,e,o){var s=t._bin.readUshort(n,e);e+=2;var A={};if(s==0)t["OS/2"].version0(n,e,A);else if(s==1)t["OS/2"].version1(n,e,A);else if(s==2||s==3||s==4)t["OS/2"].version2(n,e,A);else{if(s!=5)throw"unknown OS/2 table version: "+s;t["OS/2"].version5(n,e,A)}return A},t["OS/2"].version0=function(n,e,o){var s=t._bin;return o.xAvgCharWidth=s.readShort(n,e),e+=2,o.usWeightClass=s.readUshort(n,e),e+=2,o.usWidthClass=s.readUshort(n,e),e+=2,o.fsType=s.readUshort(n,e),e+=2,o.ySubscriptXSize=s.readShort(n,e),e+=2,o.ySubscriptYSize=s.readShort(n,e),e+=2,o.ySubscriptXOffset=s.readShort(n,e),e+=2,o.ySubscriptYOffset=s.readShort(n,e),e+=2,o.ySuperscriptXSize=s.readShort(n,e),e+=2,o.ySuperscriptYSize=s.readShort(n,e),e+=2,o.ySuperscriptXOffset=s.readShort(n,e),e+=2,o.ySuperscriptYOffset=s.readShort(n,e),e+=2,o.yStrikeoutSize=s.readShort(n,e),e+=2,o.yStrikeoutPosition=s.readShort(n,e),e+=2,o.sFamilyClass=s.readShort(n,e),e+=2,o.panose=s.readBytes(n,e,10),e+=10,o.ulUnicodeRange1=s.readUint(n,e),e+=4,o.ulUnicodeRange2=s.readUint(n,e),e+=4,o.ulUnicodeRange3=s.readUint(n,e),e+=4,o.ulUnicodeRange4=s.readUint(n,e),e+=4,o.achVendID=[s.readInt8(n,e),s.readInt8(n,e+1),s.readInt8(n,e+2),s.readInt8(n,e+3)],e+=4,o.fsSelection=s.readUshort(n,e),e+=2,o.usFirstCharIndex=s.readUshort(n,e),e+=2,o.usLastCharIndex=s.readUshort(n,e),e+=2,o.sTypoAscender=s.readShort(n,e),e+=2,o.sTypoDescender=s.readShort(n,e),e+=2,o.sTypoLineGap=s.readShort(n,e),e+=2,o.usWinAscent=s.readUshort(n,e),e+=2,o.usWinDescent=s.readUshort(n,e),e+=2},t["OS/2"].version1=function(n,e,o){var s=t._bin;return e=t["OS/2"].version0(n,e,o),o.ulCodePageRange1=s.readUint(n,e),e+=4,o.ulCodePageRange2=s.readUint(n,e),e+=4},t["OS/2"].version2=function(n,e,o){var s=t._bin;return e=t["OS/2"].version1(n,e,o),o.sxHeight=s.readShort(n,e),e+=2,o.sCapHeight=s.readShort(n,e),e+=2,o.usDefault=s.readUshort(n,e),e+=2,o.usBreak=s.readUshort(n,e),e+=2,o.usMaxContext=s.readUshort(n,e),e+=2},t["OS/2"].version5=function(n,e,o){var s=t._bin;return e=t["OS/2"].version2(n,e,o),o.usLowerOpticalPointSize=s.readUshort(n,e),e+=2,o.usUpperOpticalPointSize=s.readUshort(n,e),e+=2},t.post={},t.post.parse=function(n,e,o){var s=t._bin,A={};return A.version=s.readFixed(n,e),e+=4,A.italicAngle=s.readFixed(n,e),e+=4,A.underlinePosition=s.readShort(n,e),e+=2,A.underlineThickness=s.readShort(n,e),e+=2,A},t==null&&(t={}),t.U==null&&(t.U={}),t.U.codeToGlyph=function(n,e){var o=n.cmap,s=-1;if(o.p0e4!=null?s=o.p0e4:o.p3e1!=null?s=o.p3e1:o.p1e0!=null?s=o.p1e0:o.p0e3!=null&&(s=o.p0e3),s==-1)throw"no familiar platform and encoding!";var A=o.tables[s];if(A.format==0)return e>=A.map.length?0:A.map[e];if(A.format==4){for(var c=-1,l=0;l<A.endCount.length;l++)if(e<=A.endCount[l]){c=l;break}return c==-1||A.startCount[c]>e?0:65535&(A.idRangeOffset[c]!=0?A.glyphIdArray[e-A.startCount[c]+(A.idRangeOffset[c]>>1)-(A.idRangeOffset.length-c)]:e+A.idDelta[c])}if(A.format==12){if(e>A.groups[A.groups.length-1][1])return 0;for(l=0;l<A.groups.length;l++){var f=A.groups[l];if(f[0]<=e&&e<=f[1])return f[2]+(e-f[0])}return 0}throw"unknown cmap table format "+A.format},t.U.glyphToPath=function(n,e){var o={cmds:[],crds:[]};if(n.SVG&&n.SVG.entries[e]){var s=n.SVG.entries[e];return s==null?o:(typeof s=="string"&&(s=t.SVG.toPath(s),n.SVG.entries[e]=s),s)}if(n.CFF){var A={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:n.CFF.Private?n.CFF.Private.defaultWidthX:0,open:!1},c=n.CFF,l=n.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=e;)f+=2;l=c.FDArray[c.FDSelect[f+1]].Private}t.U._drawCFF(n.CFF.CharStrings[e],A,c,l,o)}else n.glyf&&t.U._drawGlyf(e,n,o);return o},t.U._drawGlyf=function(n,e,o){var s=e.glyf[n];s==null&&(s=e.glyf[n]=t.glyf._parseGlyf(e,n)),s!=null&&(s.noc>-1?t.U._simpleGlyph(s,o):t.U._compoGlyph(s,e,o))},t.U._simpleGlyph=function(n,e){for(var o=0;o<n.noc;o++){for(var s=o==0?0:n.endPts[o-1]+1,A=n.endPts[o],c=s;c<=A;c++){var l=c==s?A:c-1,f=c==A?s:c+1,u=1&n.flags[c],d=1&n.flags[l],b=1&n.flags[f],C=n.xs[c],m=n.ys[c];if(c==s)if(u){if(!d){t.U.P.moveTo(e,C,m);continue}t.U.P.moveTo(e,n.xs[l],n.ys[l])}else d?t.U.P.moveTo(e,n.xs[l],n.ys[l]):t.U.P.moveTo(e,(n.xs[l]+C)/2,(n.ys[l]+m)/2);u?d&&t.U.P.lineTo(e,C,m):b?t.U.P.qcurveTo(e,C,m,n.xs[f],n.ys[f]):t.U.P.qcurveTo(e,C,m,(C+n.xs[f])/2,(m+n.ys[f])/2)}t.U.P.closePath(e)}},t.U._compoGlyph=function(n,e,o){for(var s=0;s<n.parts.length;s++){var A={cmds:[],crds:[]},c=n.parts[s];t.U._drawGlyf(c.glyphIndex,e,A);for(var l=c.m,f=0;f<A.crds.length;f+=2){var u=A.crds[f],d=A.crds[f+1];o.crds.push(u*l.a+d*l.b+l.tx),o.crds.push(u*l.c+d*l.d+l.ty)}for(f=0;f<A.cmds.length;f++)o.cmds.push(A.cmds[f])}},t.U._getGlyphClass=function(n,e){var o=t._lctf.getInterval(e,n);return o==-1?0:e[o+2]},t.U.getPairAdjustment=function(n,e,o){var s=0,A=!1;if(n.GPOS)for(var c=n.GPOS,l=c.lookupList,f=c.featureList,u=[],d=0;d<f.length;d++){var b=f[d];if(b.tag=="kern"){A=!0;for(var C=0;C<b.tab.length;C++)if(!u[b.tab[C]]){u[b.tab[C]]=!0;for(var m=l[b.tab[C]],g=0;g<m.tabs.length;g++)if(m.tabs[g]!=null){var h,E=m.tabs[g];if((!E.coverage||(h=t._lctf.coverageIndex(E.coverage,e))!=-1)&&m.ltype!=1){if(m.ltype==2){var I;if(E.fmt==1){var y=E.pairsets[h];for(d=0;d<y.length;d++)y[d].gid2==o&&(I=y[d])}else if(E.fmt==2){var v=t.U._getGlyphClass(e,E.classDef1),_=t.U._getGlyphClass(o,E.classDef2);I=E.matrix[v][_]}I&&I.val1&&I.val1[2]&&(s+=I.val1[2]),I&&I.val2&&I.val2[0]&&(s+=I.val2[0])}}}}}}if(n.kern&&!A){var p=n.kern.glyph1.indexOf(e);if(p!=-1){var Q=n.kern.rval[p].glyph2.indexOf(o);Q!=-1&&(s+=n.kern.rval[p].vals[Q])}}return s},t.U._applySubs=function(n,e,o,s){for(var A=n.length-e-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var l,f=o.tabs[c];if(!f.coverage||(l=t._lctf.coverageIndex(f.coverage,n[e]))!=-1){if(o.ltype==1)n[e],f.fmt==1?n[e]=n[e]+f.delta:n[e]=f.newg[l];else if(o.ltype==4)for(var u=f.vals[l],d=0;d<u.length;d++){var b=u[d],C=b.chain.length;if(!(C>A)){for(var m=!0,g=0,h=0;h<C;h++){for(;n[e+g+(1+h)]==-1;)g++;b.chain[h]!=n[e+g+(1+h)]&&(m=!1)}if(m){for(n[e]=b.nglyph,h=0;h<C+g;h++)n[e+h+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var E=t._lctf.getInterval(f.cDef,n[e]),I=f.cDef[E+2],y=f.scset[I],v=0;v<y.length;v++){var _=y[v],p=_.input;if(!(p.length>A)){for(m=!0,h=0;h<p.length;h++){var Q=t._lctf.getInterval(f.cDef,n[e+1+h]);if(E==-1&&f.cDef[Q+2]!=p[h]){m=!1;break}}if(m){var w=_.substLookupRecords;for(d=0;d<w.length;d+=2)w[d],w[d+1]}}}else if(o.ltype==6&&f.fmt==3){if(!t.U._glsCovered(n,f.backCvg,e-f.backCvg.length)||!t.U._glsCovered(n,f.inptCvg,e)||!t.U._glsCovered(n,f.ahedCvg,e+f.inptCvg.length))continue;var D=f.lookupRec;for(v=0;v<D.length;v+=2){E=D[v];var x=s[D[v+1]];t.U._applySubs(n,e+E,x,s)}}}}},t.U._glsCovered=function(n,e,o){for(var s=0;s<e.length;s++)if(t._lctf.coverageIndex(e[s],n[o+s])==-1)return!1;return!0},t.U.glyphsToPath=function(n,e,o){for(var s={cmds:[],crds:[]},A=0,c=0;c<e.length;c++){var l=e[c];if(l!=-1){for(var f=c<e.length-1&&e[c+1]!=-1?e[c+1]:0,u=t.U.glyphToPath(n,l),d=0;d<u.crds.length;d+=2)s.crds.push(u.crds[d]+A),s.crds.push(u.crds[d+1]);for(o&&s.cmds.push(o),d=0;d<u.cmds.length;d++)s.cmds.push(u.cmds[d]);o&&s.cmds.push("X"),A+=n.hmtx.aWidth[l],c<e.length-1&&(A+=t.U.getPairAdjustment(n,l,f))}}return s},t.U.P={},t.U.P.moveTo=function(n,e,o){n.cmds.push("M"),n.crds.push(e,o)},t.U.P.lineTo=function(n,e,o){n.cmds.push("L"),n.crds.push(e,o)},t.U.P.curveTo=function(n,e,o,s,A,c,l){n.cmds.push("C"),n.crds.push(e,o,s,A,c,l)},t.U.P.qcurveTo=function(n,e,o,s,A){n.cmds.push("Q"),n.crds.push(e,o,s,A)},t.U.P.closePath=function(n){n.cmds.push("Z")},t.U._drawCFF=function(n,e,o,s,A){for(var c=e.stack,l=e.nStems,f=e.haveWidth,u=e.width,d=e.open,b=0,C=e.x,m=e.y,g=0,h=0,E=0,I=0,y=0,v=0,_=0,p=0,Q=0,w=0,D={val:0,size:0};b<n.length;){t.CFF.getCharString(n,b,D);var x=D.val;if(b+=D.size,x=="o1"||x=="o18")c.length%2!=0&&!f&&(u=c.shift()+s.nominalWidthX),l+=c.length>>1,c.length=0,f=!0;else if(x=="o3"||x=="o23")c.length%2!=0&&!f&&(u=c.shift()+s.nominalWidthX),l+=c.length>>1,c.length=0,f=!0;else if(x=="o4")c.length>1&&!f&&(u=c.shift()+s.nominalWidthX,f=!0),d&&t.U.P.closePath(A),m+=c.pop(),t.U.P.moveTo(A,C,m),d=!0;else if(x=="o5")for(;c.length>0;)C+=c.shift(),m+=c.shift(),t.U.P.lineTo(A,C,m);else if(x=="o6"||x=="o7")for(var R=c.length,T=x=="o6",j=0;j<R;j++){var L=c.shift();T?C+=L:m+=L,T=!T,t.U.P.lineTo(A,C,m)}else if(x=="o8"||x=="o24"){R=c.length;for(var K=0;K+6<=R;)g=C+c.shift(),h=m+c.shift(),E=g+c.shift(),I=h+c.shift(),C=E+c.shift(),m=I+c.shift(),t.U.P.curveTo(A,g,h,E,I,C,m),K+=6;x=="o24"&&(C+=c.shift(),m+=c.shift(),t.U.P.lineTo(A,C,m))}else{if(x=="o11")break;if(x=="o1234"||x=="o1235"||x=="o1236"||x=="o1237")x=="o1234"&&(h=m,E=(g=C+c.shift())+c.shift(),w=I=h+c.shift(),v=I,p=m,C=(_=(y=(Q=E+c.shift())+c.shift())+c.shift())+c.shift(),t.U.P.curveTo(A,g,h,E,I,Q,w),t.U.P.curveTo(A,y,v,_,p,C,m)),x=="o1235"&&(g=C+c.shift(),h=m+c.shift(),E=g+c.shift(),I=h+c.shift(),Q=E+c.shift(),w=I+c.shift(),y=Q+c.shift(),v=w+c.shift(),_=y+c.shift(),p=v+c.shift(),C=_+c.shift(),m=p+c.shift(),c.shift(),t.U.P.curveTo(A,g,h,E,I,Q,w),t.U.P.curveTo(A,y,v,_,p,C,m)),x=="o1236"&&(g=C+c.shift(),h=m+c.shift(),E=g+c.shift(),w=I=h+c.shift(),v=I,_=(y=(Q=E+c.shift())+c.shift())+c.shift(),p=v+c.shift(),C=_+c.shift(),t.U.P.curveTo(A,g,h,E,I,Q,w),t.U.P.curveTo(A,y,v,_,p,C,m)),x=="o1237"&&(g=C+c.shift(),h=m+c.shift(),E=g+c.shift(),I=h+c.shift(),Q=E+c.shift(),w=I+c.shift(),y=Q+c.shift(),v=w+c.shift(),_=y+c.shift(),p=v+c.shift(),Math.abs(_-C)>Math.abs(p-m)?C=_+c.shift():m=p+c.shift(),t.U.P.curveTo(A,g,h,E,I,Q,w),t.U.P.curveTo(A,y,v,_,p,C,m));else if(x=="o14"){if(c.length>0&&!f&&(u=c.shift()+o.nominalWidthX,f=!0),c.length==4){var z=c.shift(),N=c.shift(),q=c.shift(),M=c.shift(),Y=t.CFF.glyphBySE(o,q),oe=t.CFF.glyphBySE(o,M);t.U._drawCFF(o.CharStrings[Y],e,o,s,A),e.x=z,e.y=N,t.U._drawCFF(o.CharStrings[oe],e,o,s,A)}d&&(t.U.P.closePath(A),d=!1)}else if(x=="o19"||x=="o20")c.length%2!=0&&!f&&(u=c.shift()+s.nominalWidthX),l+=c.length>>1,c.length=0,f=!0,b+=l+7>>3;else if(x=="o21")c.length>2&&!f&&(u=c.shift()+s.nominalWidthX,f=!0),m+=c.pop(),C+=c.pop(),d&&t.U.P.closePath(A),t.U.P.moveTo(A,C,m),d=!0;else if(x=="o22")c.length>1&&!f&&(u=c.shift()+s.nominalWidthX,f=!0),C+=c.pop(),d&&t.U.P.closePath(A),t.U.P.moveTo(A,C,m),d=!0;else if(x=="o25"){for(;c.length>6;)C+=c.shift(),m+=c.shift(),t.U.P.lineTo(A,C,m);g=C+c.shift(),h=m+c.shift(),E=g+c.shift(),I=h+c.shift(),C=E+c.shift(),m=I+c.shift(),t.U.P.curveTo(A,g,h,E,I,C,m)}else if(x=="o26")for(c.length%2&&(C+=c.shift());c.length>0;)g=C,h=m+c.shift(),C=E=g+c.shift(),m=(I=h+c.shift())+c.shift(),t.U.P.curveTo(A,g,h,E,I,C,m);else if(x=="o27")for(c.length%2&&(m+=c.shift());c.length>0;)h=m,E=(g=C+c.shift())+c.shift(),I=h+c.shift(),C=E+c.shift(),m=I,t.U.P.curveTo(A,g,h,E,I,C,m);else if(x=="o10"||x=="o29"){var ae=x=="o10"?s:o;if(c.length==0)console.debug("error: empty stack");else{var te=c.pop(),se=ae.Subrs[te+ae.Bias];e.x=C,e.y=m,e.nStems=l,e.haveWidth=f,e.width=u,e.open=d,t.U._drawCFF(se,e,o,s,A),C=e.x,m=e.y,l=e.nStems,f=e.haveWidth,u=e.width,d=e.open}}else if(x=="o30"||x=="o31"){var $=c.length,U=(K=0,x=="o31");for(K+=$-(R=-3&$);K<R;)U?(h=m,E=(g=C+c.shift())+c.shift(),m=(I=h+c.shift())+c.shift(),R-K==5?(C=E+c.shift(),K++):C=E,U=!1):(g=C,h=m+c.shift(),E=g+c.shift(),I=h+c.shift(),C=E+c.shift(),R-K==5?(m=I+c.shift(),K++):m=I,U=!0),t.U.P.curveTo(A,g,h,E,I,C,m),K+=4}else{if((x+"").charAt(0)=="o")throw console.debug("Unknown operation: "+x,n),x;c.push(x)}}}e.x=C,e.y=m,e.nStems=l,e.haveWidth=f,e.width=u,e.open=d};var a=t,r={Typr:a};return i.Typr=a,i.default=r,Object.defineProperty(i,"__esModule",{value:!0}),i}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function gf(){return function(i){var t=Uint8Array,a=Uint16Array,r=Uint32Array,n=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(x,R){for(var T=new a(31),j=0;j<31;++j)T[j]=R+=1<<x[j-1];var L=new r(T[30]);for(j=1;j<30;++j)for(var K=T[j];K<T[j+1];++K)L[K]=K-T[j]<<5|j;return[T,L]},A=s(n,2),c=A[0],l=A[1];c[28]=258,l[258]=28;for(var f=s(e,0)[0],u=new a(32768),d=0;d<32768;++d){var b=(43690&d)>>>1|(21845&d)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,u[d]=((65280&b)>>>8|(255&b)<<8)>>>1}var C=function(x,R,T){for(var j=x.length,L=0,K=new a(R);L<j;++L)++K[x[L]-1];var z,N=new a(R);for(L=0;L<R;++L)N[L]=N[L-1]+K[L-1]<<1;if(T){z=new a(1<<R);var q=15-R;for(L=0;L<j;++L)if(x[L])for(var M=L<<4|x[L],Y=R-x[L],oe=N[x[L]-1]++<<Y,ae=oe|(1<<Y)-1;oe<=ae;++oe)z[u[oe]>>>q]=M}else for(z=new a(j),L=0;L<j;++L)x[L]&&(z[L]=u[N[x[L]-1]++]>>>15-x[L]);return z},m=new t(288);for(d=0;d<144;++d)m[d]=8;for(d=144;d<256;++d)m[d]=9;for(d=256;d<280;++d)m[d]=7;for(d=280;d<288;++d)m[d]=8;var g=new t(32);for(d=0;d<32;++d)g[d]=5;var h=C(m,9,1),E=C(g,5,1),I=function(x){for(var R=x[0],T=1;T<x.length;++T)x[T]>R&&(R=x[T]);return R},y=function(x,R,T){var j=R/8|0;return(x[j]|x[j+1]<<8)>>(7&R)&T},v=function(x,R){var T=R/8|0;return(x[T]|x[T+1]<<8|x[T+2]<<16)>>(7&R)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],p=function(x,R,T){var j=new Error(R||_[x]);if(j.code=x,Error.captureStackTrace&&Error.captureStackTrace(j,p),!T)throw j;return j},Q=function(x,R,T){var j=x.length;if(!j||T&&!T.l&&j<5)return R||new t(0);var L=!R||T,K=!T||T.i;T||(T={}),R||(R=new t(3*j));var z,N=function(Ce){var Re=R.length;if(Ce>Re){var we=new t(Math.max(2*Re,Ce));we.set(R),R=we}},q=T.f||0,M=T.p||0,Y=T.b||0,oe=T.l,ae=T.d,te=T.m,se=T.n,$=8*j;do{if(!oe){T.f=q=y(x,M,1);var U=y(x,M+1,3);if(M+=3,!U){var B=x[(ce=((z=M)/8|0)+(7&z&&1)+4)-4]|x[ce-3]<<8,S=ce+B;if(S>j){K&&p(0);break}L&&N(Y+B),R.set(x.subarray(ce,S),Y),T.b=Y+=B,T.p=M=8*S;continue}if(U==1)oe=h,ae=E,te=9,se=5;else if(U==2){var k=y(x,M,31)+257,G=y(x,M+10,15)+4,H=k+y(x,M+5,31)+1;M+=14;for(var W=new t(H),re=new t(19),Ae=0;Ae<G;++Ae)re[o[Ae]]=y(x,M+3*Ae,7);M+=3*G;var he=I(re),ne=(1<<he)-1,ue=C(re,he,1);for(Ae=0;Ae<H;){var ce,J=ue[y(x,M,ne)];if(M+=15&J,(ce=J>>>4)<16)W[Ae++]=ce;else{var be=0,fe=0;for(ce==16?(fe=3+y(x,M,3),M+=2,be=W[Ae-1]):ce==17?(fe=3+y(x,M,7),M+=3):ce==18&&(fe=11+y(x,M,127),M+=7);fe--;)W[Ae++]=be}}var de=W.subarray(0,k),ge=W.subarray(k);te=I(de),se=I(ge),oe=C(de,te,1),ae=C(ge,se,1)}else p(1);if(M>$){K&&p(0);break}}L&&N(Y+131072);for(var xe=(1<<te)-1,De=(1<<se)-1,F=M;;F=M){var ie=(be=oe[v(x,M)&xe])>>>4;if((M+=15&be)>$){K&&p(0);break}if(be||p(2),ie<256)R[Y++]=ie;else{if(ie==256){F=M,oe=null;break}var _e=ie-254;if(ie>264){var Qe=n[Ae=ie-257];_e=y(x,M,(1<<Qe)-1)+c[Ae],M+=Qe}var ke=ae[v(x,M)&De],Me=ke>>>4;if(ke||p(3),M+=15&ke,ge=f[Me],Me>3&&(Qe=e[Me],ge+=v(x,M)&(1<<Qe)-1,M+=Qe),M>$){K&&p(0);break}L&&N(Y+131072);for(var Ee=Y+_e;Y<Ee;Y+=4)R[Y]=R[Y-ge],R[Y+1]=R[Y+1-ge],R[Y+2]=R[Y+2-ge],R[Y+3]=R[Y+3-ge];Y=Ee}}T.l=oe,T.p=F,T.b=Y,oe&&(q=1,T.m=te,T.d=ae,T.n=se)}while(!q);return Y==R.length?R:function(Ce,Re,we){(Re==null||Re<0)&&(Re=0),(we==null||we>Ce.length)&&(we=Ce.length);var Oe=new(Ce instanceof a?a:Ce instanceof r?r:t)(we-Re);return Oe.set(Ce.subarray(Re,we)),Oe}(R,0,Y)},w=new t(0),D=typeof TextDecoder<"u"&&new TextDecoder;try{D.decode(w,{stream:!0})}catch{}return i.convert_streams=function(x){var R=new DataView(x),T=0;function j(){var k=R.getUint16(T);return T+=2,k}function L(){var k=R.getUint32(T);return T+=4,k}function K(k){B.setUint16(S,k),S+=2}function z(k){B.setUint32(S,k),S+=4}for(var N={signature:L(),flavor:L(),length:L(),numTables:j(),reserved:j(),totalSfntSize:L(),majorVersion:j(),minorVersion:j(),metaOffset:L(),metaLength:L(),metaOrigLength:L(),privOffset:L(),privLength:L()},q=0;Math.pow(2,q)<=N.numTables;)q++;q--;for(var M=16*Math.pow(2,q),Y=16*N.numTables-M,oe=12,ae=[],te=0;te<N.numTables;te++)ae.push({tag:L(),offset:L(),compLength:L(),origLength:L(),origChecksum:L()}),oe+=16;var se,$=new Uint8Array(12+16*ae.length+ae.reduce(function(k,G){return k+G.origLength+4},0)),U=$.buffer,B=new DataView(U),S=0;return z(N.flavor),K(N.numTables),K(M),K(q),K(Y),ae.forEach(function(k){z(k.tag),z(k.origChecksum),z(oe),z(k.origLength),k.outOffset=oe,(oe+=k.origLength)%4!=0&&(oe+=4-oe%4)}),ae.forEach(function(k){var G,H=x.slice(k.offset,k.offset+k.compLength);if(k.compLength!=k.origLength){var W=new Uint8Array(k.origLength);G=new Uint8Array(H,2),Q(G,W)}else W=new Uint8Array(H);$.set(W,k.outOffset);var re=0;(oe=k.outOffset+k.origLength)%4!=0&&(re=4-oe%4),$.set(new Uint8Array(re).buffer,k.outOffset+k.origLength),se=oe+re}),U.slice(0,se)},Object.defineProperty(i,"__esModule",{value:!0}),i}({}).convert_streams}function df(i,t){const a={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},n=1,e=2,o=4,s=8,A=16,c=32;let l;function f(I){if(!l){const y={R:e,L:n,D:o,C:A,U:c,T:s};l=new Map;for(let v in r){let _=0;r[v].split(",").forEach(p=>{let[Q,w]=p.split("+");Q=parseInt(Q,36),w=w?parseInt(w,36):0,l.set(_+=Q,y[v]);for(let D=w;D--;)l.set(++_,y[v])})}}return l.get(I)||c}const u=1,d=2,b=3,C=4,m=[null,"isol","init","fina","medi"];function g(I){const y=new Uint8Array(I.length);let v=c,_=u,p=-1;for(let Q=0;Q<I.length;Q++){const w=I.codePointAt(Q);let D=f(w)|0,x=u;D&s||(v&(n|o|A)?D&(e|o|A)?(x=b,(_===u||_===b)&&y[p]++):D&(n|c)&&(_===d||_===C)&&y[p]--:v&(e|c)&&(_===d||_===C)&&y[p]--,_=y[Q]=x,v=D,p=Q,w>65535&&Q++)}return y}function h(I,y){const v=[];for(let p=0;p<y.length;p++){const Q=y.codePointAt(p);Q>65535&&p++,v.push(i.U.codeToGlyph(I,Q))}const _=I.GSUB;if(_){const{lookupList:p,featureList:Q}=_;let w;const D=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,x=[];Q.forEach(R=>{if(D.test(R.tag))for(let T=0;T<R.tab.length;T++){if(x[R.tab[T]])continue;x[R.tab[T]]=!0;const j=p[R.tab[T]],L=/^(isol|init|fina|medi)$/.test(R.tag);L&&!w&&(w=g(y));for(let K=0;K<v.length;K++)(!w||!L||m[w[K]]===R.tag)&&i.U._applySubs(v,K,j,p)}})}return v}function E(I){const y=Object.create(null),v={unitsPerEm:I.head.unitsPerEm,ascender:I.hhea.ascender,descender:I.hhea.descender,forEachGlyph(_,p,Q,w){let D=0;const x=1/v.unitsPerEm*p,R=h(I,_);let T=0,j=-1;return R.forEach((L,K)=>{if(L!==-1){let z=y[L];if(!z){const{cmds:N,crds:q}=i.U.glyphToPath(I,L);let M="",Y=0;for(let $=0,U=N.length;$<U;$++){const B=a[N[$]];M+=N[$];for(let S=1;S<=B;S++)M+=(S>1?",":"")+q[Y++]}let oe,ae,te,se;if(q.length){oe=ae=1/0,te=se=-1/0;for(let $=0,U=q.length;$<U;$+=2){let B=q[$],S=q[$+1];B<oe&&(oe=B),S<ae&&(ae=S),B>te&&(te=B),S>se&&(se=S)}}else oe=te=ae=se=0;z=y[L]={index:L,advanceWidth:I.hmtx.aWidth[L],xMin:oe,yMin:ae,xMax:te,yMax:se,path:M,pathCommandCount:N.length}}j!==-1&&(D+=i.U.getPairAdjustment(I,j,L)*x),w.call(null,z,D,T),z.advanceWidth&&(D+=z.advanceWidth*x),Q&&(D+=Q*p),j=L}T+=_.codePointAt(T)>65535?2:1}),D}};return v}return function(y){const v=new Uint8Array(y,0,4),_=i._bin.readASCII(v,0,4);if(_==="wOFF")y=t(y);else if(_==="wOF2")throw new Error("woff2 fonts not supported");return E(i.parse(y)[0])}}const hf=En({name:"Typr Font Parser",dependencies:[uf,gf,df],init(i,t,a){const r=i(),n=t();return a(r,n)}}),gn={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},pf=new Se;function un(){return(self.performance||Date).now()}const ti=Object.create(null);function mf(i,t){i=If({},i);const a=un();if(i.font=Ef(i.font||gn.defaultFontURL),i.text=""+i.text,i.sdfGlyphSize=i.sdfGlyphSize||gn.sdfGlyphSize,i.colorRanges!=null){let f={};for(let u in i.colorRanges)if(i.colorRanges.hasOwnProperty(u)){let d=i.colorRanges[u];typeof d!="number"&&(d=pf.set(d).getHex()),f[u]=d}i.colorRanges=f}Object.freeze(i);const{textureWidth:r,sdfExponent:n}=gn,{sdfGlyphSize:e}=i,o=r/e*4;let s=ti[e];if(!s){const f=document.createElement("canvas");f.width=r,f.height=e*256/o,s=ti[e]={glyphCount:0,sdfGlyphSize:e,sdfCanvas:f,sdfTexture:new kr(f,void 0,void 0,void 0,bn,bn),contextLost:!1,glyphsByFont:new Map},s.sdfTexture.generateMipmaps=!1,bf(s)}const{sdfTexture:A,sdfCanvas:c}=s;let l=s.glyphsByFont.get(i.font);l||s.glyphsByFont.set(i.font,l=new Map),Bf(i).then(f=>{const{glyphIds:u,glyphPositions:d,fontSize:b,unitsPerEm:C,timings:m}=f,g=[],h=new Float32Array(u.length*4),E=b/C;let I=0,y=0;const v=un();u.forEach((D,x)=>{let R=l.get(D);if(!R){const{path:K,pathBounds:z}=f.glyphData[D],N=Math.max(z[2]-z[0],z[3]-z[1])/e*(gn.sdfMargin*e+.5),q=s.glyphCount++,M=[z[0]-N,z[1]-N,z[2]+N,z[3]+N];l.set(D,R={path:K,atlasIndex:q,sdfViewBox:M}),g.push(R)}const{sdfViewBox:T}=R,j=d[y++],L=d[y++];h[I++]=j+T[0]*E,h[I++]=L+T[1]*E,h[I++]=j+T[2]*E,h[I++]=L+T[3]*E,u[x]=R.atlasIndex}),m.quads=(m.quads||0)+(un()-v);const _=un();m.sdf={};const p=c.height,Q=Math.ceil(s.glyphCount/o),w=Math.pow(2,Math.ceil(Math.log2(Q*e)));w>p&&(console.info(`Increasing SDF texture size ${p}->${w}`),ff(c,r,w),A.dispose()),Rt.all(g.map(D=>Ds(D,s,i.gpuAccelerateSDF).then(({timing:x})=>{m.sdf[D.atlasIndex]=x}))).then(()=>{g.length&&!s.contextLost&&(ks(s),A.needsUpdate=!0),m.sdfTotal=un()-_,m.total=un()-a,t(Object.freeze({parameters:i,sdfTexture:A,sdfGlyphSize:e,sdfExponent:n,glyphBounds:h,glyphAtlasIndices:u,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),f.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[D,x,R,T]=f.blockBounds;return[R-D,T-x]}}))})}),Rt.all([]).then(()=>{s.contextLost||lf(c)})}function Ds({path:i,atlasIndex:t,sdfViewBox:a},{sdfGlyphSize:r,sdfCanvas:n,contextLost:e},o){if(e)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:A}=gn,c=Math.max(a[2]-a[0],a[3]-a[1]),l=Math.floor(t/4),f=l%(s/r)*r,u=Math.floor(l/(s/r))*r,d=t%4;return Af(r,r,i,a,c,A,n,f,u,d,o)}function bf(i){const t=i.sdfCanvas;t.addEventListener("webglcontextlost",a=>{console.log("Context Lost",a),a.preventDefault(),i.contextLost=!0}),t.addEventListener("webglcontextrestored",a=>{console.log("Context Restored",a),i.contextLost=!1;const r=[];i.glyphsByFont.forEach(n=>{n.forEach(e=>{r.push(Ds(e,i,!0))})}),Rt.all(r).then(()=>{ks(i),i.sdfTexture.needsUpdate=!0})})}function If(i,t){for(let a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);return i}let Br;function Ef(i){return Br||(Br=typeof document>"u"?{}:document.createElement("a")),Br.href=i,Br.href}function ks(i){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:a}=i,{width:r,height:n}=t,e=i.sdfCanvas.getContext("webgl");let o=a.image.data;(!o||o.length!==r*n*4)&&(o=new Uint8Array(r*n*4),a.image={width:r,height:n,data:o},a.flipY=!1,a.isDataTexture=!0),e.readPixels(0,0,r,n,e.RGBA,e.UNSIGNED_BYTE,o)}}const Cf=En({name:"Typesetter",dependencies:[gn,hf,sf,Xl],init(i,t,a,r){const{defaultFontURL:n}=i;return a(t,r(),{defaultFontURL:n})}}),Bf=En({name:"Typesetter",dependencies:[Cf,Vl],init(i,t){return function(a){const r=new t;return i.typeset(a,r.resolve),r}},getTransferables(i){const t=[i.glyphPositions.buffer,i.glyphIds.buffer];return i.caretPositions&&t.push(i.caretPositions.buffer),i.glyphColors&&t.push(i.glyphColors.buffer),t}}),vf=(()=>{const i={};function t(A){let c=i[A];if(!c){const l=new ka(1,1,A,A),f=l.clone(),u=l.attributes,d=f.attributes,b=new Tr,C=u.uv.count;for(let m=0;m<C;m++)d.position.array[m*3]*=-1,d.normal.array[m*3+2]*=-1;["position","normal","uv"].forEach(m=>{b.setAttribute(m,new Fa([...u[m].array,...d[m].array],u[m].itemSize))}),b.setIndex([...l.index.array,...f.index.array.map(m=>m+C)]),b.translate(.5,.5,0),c=i[A]=b}return c}const a="aTroikaGlyphBounds",r="aTroikaGlyphIndex",n="aTroikaGlyphColor";class e extends nc{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new es,this.boundingBox=new Zi}computeBoundingSphere(){}computeBoundingBox(){}setSide(c){const l=this.getIndex().count;this.setDrawRange(c===rs?l/2:0,c===Va?l:l/2)}set detail(c){if(c!==this._detail){this._detail=c,(typeof c!="number"||c<1)&&(c=1);let l=t(c);["position","normal","uv"].forEach(f=>{this.attributes[f]=l.attributes[f].clone()}),this.setIndex(l.getIndex().clone())}}get detail(){return this._detail}set curveRadius(c){c!==this._curveRadius&&(this._curveRadius=c,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(c,l,f,u,d){o(this,a,c,4),o(this,r,l,1),o(this,n,d,3),this._blockBounds=f,this._chunkedBounds=u,s(this,l.length),this._updateBounds()}_updateBounds(){const c=this._blockBounds;if(c){const{curveRadius:l,boundingBox:f}=this;if(l){const{PI:u,floor:d,min:b,max:C,sin:m,cos:g}=Math,h=u/2,E=u*2,I=Math.abs(l),y=c[0]/I,v=c[2]/I,_=d((y+h)/E)!==d((v+h)/E)?-I:b(m(y)*I,m(v)*I),p=d((y-h)/E)!==d((v-h)/E)?I:C(m(y)*I,m(v)*I),Q=d((y+u)/E)!==d((v+u)/E)?I*2:C(I-g(y)*I,I-g(v)*I);f.min.set(_,c[1],l<0?-Q:0),f.max.set(p,c[3],l<0?0:Q)}else f.min.set(c[0],c[1],0),f.max.set(c[2],c[3],0);f.getBoundingSphere(this.boundingSphere)}}applyClipRect(c){let l=this.getAttribute(r).count,f=this._chunkedBounds;if(f)for(let u=f.length;u--;){l=f[u].end;let d=f[u].rect;if(d[1]<c.w&&d[3]>c.y&&d[0]<c.z&&d[2]>c.x)break}s(this,l)}}e.prototype.setAttribute||(e.prototype.setAttribute=function(A,c){return this.attributes[A]=c,this});function o(A,c,l,f){const u=A.getAttribute(c);l?u&&u.array.length===l.length?(u.array.set(l),u.needsUpdate=!0):(A.setAttribute(c,new rc(l,f)),delete A._maxInstanceCount,A.dispose()):u&&A.deleteAttribute(c)}function s(A,c){A[A.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=c}return e})(),_f=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,yf=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Qf=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,wf=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function xf(i){const t=Pa(i,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ze},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Da(0,0,0,0)},uTroikaClipRect:{value:new Da(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ze},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Se},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new ns},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:_f,vertexTransform:yf,fragmentDefs:Qf,fragmentColorTransform:wf,customRewriter({vertexShader:a,fragmentShader:r}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(r)&&(r=r.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(a)||(a=a.replace(Ss,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:a,fragmentShader:r}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const Sf=(()=>{const i=new Vt({color:16777215,side:Va,transparent:!0}),t=8421504,a=new mn,r=new Pe,n=new Pe,e=[],o=new Pe,s="+x+y";function A(g){return Array.isArray(g)?g[0]:g}let c=()=>{const g=new Qr(new ka(1,1),i);return c=()=>g,g},l=()=>{const g=new Qr(new ka(1,1,32,1),i);return l=()=>g,g};const f={type:"syncstart"},u={type:"synccomplete"},d=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],b=d.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class C extends Qr{constructor(){const h=new vf;super(h,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=t,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=s,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(h){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(h):(this._isSyncing=!0,this.dispatchEvent(f),mf({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},E=>{this._isSyncing=!1,this._textRenderInfo=E,this.geometry.updateGlyphs(E.glyphBounds,E.glyphAtlasIndices,E.blockBounds,E.chunkedBounds,E.glyphColors);const I=this._queuedSyncs;I&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{I.forEach(y=>y&&y())})),this.dispatchEvent(u),h&&h()})))}onBeforeRender(h,E,I,y,v,_){this.sync(),v.isTroikaTextMaterial&&this._prepareForRender(v),v._hadOwnSide=v.hasOwnProperty("side"),this.geometry.setSide(v._actualSide=v.side),v.side=Xi}onAfterRender(h,E,I,y,v,_){v._hadOwnSide?v.side=v._actualSide:delete v.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let h=this._derivedMaterial;const E=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=i.clone());if((!h||h.baseMaterial!==E)&&(h=this._derivedMaterial=xf(E),E.addEventListener("dispose",function I(){E.removeEventListener("dispose",I),h.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let I=h._outlineMtl;return I||(I=h._outlineMtl=Object.create(h,{id:{value:h.id+.1}}),I.isTextOutlineMaterial=!0,I.depthWrite=!1,I.map=null,h.addEventListener("dispose",function y(){h.removeEventListener("dispose",y),I.dispose()})),[I,h]}else return h}set material(h){h&&h.isTroikaTextMaterial?(this._derivedMaterial=h,this._baseMaterial=h.baseMaterial):this._baseMaterial=h}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(h){this.geometry.detail=h}get curveRadius(){return this.geometry.curveRadius}set curveRadius(h){this.geometry.curveRadius=h}get customDepthMaterial(){return A(this.material).getDepthMaterial()}get customDistanceMaterial(){return A(this.material).getDistanceMaterial()}_prepareForRender(h){const E=h.isTextOutlineMaterial,I=h.uniforms,y=this.textRenderInfo;if(y){const{sdfTexture:p,blockBounds:Q}=y;I.uTroikaSDFTexture.value=p,I.uTroikaSDFTextureSize.value.set(p.image.width,p.image.height),I.uTroikaSDFGlyphSize.value=y.sdfGlyphSize,I.uTroikaSDFExponent.value=y.sdfExponent,I.uTroikaTotalBounds.value.fromArray(Q),I.uTroikaUseGlyphColors.value=!E&&!!y.glyphColors;let w=0,D=0,x=0,R,T,j,L=0,K=0;if(E){let{outlineWidth:N,outlineOffsetX:q,outlineOffsetY:M,outlineBlur:Y,outlineOpacity:oe}=this;w=this._parsePercent(N)||0,D=Math.max(0,this._parsePercent(Y)||0),R=oe,L=this._parsePercent(q)||0,K=this._parsePercent(M)||0}else x=Math.max(0,this._parsePercent(this.strokeWidth)||0),x&&(j=this.strokeColor,I.uTroikaStrokeColor.value.set(j??t),T=this.strokeOpacity,T==null&&(T=1)),R=this.fillOpacity;I.uTroikaDistanceOffset.value=w,I.uTroikaPositionOffset.value.set(L,K),I.uTroikaBlurRadius.value=D,I.uTroikaStrokeWidth.value=x,I.uTroikaStrokeOpacity.value=T,I.uTroikaFillOpacity.value=R??1,I.uTroikaCurveRadius.value=this.curveRadius||0;let z=this.clipRect;if(z&&Array.isArray(z)&&z.length===4)I.uTroikaClipRect.value.fromArray(z);else{const N=(this.fontSize||.1)*100;I.uTroikaClipRect.value.set(Q[0]-N,Q[1]-N,Q[2]+N,Q[3]+N)}this.geometry.applyClipRect(I.uTroikaClipRect.value)}I.uTroikaSDFDebug.value=!!this.debugSDF,h.polygonOffset=!!this.depthOffset,h.polygonOffsetFactor=h.polygonOffsetUnits=this.depthOffset||0;const v=E?this.outlineColor||0:this.color;if(v==null)delete h.color;else{const p=h.hasOwnProperty("color")?h.color:h.color=new Se;(v!==p._input||typeof v=="object")&&p.set(p._input=v)}let _=this.orientation||s;if(_!==h._orientation){let p=I.uTroikaOrient.value;_=_.replace(/[^-+xyz]/g,"");let Q=_!==s&&_.match(/^([-+])([xyz])([-+])([xyz])$/);if(Q){let[,w,D,x,R]=Q;r.set(0,0,0)[D]=w==="-"?1:-1,n.set(0,0,0)[R]=x==="-"?-1:1,a.lookAt(o,r.cross(n),n),p.setFromMatrix4(a)}else p.identity();h._orientation=_}}_parsePercent(h){if(typeof h=="string"){let E=h.match(/^(-?[\d.]+)%$/),I=E?parseFloat(E[1]):NaN;h=(isNaN(I)?0:I/100)*this.fontSize}return h}localPositionToTextCoords(h,E=new ze){E.copy(h);const I=this.curveRadius;return I&&(E.x=Math.atan2(h.x,Math.abs(I)-Math.abs(h.z))*Math.abs(I)),E}worldPositionToTextCoords(h,E=new ze){return r.copy(h),this.localPositionToTextCoords(this.worldToLocal(r),E)}raycast(h,E){const{textRenderInfo:I,curveRadius:y}=this;if(I){const v=I.blockBounds,_=y?l():c(),p=_.geometry,{position:Q,uv:w}=p.attributes;for(let D=0;D<w.count;D++){let x=v[0]+w.getX(D)*(v[2]-v[0]);const R=v[1]+w.getY(D)*(v[3]-v[1]);let T=0;y&&(T=y-Math.cos(x/y)*y,x=Math.sin(x/y)*y),Q.setXYZ(D,x,R,T)}p.boundingSphere=this.geometry.boundingSphere,p.boundingBox=this.geometry.boundingBox,_.matrixWorld=this.matrixWorld,_.material.side=this.material.side,e.length=0,_.raycast(h,e);for(let D=0;D<e.length;D++)e[D].object=this,E.push(e[D])}}copy(h){const E=this.geometry;return super.copy(h),this.geometry=E,b.forEach(I=>{this[I]=h[I]}),this}clone(){return new this.constructor().copy(this)}}d.forEach(g=>{const h="_private_"+g;Object.defineProperty(C.prototype,g,{get(){return this[h]},set(E){E!==this[h]&&(this[h]=E,this._needsSync=!0)}})});let m=!1;return Object.defineProperty(C.prototype,"anchor",{get(){return this._deprecated_anchor},set(g){this._deprecated_anchor=g,m||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),m=!0),Array.isArray(g)?(this.anchorX=`${(+g[0]||0)*100}%`,this.anchorY=`${(+g[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),C})(),Df=i=>({ref:i&1}),ni=i=>({ref:i[0]});function kf(i){let t;const a=i[4].default,r=yt(a,i,i[6],ni);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&65)&&Qt(r,a,n,n[6],t?xt(a,n[6],e,Df):wt(n[6]),ni)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function Ff(i){let t,a;const r=[{is:i[0]},i[3]];let n={$$slots:{default:[kf,({ref:e})=>({0:e}),({ref:e})=>e?1:0]},$$scope:{ctx:i}};for(let e=0;e<r.length;e+=1)n=nt(n,r[e]);return t=new le({props:n}),i[5](t),{c(){V(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,o){Z(t,e,o),a=!0},p(e,[o]){const s=o&9?er(r,[o&1&&{is:e[0]},o&8&&tr(e[3])]):{};o&65&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){i[5](null),ee(t,e)}}}function Tf(i,t,a){const r=["ref"];let n=vt(t,r),e,{$$slots:o={},$$scope:s}=t;const A=new Sf,{invalidate:c}=Gt(),l=Ys(),f=Gr();ye(i,f,b=>a(1,e=b));const u=async()=>{await Pi(),A.sync(()=>{c("Text: sync finished"),l("sync")})};function d(b){Kt[b?"unshift":"push"](()=>{e=b,f.set(e)})}return i.$$set=b=>{t=nt(nt({},t),Wn(b)),a(3,n=vt(t,r)),"$$scope"in b&&a(6,s=b.$$scope)},i.$$.update=()=>{n&&u()},[A,e,f,n,o,d,s]}class tn extends Ve{constructor(t){super(),Xe(this,t,Tf,Ff,We,{ref:0})}get ref(){return this.$$.ctx[0]}}const Rf=i=>{const t=ls(Gt().camera);let a=0,r=0;const n=new ResizeObserver(e=>{for(const o of e)a=o.contentRect.width,r=o.contentRect.height});return rn(i.target,e=>(e&&n.observe(e),()=>{e&&n.unobserve(e)})),(e,o)=>{o.pointer.update(s=>(s.set(e.offsetX/a*2-1,-(e.offsetY/r)*2+1),s)),o.raycaster.setFromCamera(o.pointer.current,t.current)}},Mf=()=>{const i=pn("threlte-interactivity-context"),t=ac();return{...i,addInteractiveObject:n=>{if(!i){console.warn("No interactivity context found. Did you forget to implement interactivity()?");return}n.userData._threlte_interactivity_dispatcher=t,!i.interactiveObjects.find(e=>e.uuid===n.uuid)&&i.interactiveObjects.push(n)},removeInteractiveObject:n=>{if(!i){console.warn("No interactivity context found. Did you forget to implement interactivity()?");return}i.interactiveObjects=i.interactiveObjects.filter(e=>e.uuid!==n.uuid),delete n.userData._threlte_interactivity_dispatcher}}},Gf=i=>{const t=ja(),a=ft(!1);return Fr(()=>{a.set(!!Object.keys(t.$$.callbacks).filter(r=>i?i.includes(r):!0).length)}),{hasEventHandlers:a}},Uf=["click","contextmenu","dblclick","wheel","pointerup","pointerdown","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointermissed"],Lf=()=>{Pc("interactivity",({ref:i})=>{if(!(i instanceof Ja))return;const{addInteractiveObject:t,removeInteractiveObject:a}=Mf(),r=ft(i),{hasEventHandlers:n}=Gf(Uf);return rn([n,r],([e,o])=>{if(e)return t(o),()=>a(o)}),{onRefChange(e){r.set(e)}}})},vr=i=>i.userData._threlte_interactivity_dispatcher;function ba(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}const ri=[["click",!1],["contextmenu",!1],["dblclick",!1],["wheel",!1],["pointerdown",!0],["pointerup",!0],["pointerleave",!0],["pointerenter",!0],["pointermove",!0],["pointercancel",!0]],Pf=i=>{function t(c){const l=c.offsetX-i.initialClick[0],f=c.offsetY-i.initialClick[1];return Math.round(Math.sqrt(l*l+f*f))}function a(c){for(const l of i.hovered.values())if(!c.length||!c.find(f=>f.object===l.object&&f.index===l.index&&f.instanceId===l.instanceId)){const f=l.eventObject;i.hovered.delete(ba(l));const u=vr(f);if(u){const d={...l,intersections:c};u("pointerout",d),u("pointerleave",d)}}}const r=ls(i.enabled),n=()=>{const c=new Set,l=[];let f=i.interactiveObjects.flatMap(u=>r.current?i.raycaster.intersectObject(u,!0):[]).sort((u,d)=>u.distance-d.distance).filter(u=>{const d=ba(u);return c.has(d)?!1:(c.add(d),!0)});i.filter&&(f=i.filter(f,i));for(const u of f){let d=u.object;for(;d;)vr(d)&&l.push({...u,eventObject:d}),d=d.parent}return l};function e(c,l){for(let f=0;f<l.length;f++){const u=vr(l[f]);u&&u("pointermissed",c)}}const o=c=>c==="pointerleave"||c==="pointercancel"?()=>{i.pointerOverTarget.set(!1),a([])}:c==="pointerenter"?()=>{i.pointerOverTarget.set(!0)}:l=>{const f=c==="pointermove",u=c==="click"||c==="contextmenu"||c==="dblclick";i.compute(l,i);const d=n(),b=u?t(l):0;c==="pointerdown"&&(i.initialClick=[l.offsetX,l.offsetY],i.initialHits=d.map(m=>m.eventObject)),u&&!d.length&&b<=2&&e(l,i.interactiveObjects),f&&a(d);let C=!1;e:for(const m of d){const g={stopped:C,...m,intersections:d,stopPropagation(){if(C=!0,g.stopped=!0,i.hovered.size&&Array.from(i.hovered.values()).find(E=>E.eventObject===m.eventObject)){const E=d.slice(0,d.indexOf(m));a([...E,m])}},camera:i.raycaster.camera,delta:b,nativeEvent:l,pointer:i.pointer.current,ray:i.raycaster.ray},h=vr(m.eventObject);if(!h)return;if(f){if(h.hasEventListener("pointerover")||h.hasEventListener("pointerenter")||h.hasEventListener("pointerout")||h.hasEventListener("pointerleave")){const E=ba(g),I=i.hovered.get(E);I?I.stopped&&g.stopPropagation():(i.hovered.set(E,g),h("pointerover",g),h("pointerenter",g))}h("pointermove",g)}else h.hasEventListener(c)?(!u||i.initialHits.includes(m.eventObject))&&(e(l,i.interactiveObjects.filter(I=>!i.initialHits.includes(I))),h(c,g)):u&&i.initialHits.includes(m.eventObject)&&e(l,i.interactiveObjects.filter(I=>!i.initialHits.includes(I)));if(C)break e}},s=c=>{ri.forEach(([l])=>{c.removeEventListener(l,o(l))})},A=c=>{ri.forEach(([l,f])=>{c.addEventListener(l,o(l),{passive:f})})};rn(i.target,c=>(c&&A(c),()=>{c&&s(c)}))},Of=i=>{const t={enabled:At(i?.enabled??!0),pointer:At(new ze),pointerOverTarget:At(!1),lastEvent:void 0,raycaster:new oc,initialClick:[0,0],initialHits:[],hovered:new Map,interactiveObjects:[],target:At(i?.target??Gt().renderer?.domElement),compute:()=>{},filter:i?.filter};return t.compute=i?.compute??Rf(t),Zt("threlte-interactivity-context",t),Lf(),Pf(t),t},nn=Math.PI/180;var Fs=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],Nf=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],Ts=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],$f=Fs,jf=$f.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),Oa=Ts;Oa=Oa.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)});var zf=Oa.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),Hf=tu,qf=Fs,ai=Nf,Kf=Ts,Yf=jf,Jf=zf,pt=999,oi=9999,Ia=0,Ea=1,ii=2,si=3,Ai=4,On=5,Wf=6,Vf=7,Xf=8,ci=9,Zf=10,li=11,eu=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function tu(i){var t=0,a=0,r=pt,n,e,o=[],s=[],A=1,c=0,l=0,f=!1,u=!1,d="",b;i=i||{};var C=Kf,m=qf;i.version==="300 es"&&(C=Jf,m=Yf);for(var g={},h={},t=0;t<C.length;t++)g[C[t]]=!0;for(var t=0;t<m.length;t++)h[m[t]]=!0;return function(K){return s=[],K!==null?I(K):y()};function E(K){K.length&&s.push({type:eu[r],data:K,position:l,line:A,column:c})}function I(K){t=0,K.toString&&(K=K.toString()),d+=K.replace(/\r\n/g,`
`),b=d.length;for(var z;n=d[t],t<b;){switch(z=t,r){case Ia:t=w();break;case Ea:t=Q();break;case ii:t=p();break;case si:t=D();break;case Ai:t=T();break;case li:t=R();break;case On:t=j();break;case oi:t=L();break;case ci:t=_();break;case pt:t=v();break}if(z!==t)switch(d[z]){case`
`:c=0,++A;break;default:++c;break}}return a+=t,d=d.slice(t),s}function y(K){return o.length&&E(o.join("")),r=Zf,E("(eof)"),s}function v(){return o=o.length?[]:o,e==="/"&&n==="*"?(l=a+t-1,r=Ia,e=n,t+1):e==="/"&&n==="/"?(l=a+t-1,r=Ea,e=n,t+1):n==="#"?(r=ii,l=a+t,t):/\s/.test(n)?(r=ci,l=a+t,t):(f=/\d/.test(n),u=/[^\w_]/.test(n),l=a+t,r=f?Ai:u?si:oi,t)}function _(){return/[^\s]/g.test(n)?(E(o.join("")),r=pt,t):(o.push(n),e=n,t+1)}function p(){return(n==="\r"||n===`
`)&&e!=="\\"?(E(o.join("")),r=pt,t):(o.push(n),e=n,t+1)}function Q(){return p()}function w(){return n==="/"&&e==="*"?(o.push(n),E(o.join("")),r=pt,t+1):(o.push(n),e=n,t+1)}function D(){if(e==="."&&/\d/.test(n))return r=On,t;if(e==="/"&&n==="*")return r=Ia,t;if(e==="/"&&n==="/")return r=Ea,t;if(n==="."&&o.length){for(;x(o););return r=On,t}if(n===";"||n===")"||n==="("){if(o.length)for(;x(o););return E(n),r=pt,t+1}var K=o.length===2&&n!=="=";if(/[\w_\d\s]/.test(n)||K){for(;x(o););return r=pt,t}return o.push(n),e=n,t+1}function x(K){var z=0,N,q;do{if(N=ai.indexOf(K.slice(0,K.length+z).join("")),q=ai[N],N===-1){if(z--+K.length>0)continue;q=K.slice(0,1).join("")}return E(q),l+=q.length,o=o.slice(q.length),o.length}while(1)}function R(){return/[^a-fA-F0-9]/.test(n)?(E(o.join("")),r=pt,t):(o.push(n),e=n,t+1)}function T(){return n==="."||/[eE]/.test(n)?(o.push(n),r=On,e=n,t+1):n==="x"&&o.length===1&&o[0]==="0"?(r=li,o.push(n),e=n,t+1):/[^\d]/.test(n)?(E(o.join("")),r=pt,t):(o.push(n),e=n,t+1)}function j(){return n==="f"&&(o.push(n),e=n,t+=1),/[eE]/.test(n)||(n==="-"||n==="+")&&/[eE]/.test(e)?(o.push(n),e=n,t+1):/[^\d]/.test(n)?(E(o.join("")),r=pt,t):(o.push(n),e=n,t+1)}function L(){if(/[^\d\w_]/.test(n)){var K=o.join("");return h[K]?r=Xf:g[K]?r=Vf:r=Wf,E(o.join("")),r=pt,t}return o.push(n),e=n,t+1}}var nu=Hf,ru=au;function au(i,t){var a=nu(t),r=[];return r=r.concat(a(i)),r=r.concat(a(null)),r}const Na=Xn(ru);var Ca,fi;function ou(){if(fi)return Ca;fi=1,Ca=i;function i(t){for(var a=!1,r=0,n=0;n<t.length;n++)switch(a=a||t[n].type==="keyword"&&t[n].data==="for",t[n].data){case"(":t[n].depth=a?r++:r;break;case"{":t[n].depth=a?r:r++,a=!1;break;case"}":t[n].depth=--r;break;default:t[n].depth=r}for(var n=0;n<t.length;n++){var e=t[n],o=n+1;if(!(e.type!=="ident"&&e.type!=="keyword")&&(s(),t[o].type==="ident"&&(s(),o++,t[o].data==="("))){for(;t[o]&&t[o].data!==";"&&t[o].data!=="{";)t[o++].depth++;t[o]&&t[o].data==="{"&&t[o].depth++}}return t;function s(){for(;t[o]&&(t[o].type==="whitespace"||t[o].data==="["||t[o].data==="]"||t[o].data==="integer");)o++}}return Ca}var Ba,ui;function iu(){if(ui)return Ba;ui=1,Ba=i;function i(t){var a=[0],r=a[0],n=0;if(!t||!t.length)return t;if(!("depth"in t[0]))throw new Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var e=0;e<t.length;e++){var o=t[e],s=o.depth;s>n?a.push(++r):s<n&&a.splice(-1,1),o.scope=a[a.length-1],o.stack=a.slice(),n=o.depth}return t}return Ba}var va,gi;function su(){if(gi)return va;gi=1,va=i;function i(t){for(var a=0;a<t.length;a++){var r=t[a];if(r.property=!1,r.type==="ident"){for(var n=a;t[--n]&&t[n].type==="whitespace";);t[n]&&t[n].type==="operator"&&t[n].data==="."&&(r.property=!0)}}return t}return va}var _a,di;function Au(){return di||(di=1,_a={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}),_a}var ya,hi;function cu(){return hi||(hi=1,ya={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}),ya}var Qa,pi;function lu(){if(pi)return Qa;pi=1;var i=Au(),t=cu();Qa=a;function a(r){for(var n=0,e=0;e<r.length;e++){var o=r[e],s=o.type;o.assignment=!1,o.declaration=!1,!(s!=="ident"&&s!=="builtin")&&(n=e+1,l(),r[n].type==="operator"&&i[r[n].data]&&(o.assignment=!0))}for(var e=0;e<r.length;e++){var A=r[e],s=A.type,c=A.data;if(A.declaration=!1,s==="keyword"){if(t[c])continue}else if(s!=="ident")continue;if(n=e+1,f(),r[n].type==="ident"){if(r[n++].declaration=!0,f(),r[n].data==="("){for(n++,l();r[n]&&r[n].data!==")"&&!(r[n].type!=="keyword"&&r[n].type!=="ident");)n++,l(),r[n].type==="ident"&&(r[n++].declaration=!0,l(),f(),l(),r[n].data===","&&(n++,l()));e=n;continue}for(;r[n]&&r[n].data!==";";)r[n].data===","?(n++,l(),(r[n].declaration=r[n].type==="ident")&&n++):(l(),u(),l(),n++);e=n}}for(var e=0;e<r.length;e++){var o=r[e];if(o.type==="keyword"&&o.data==="struct"&&(n=e+1,l(),r[n].type==="ident"&&(n++,l(),r[n++].data==="{"))){for(l();r[n].type==="ident"||r[n].type==="keyword";){do n++,l(),r[n].structMember=!0,r[n].declaration=!1,n++,f();while(r[n].data===",");r[n].data===";"&&n++,l()}if(n++,l(),r[n].type==="ident")for(r[n].declaration=!0,l();r[++n].data===",";)l(),n++,l(),r[n].type==="ident"&&(r[n].declaration=!0),l()}}return r;function l(d){for(;r[n]&&r[n].type==="whitespace";)n++}function f(){for(;r[n]&&(r[n].type==="integer"||r[n].data==="["||r[n].data==="]"||r[n].type==="whitespace");)n++}function u(){if(r[n]&&r[n].data==="("){var d=0;do{if(r[n].data===";")break;r[n].data==="("&&d++,r[n].data===")"&&d--}while(d&&r[++n])}}}return Qa}var fu=uu;function uu(i,t){ou()(i),iu()(i),su()(i),lu()(i);for(var a=du(i),r=t||gu(),n={},e=0;e<i.length;e++){var o=i[e],s=o.stack,A=o.data;if(o.descoped=!1,o.type==="ident"&&!o.property&&!o.structMember){for(var c=!1,l=s.length-1;l>=0;l--){var f=a[s[l]];if(f&&f[A]){if(c=!0,l)break;o.descoped=o.data,o.data=n[A]=n[A]||r(A,o)||o.data}}c||(o.descoped=o.data,o.data=n[A]=n[A]||r(A,o)||o.data)}}return i}function gu(){var i=0;return function(a){return a+"_"+(i++).toString(36)}}function du(i){for(var t={},a=0;a<i.length;a++){var r=i[a];r.declaration&&(t[r.scope]=t[r.scope]||{},t[r.scope][r.data]=r)}return t}const mi=Xn(fu);var hu=pu;function pu(i){for(var t=[],a=0;a<i.length;a++)i[a].type!=="eof"&&t.push(i[a].data);return t.join("")}const Yn=Xn(hu);var mu=bu;function bu(i){var t=null,a=null,r=0,n=0,e=0,o=0,s=0,A=[],c,l,f;for(c=0,l;c<i.length;c++)if(f=i[c],f.data==="{"){if(r&&r++||(l=d(c,zt(")"),zt()),l<0)||(o=l,l=d(l,zt("("),zt(")")),l<0)||(s=l,l=d(l,Nn),l<0)||i[l].type!=="ident"||(a=i[l].data,l=d(l,Nn),l<0))continue;r=1,n=c,t=i[l].data,e=l;var u=d(l,Nn);switch(i[u]&&i[u].data){case"lowp":case"highp":case"mediump":e=u}}else if(r&&f.data==="}"){if(--r)continue;A.push({name:a,type:t,body:[n+1,c],args:[s,o+1],outer:[e,c+1]})}for(c=0;c<i.length;c++)if(f=i[c],f.data===";"){if(l=d(c,zt(")"),zt()),l<0||(o=l,l=d(l,zt("("),zt(")")),l<0)||(s=l,l=d(l,Nn),l<0)||i[l].type!=="ident"||(a=i[l].data,l=d(l,Nn),l<0)||i[l].type==="operator"||i[l].data==="return")continue;t=i[l].data,A.push({name:a,type:t,body:!1,args:[s,o+1],outer:[l,c+1]})}return A.sort(function(b,C){return b.outer[0]-C.outer[0]});function d(b,C,m){for(var g=b-1;g>=0;g--){if(C(i[g]))return g;if(m&&m(i[g]))return-1}return-1}}function zt(i){return function(t){return t.type==="operator"&&(!i||t.data===i)}}function Nn(i){return i.type!=="whitespace"}const $a=Xn(mu);function _r(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rs={exports:{}};(function(i,t){(function(a){i.exports=a()})(function(){return function a(r,n,e){function o(c,l){if(!n[c]){if(!r[c]){var f=typeof _r=="function"&&_r;if(!l&&f)return f(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+c+"'")}l=n[c]={exports:{}},r[c][0].call(l.exports,function(u){var d=r[c][1][u];return o(d||u)},l,l.exports,a,r,n,e)}return n[c].exports}for(var s=typeof _r=="function"&&_r,A=0;A<e.length;A++)o(e[A]);return o}({1:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){var b=a("crypto");function C(v,_){_=h(v,_);var p;return(p=_.algorithm!=="passthrough"?b.createHash(_.algorithm):new y).write===void 0&&(p.write=p.update,p.end=p.update),I(_,p).dispatch(v),p.update||p.end(""),p.digest?p.digest(_.encoding==="buffer"?void 0:_.encoding):(v=p.read(),_.encoding!=="buffer"?v.toString(_.encoding):v)}(n=r.exports=C).sha1=function(v){return C(v)},n.keys=function(v){return C(v,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(v){return C(v,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(v){return C(v,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var m=b.getHashes?b.getHashes().slice():["sha1","md5"],g=(m.push("passthrough"),["buffer","hex","binary","base64"]);function h(v,_){var p={};if(p.algorithm=(_=_||{}).algorithm||"sha1",p.encoding=_.encoding||"hex",p.excludeValues=!!_.excludeValues,p.algorithm=p.algorithm.toLowerCase(),p.encoding=p.encoding.toLowerCase(),p.ignoreUnknown=_.ignoreUnknown===!0,p.respectType=_.respectType!==!1,p.respectFunctionNames=_.respectFunctionNames!==!1,p.respectFunctionProperties=_.respectFunctionProperties!==!1,p.unorderedArrays=_.unorderedArrays===!0,p.unorderedSets=_.unorderedSets!==!1,p.unorderedObjects=_.unorderedObjects!==!1,p.replacer=_.replacer||void 0,p.excludeKeys=_.excludeKeys||void 0,v===void 0)throw new Error("Object argument required.");for(var Q=0;Q<m.length;++Q)m[Q].toLowerCase()===p.algorithm.toLowerCase()&&(p.algorithm=m[Q]);if(m.indexOf(p.algorithm)===-1)throw new Error('Algorithm "'+p.algorithm+'"  not supported. supported values: '+m.join(", "));if(g.indexOf(p.encoding)===-1&&p.algorithm!=="passthrough")throw new Error('Encoding "'+p.encoding+'"  not supported. supported values: '+g.join(", "));return p}function E(v){if(typeof v=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(v))!=null}function I(v,_,p){p=p||[];function Q(w){return _.update?_.update(w,"utf8"):_.write(w,"utf8")}return{dispatch:function(w){return this["_"+((w=v.replacer?v.replacer(w):w)===null?"null":typeof w)](w)},_object:function(w){var D,x=Object.prototype.toString.call(w),R=/\[object (.*)\]/i.exec(x);if(R=(R=R?R[1]:"unknown:["+x+"]").toLowerCase(),0<=(x=p.indexOf(w)))return this.dispatch("[CIRCULAR:"+x+"]");if(p.push(w),s!==void 0&&s.isBuffer&&s.isBuffer(w))return Q("buffer:"),Q(w);if(R==="object"||R==="function"||R==="asyncfunction")return x=Object.keys(w),v.unorderedObjects&&(x=x.sort()),v.respectType===!1||E(w)||x.splice(0,0,"prototype","__proto__","constructor"),v.excludeKeys&&(x=x.filter(function(T){return!v.excludeKeys(T)})),Q("object:"+x.length+":"),D=this,x.forEach(function(T){D.dispatch(T),Q(":"),v.excludeValues||D.dispatch(w[T]),Q(",")});if(!this["_"+R]){if(v.ignoreUnknown)return Q("["+R+"]");throw new Error('Unknown object type "'+R+'"')}this["_"+R](w)},_array:function(w,T){T=T!==void 0?T:v.unorderedArrays!==!1;var x=this;if(Q("array:"+w.length+":"),!T||w.length<=1)return w.forEach(function(j){return x.dispatch(j)});var R=[],T=w.map(function(j){var L=new y,K=p.slice();return I(v,L,K).dispatch(j),R=R.concat(K.slice(p.length)),L.read().toString()});return p=p.concat(R),T.sort(),this._array(T,!1)},_date:function(w){return Q("date:"+w.toJSON())},_symbol:function(w){return Q("symbol:"+w.toString())},_error:function(w){return Q("error:"+w.toString())},_boolean:function(w){return Q("bool:"+w.toString())},_string:function(w){Q("string:"+w.length+":"),Q(w.toString())},_function:function(w){Q("fn:"),E(w)?this.dispatch("[native]"):this.dispatch(w.toString()),v.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(w.name)),v.respectFunctionProperties&&this._object(w)},_number:function(w){return Q("number:"+w.toString())},_xml:function(w){return Q("xml:"+w.toString())},_null:function(){return Q("Null")},_undefined:function(){return Q("Undefined")},_regexp:function(w){return Q("regex:"+w.toString())},_uint8array:function(w){return Q("uint8array:"),this.dispatch(Array.prototype.slice.call(w))},_uint8clampedarray:function(w){return Q("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(w))},_int8array:function(w){return Q("int8array:"),this.dispatch(Array.prototype.slice.call(w))},_uint16array:function(w){return Q("uint16array:"),this.dispatch(Array.prototype.slice.call(w))},_int16array:function(w){return Q("int16array:"),this.dispatch(Array.prototype.slice.call(w))},_uint32array:function(w){return Q("uint32array:"),this.dispatch(Array.prototype.slice.call(w))},_int32array:function(w){return Q("int32array:"),this.dispatch(Array.prototype.slice.call(w))},_float32array:function(w){return Q("float32array:"),this.dispatch(Array.prototype.slice.call(w))},_float64array:function(w){return Q("float64array:"),this.dispatch(Array.prototype.slice.call(w))},_arraybuffer:function(w){return Q("arraybuffer:"),this.dispatch(new Uint8Array(w))},_url:function(w){return Q("url:"+w.toString())},_map:function(w){return Q("map:"),w=Array.from(w),this._array(w,v.unorderedSets!==!1)},_set:function(w){return Q("set:"),w=Array.from(w),this._array(w,v.unorderedSets!==!1)},_file:function(w){return Q("file:"),this.dispatch([w.name,w.size,w.type,w.lastModfied])},_blob:function(){if(v.ignoreUnknown)return Q("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return Q("domwindow")},_bigint:function(w){return Q("bigint:"+w.toString())},_process:function(){return Q("process")},_timer:function(){return Q("timer")},_pipe:function(){return Q("pipe")},_tcp:function(){return Q("tcp")},_udp:function(){return Q("udp")},_tty:function(){return Q("tty")},_statwatcher:function(){return Q("statwatcher")},_securecontext:function(){return Q("securecontext")},_connection:function(){return Q("connection")},_zlib:function(){return Q("zlib")},_context:function(){return Q("context")},_nodescript:function(){return Q("nodescript")},_httpparser:function(){return Q("httpparser")},_dataview:function(){return Q("dataview")},_signal:function(){return Q("signal")},_fsevent:function(){return Q("fsevent")},_tlswrap:function(){return Q("tlswrap")}}}function y(){return{buf:"",write:function(v){this.buf+=v},end:function(v){this.buf+=v},read:function(){return this.buf}}}n.writeToStream=function(v,_,p){return p===void 0&&(p=_,_={}),I(_=h(v,_),p).dispatch(v)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){(function(b){var C=typeof Uint8Array<"u"?Uint8Array:Array,m="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),E="a".charCodeAt(0),I="A".charCodeAt(0),y="-".charCodeAt(0),v="_".charCodeAt(0);function _(p){return p=p.charCodeAt(0),p===m||p===y?62:p===g||p===v?63:p<h?-1:p<h+10?p-h+26+26:p<I+26?p-I:p<E+26?p-E+26:void 0}b.toByteArray=function(p){var Q,w;if(0<p.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var D=p.length,D=p.charAt(D-2)==="="?2:p.charAt(D-1)==="="?1:0,x=new C(3*p.length/4-D),R=0<D?p.length-4:p.length,T=0;function j(L){x[T++]=L}for(Q=0;Q<R;Q+=4,0)j((16711680&(w=_(p.charAt(Q))<<18|_(p.charAt(Q+1))<<12|_(p.charAt(Q+2))<<6|_(p.charAt(Q+3))))>>16),j((65280&w)>>8),j(255&w);return D==2?j(255&(w=_(p.charAt(Q))<<2|_(p.charAt(Q+1))>>4)):D==1&&(j((w=_(p.charAt(Q))<<10|_(p.charAt(Q+1))<<4|_(p.charAt(Q+2))>>2)>>8&255),j(255&w)),x},b.fromByteArray=function(p){var Q,w,D,x,R=p.length%3,T="";function j(L){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(L)}for(Q=0,D=p.length-R;Q<D;Q+=3)w=(p[Q]<<16)+(p[Q+1]<<8)+p[Q+2],T+=j((x=w)>>18&63)+j(x>>12&63)+j(x>>6&63)+j(63&x);switch(R){case 1:T=(T+=j((w=p[p.length-1])>>2))+j(w<<4&63)+"==";break;case 2:T=(T=(T+=j((w=(p[p.length-2]<<8)+p[p.length-1])>>10))+j(w>>4&63))+j(w<<2&63)+"="}return T}})(n===void 0?this.base64js={}:n)}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(a,r,n){(function(e,o,m,A,c,l,f,u,d){var b=a("base64-js"),C=a("ieee754");function m(B,S,k){if(!(this instanceof m))return new m(B,S,k);var G,H,W,re,Ae=typeof B;if(S==="base64"&&Ae=="string")for(B=(re=B).trim?re.trim():re.replace(/^\s+|\s+$/g,"");B.length%4!=0;)B+="=";if(Ae=="number")G=z(B);else if(Ae=="string")G=m.byteLength(B,S);else{if(Ae!="object")throw new Error("First argument needs to be a number, array or string.");G=z(B.length)}if(m._useTypedArrays?H=m._augment(new Uint8Array(G)):((H=this).length=G,H._isBuffer=!0),m._useTypedArrays&&typeof B.byteLength=="number")H._set(B);else if(N(re=B)||m.isBuffer(re)||re&&typeof re=="object"&&typeof re.length=="number")for(W=0;W<G;W++)m.isBuffer(B)?H[W]=B.readUInt8(W):H[W]=B[W];else if(Ae=="string")H.write(B,0,S);else if(Ae=="number"&&!m._useTypedArrays&&!k)for(W=0;W<G;W++)H[W]=0;return H}function g(B,S,k,G){return m._charsWritten=oe(function(H){for(var W=[],re=0;re<H.length;re++)W.push(255&H.charCodeAt(re));return W}(S),B,k,G)}function h(B,S,k,G){return m._charsWritten=oe(function(H){for(var W,re,Ae=[],he=0;he<H.length;he++)re=H.charCodeAt(he),W=re>>8,re=re%256,Ae.push(re),Ae.push(W);return Ae}(S),B,k,G)}function E(B,S,k){var G="";k=Math.min(B.length,k);for(var H=S;H<k;H++)G+=String.fromCharCode(B[H]);return G}function I(B,S,k,W){W||(U(typeof k=="boolean","missing or invalid endian"),U(S!=null,"missing offset"),U(S+1<B.length,"Trying to read beyond buffer length"));var H,W=B.length;if(!(W<=S))return k?(H=B[S],S+1<W&&(H|=B[S+1]<<8)):(H=B[S]<<8,S+1<W&&(H|=B[S+1])),H}function y(B,S,k,W){W||(U(typeof k=="boolean","missing or invalid endian"),U(S!=null,"missing offset"),U(S+3<B.length,"Trying to read beyond buffer length"));var H,W=B.length;if(!(W<=S))return k?(S+2<W&&(H=B[S+2]<<16),S+1<W&&(H|=B[S+1]<<8),H|=B[S],S+3<W&&(H+=B[S+3]<<24>>>0)):(S+1<W&&(H=B[S+1]<<16),S+2<W&&(H|=B[S+2]<<8),S+3<W&&(H|=B[S+3]),H+=B[S]<<24>>>0),H}function v(B,S,k,G){if(G||(U(typeof k=="boolean","missing or invalid endian"),U(S!=null,"missing offset"),U(S+1<B.length,"Trying to read beyond buffer length")),!(B.length<=S))return G=I(B,S,k,!0),32768&G?-1*(65535-G+1):G}function _(B,S,k,G){if(G||(U(typeof k=="boolean","missing or invalid endian"),U(S!=null,"missing offset"),U(S+3<B.length,"Trying to read beyond buffer length")),!(B.length<=S))return G=y(B,S,k,!0),2147483648&G?-1*(4294967295-G+1):G}function p(B,S,k,G){return G||(U(typeof k=="boolean","missing or invalid endian"),U(S+3<B.length,"Trying to read beyond buffer length")),C.read(B,S,k,23,4)}function Q(B,S,k,G){return G||(U(typeof k=="boolean","missing or invalid endian"),U(S+7<B.length,"Trying to read beyond buffer length")),C.read(B,S,k,52,8)}function w(B,S,k,G,H){if(H||(U(S!=null,"missing value"),U(typeof G=="boolean","missing or invalid endian"),U(k!=null,"missing offset"),U(k+1<B.length,"trying to write beyond buffer length"),te(S,65535)),H=B.length,!(H<=k))for(var W=0,re=Math.min(H-k,2);W<re;W++)B[k+W]=(S&255<<8*(G?W:1-W))>>>8*(G?W:1-W)}function D(B,S,k,G,H){if(H||(U(S!=null,"missing value"),U(typeof G=="boolean","missing or invalid endian"),U(k!=null,"missing offset"),U(k+3<B.length,"trying to write beyond buffer length"),te(S,4294967295)),H=B.length,!(H<=k))for(var W=0,re=Math.min(H-k,4);W<re;W++)B[k+W]=S>>>8*(G?W:3-W)&255}function x(B,S,k,G,H){H||(U(S!=null,"missing value"),U(typeof G=="boolean","missing or invalid endian"),U(k!=null,"missing offset"),U(k+1<B.length,"Trying to write beyond buffer length"),se(S,32767,-32768)),B.length<=k||w(B,0<=S?S:65535+S+1,k,G,H)}function R(B,S,k,G,H){H||(U(S!=null,"missing value"),U(typeof G=="boolean","missing or invalid endian"),U(k!=null,"missing offset"),U(k+3<B.length,"Trying to write beyond buffer length"),se(S,2147483647,-2147483648)),B.length<=k||D(B,0<=S?S:4294967295+S+1,k,G,H)}function T(B,S,k,G,H){H||(U(S!=null,"missing value"),U(typeof G=="boolean","missing or invalid endian"),U(k!=null,"missing offset"),U(k+3<B.length,"Trying to write beyond buffer length"),$(S,34028234663852886e22,-34028234663852886e22)),B.length<=k||C.write(B,S,k,G,23,4)}function j(B,S,k,G,H){H||(U(S!=null,"missing value"),U(typeof G=="boolean","missing or invalid endian"),U(k!=null,"missing offset"),U(k+7<B.length,"Trying to write beyond buffer length"),$(S,17976931348623157e292,-17976931348623157e292)),B.length<=k||C.write(B,S,k,G,52,8)}n.Buffer=m,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,m.poolSize=8192,m._useTypedArrays=function(){try{var B=new ArrayBuffer(0),S=new Uint8Array(B);return S.foo=function(){return 42},S.foo()===42&&typeof S.subarray=="function"}catch{return!1}}(),m.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.isBuffer=function(B){return!(B==null||!B._isBuffer)},m.byteLength=function(B,S){var k;switch(B+="",S||"utf8"){case"hex":k=B.length/2;break;case"utf8":case"utf-8":k=M(B).length;break;case"ascii":case"binary":case"raw":k=B.length;break;case"base64":k=Y(B).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":k=2*B.length;break;default:throw new Error("Unknown encoding")}return k},m.concat=function(B,S){if(U(N(B),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),B.length===0)return new m(0);if(B.length===1)return B[0];if(typeof S!="number")for(H=S=0;H<B.length;H++)S+=B[H].length;for(var k=new m(S),G=0,H=0;H<B.length;H++){var W=B[H];W.copy(k,G),G+=W.length}return k},m.prototype.write=function(B,S,k,G){isFinite(S)?isFinite(k)||(G=k,k=void 0):(he=G,G=S,S=k,k=he),S=Number(S)||0;var H,W,re,Ae,he=this.length-S;switch((!k||he<(k=Number(k)))&&(k=he),G=String(G||"utf8").toLowerCase()){case"hex":H=function(ne,ue,ce,J){ce=Number(ce)||0;var be=ne.length-ce;(!J||be<(J=Number(J)))&&(J=be),U((be=ue.length)%2==0,"Invalid hex string"),be/2<J&&(J=be/2);for(var fe=0;fe<J;fe++){var de=parseInt(ue.substr(2*fe,2),16);U(!isNaN(de),"Invalid hex string"),ne[ce+fe]=de}return m._charsWritten=2*fe,fe}(this,B,S,k);break;case"utf8":case"utf-8":W=this,re=S,Ae=k,H=m._charsWritten=oe(M(B),W,re,Ae);break;case"ascii":case"binary":H=g(this,B,S,k);break;case"base64":W=this,re=S,Ae=k,H=m._charsWritten=oe(Y(B),W,re,Ae);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":H=h(this,B,S,k);break;default:throw new Error("Unknown encoding")}return H},m.prototype.toString=function(B,S,k){var G,H,W,re,Ae=this;if(B=String(B||"utf8").toLowerCase(),S=Number(S)||0,(k=k!==void 0?Number(k):Ae.length)===S)return"";switch(B){case"hex":G=function(he,ne,ue){var ce=he.length;(!ne||ne<0)&&(ne=0),(!ue||ue<0||ce<ue)&&(ue=ce);for(var J="",be=ne;be<ue;be++)J+=q(he[be]);return J}(Ae,S,k);break;case"utf8":case"utf-8":G=function(he,ne,ue){var ce="",J="";ue=Math.min(he.length,ue);for(var be=ne;be<ue;be++)he[be]<=127?(ce+=ae(J)+String.fromCharCode(he[be]),J=""):J+="%"+he[be].toString(16);return ce+ae(J)}(Ae,S,k);break;case"ascii":case"binary":G=E(Ae,S,k);break;case"base64":H=Ae,re=k,G=(W=S)===0&&re===H.length?b.fromByteArray(H):b.fromByteArray(H.slice(W,re));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":G=function(he,ne,ue){for(var ce=he.slice(ne,ue),J="",be=0;be<ce.length;be+=2)J+=String.fromCharCode(ce[be]+256*ce[be+1]);return J}(Ae,S,k);break;default:throw new Error("Unknown encoding")}return G},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.copy=function(B,S,k,G){if(S=S||0,(G=G||G===0?G:this.length)!==(k=k||0)&&B.length!==0&&this.length!==0){U(k<=G,"sourceEnd < sourceStart"),U(0<=S&&S<B.length,"targetStart out of bounds"),U(0<=k&&k<this.length,"sourceStart out of bounds"),U(0<=G&&G<=this.length,"sourceEnd out of bounds"),G>this.length&&(G=this.length);var H=(G=B.length-S<G-k?B.length-S+k:G)-k;if(H<100||!m._useTypedArrays)for(var W=0;W<H;W++)B[W+S]=this[W+k];else B._set(this.subarray(k,k+H),S)}},m.prototype.slice=function(B,S){var k=this.length;if(B=K(B,k,0),S=K(S,k,k),m._useTypedArrays)return m._augment(this.subarray(B,S));for(var G=S-B,H=new m(G,void 0,!0),W=0;W<G;W++)H[W]=this[W+B];return H},m.prototype.get=function(B){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(B)},m.prototype.set=function(B,S){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(B,S)},m.prototype.readUInt8=function(B,S){if(S||(U(B!=null,"missing offset"),U(B<this.length,"Trying to read beyond buffer length")),!(B>=this.length))return this[B]},m.prototype.readUInt16LE=function(B,S){return I(this,B,!0,S)},m.prototype.readUInt16BE=function(B,S){return I(this,B,!1,S)},m.prototype.readUInt32LE=function(B,S){return y(this,B,!0,S)},m.prototype.readUInt32BE=function(B,S){return y(this,B,!1,S)},m.prototype.readInt8=function(B,S){if(S||(U(B!=null,"missing offset"),U(B<this.length,"Trying to read beyond buffer length")),!(B>=this.length))return 128&this[B]?-1*(255-this[B]+1):this[B]},m.prototype.readInt16LE=function(B,S){return v(this,B,!0,S)},m.prototype.readInt16BE=function(B,S){return v(this,B,!1,S)},m.prototype.readInt32LE=function(B,S){return _(this,B,!0,S)},m.prototype.readInt32BE=function(B,S){return _(this,B,!1,S)},m.prototype.readFloatLE=function(B,S){return p(this,B,!0,S)},m.prototype.readFloatBE=function(B,S){return p(this,B,!1,S)},m.prototype.readDoubleLE=function(B,S){return Q(this,B,!0,S)},m.prototype.readDoubleBE=function(B,S){return Q(this,B,!1,S)},m.prototype.writeUInt8=function(B,S,k){k||(U(B!=null,"missing value"),U(S!=null,"missing offset"),U(S<this.length,"trying to write beyond buffer length"),te(B,255)),S>=this.length||(this[S]=B)},m.prototype.writeUInt16LE=function(B,S,k){w(this,B,S,!0,k)},m.prototype.writeUInt16BE=function(B,S,k){w(this,B,S,!1,k)},m.prototype.writeUInt32LE=function(B,S,k){D(this,B,S,!0,k)},m.prototype.writeUInt32BE=function(B,S,k){D(this,B,S,!1,k)},m.prototype.writeInt8=function(B,S,k){k||(U(B!=null,"missing value"),U(S!=null,"missing offset"),U(S<this.length,"Trying to write beyond buffer length"),se(B,127,-128)),S>=this.length||(0<=B?this.writeUInt8(B,S,k):this.writeUInt8(255+B+1,S,k))},m.prototype.writeInt16LE=function(B,S,k){x(this,B,S,!0,k)},m.prototype.writeInt16BE=function(B,S,k){x(this,B,S,!1,k)},m.prototype.writeInt32LE=function(B,S,k){R(this,B,S,!0,k)},m.prototype.writeInt32BE=function(B,S,k){R(this,B,S,!1,k)},m.prototype.writeFloatLE=function(B,S,k){T(this,B,S,!0,k)},m.prototype.writeFloatBE=function(B,S,k){T(this,B,S,!1,k)},m.prototype.writeDoubleLE=function(B,S,k){j(this,B,S,!0,k)},m.prototype.writeDoubleBE=function(B,S,k){j(this,B,S,!1,k)},m.prototype.fill=function(B,S,k){if(S=S||0,k=k||this.length,U(typeof(B=typeof(B=B||0)=="string"?B.charCodeAt(0):B)=="number"&&!isNaN(B),"value is not a number"),U(S<=k,"end < start"),k!==S&&this.length!==0){U(0<=S&&S<this.length,"start out of bounds"),U(0<=k&&k<=this.length,"end out of bounds");for(var G=S;G<k;G++)this[G]=B}},m.prototype.inspect=function(){for(var B=[],S=this.length,k=0;k<S;k++)if(B[k]=q(this[k]),k===n.INSPECT_MAX_BYTES){B[k+1]="...";break}return"<Buffer "+B.join(" ")+">"},m.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(m._useTypedArrays)return new m(this).buffer;for(var B=new Uint8Array(this.length),S=0,k=B.length;S<k;S+=1)B[S]=this[S];return B.buffer};var L=m.prototype;function K(B,S,k){return typeof B!="number"?k:S<=(B=~~B)?S:0<=B||0<=(B+=S)?B:0}function z(B){return(B=~~Math.ceil(+B))<0?0:B}function N(B){return(Array.isArray||function(S){return Object.prototype.toString.call(S)==="[object Array]"})(B)}function q(B){return B<16?"0"+B.toString(16):B.toString(16)}function M(B){for(var S=[],k=0;k<B.length;k++){var G=B.charCodeAt(k);if(G<=127)S.push(B.charCodeAt(k));else for(var H=k,W=(55296<=G&&G<=57343&&k++,encodeURIComponent(B.slice(H,k+1)).substr(1).split("%")),re=0;re<W.length;re++)S.push(parseInt(W[re],16))}return S}function Y(B){return b.toByteArray(B)}function oe(B,S,k,G){for(var H=0;H<G&&!(H+k>=S.length||H>=B.length);H++)S[H+k]=B[H];return H}function ae(B){try{return decodeURIComponent(B)}catch{return String.fromCharCode(65533)}}function te(B,S){U(typeof B=="number","cannot write a non-number as a number"),U(0<=B,"specified a negative value for writing an unsigned value"),U(B<=S,"value is larger than maximum value for type"),U(Math.floor(B)===B,"value has a fractional component")}function se(B,S,k){U(typeof B=="number","cannot write a non-number as a number"),U(B<=S,"value larger than maximum allowed value"),U(k<=B,"value smaller than minimum allowed value"),U(Math.floor(B)===B,"value has a fractional component")}function $(B,S,k){U(typeof B=="number","cannot write a non-number as a number"),U(B<=S,"value larger than maximum allowed value"),U(k<=B,"value smaller than minimum allowed value")}function U(B,S){if(!B)throw new Error(S||"Failed assertion")}m._augment=function(B){return B._isBuffer=!0,B._get=B.get,B._set=B.set,B.get=L.get,B.set=L.set,B.write=L.write,B.toString=L.toString,B.toLocaleString=L.toString,B.toJSON=L.toJSON,B.copy=L.copy,B.slice=L.slice,B.readUInt8=L.readUInt8,B.readUInt16LE=L.readUInt16LE,B.readUInt16BE=L.readUInt16BE,B.readUInt32LE=L.readUInt32LE,B.readUInt32BE=L.readUInt32BE,B.readInt8=L.readInt8,B.readInt16LE=L.readInt16LE,B.readInt16BE=L.readInt16BE,B.readInt32LE=L.readInt32LE,B.readInt32BE=L.readInt32BE,B.readFloatLE=L.readFloatLE,B.readFloatBE=L.readFloatBE,B.readDoubleLE=L.readDoubleLE,B.readDoubleBE=L.readDoubleBE,B.writeUInt8=L.writeUInt8,B.writeUInt16LE=L.writeUInt16LE,B.writeUInt16BE=L.writeUInt16BE,B.writeUInt32LE=L.writeUInt32LE,B.writeUInt32BE=L.writeUInt32BE,B.writeInt8=L.writeInt8,B.writeInt16LE=L.writeInt16LE,B.writeInt16BE=L.writeInt16BE,B.writeInt32LE=L.writeInt32LE,B.writeInt32BE=L.writeInt32BE,B.writeFloatLE=L.writeFloatLE,B.writeFloatBE=L.writeFloatBE,B.writeDoubleLE=L.writeDoubleLE,B.writeDoubleBE=L.writeDoubleBE,B.fill=L.fill,B.inspect=L.inspect,B.toArrayBuffer=L.toArrayBuffer,B}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(a,r,n){(function(e,o,b,A,c,l,f,u,d){var b=a("buffer").Buffer,C=4,m=new b(C);m.fill(0),r.exports={hash:function(g,h,E,I){for(var y=h(function(w,D){w.length%C!=0&&(x=w.length+(C-w.length%C),w=b.concat([w,m],x));for(var x,R=[],T=D?w.readInt32BE:w.readInt32LE,j=0;j<w.length;j+=C)R.push(T.call(w,j));return R}(g=b.isBuffer(g)?g:new b(g),I),8*g.length),h=I,v=new b(E),_=h?v.writeInt32BE:v.writeInt32LE,p=0;p<y.length;p++)_.call(v,y[p],4*p,!0);return v}}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(a,r,n){(function(e,o,b,A,c,l,f,u,d){var b=a("buffer").Buffer,C=a("./sha"),m=a("./sha256"),g=a("./rng"),h={sha1:C,sha256:m,md5:a("./md5")},E=64,I=new b(E);function y(w,D){var x=h[w=w||"sha1"],R=[];return x||v("algorithm:",w,"is not yet supported"),{update:function(T){return b.isBuffer(T)||(T=new b(T)),R.push(T),T.length,this},digest:function(T){var j=b.concat(R),j=D?function(L,K,z){b.isBuffer(K)||(K=new b(K)),b.isBuffer(z)||(z=new b(z)),K.length>E?K=L(K):K.length<E&&(K=b.concat([K,I],E));for(var N=new b(E),q=new b(E),M=0;M<E;M++)N[M]=54^K[M],q[M]=92^K[M];return z=L(b.concat([N,z])),L(b.concat([q,z]))}(x,D,j):x(j);return R=null,T?j.toString(T):j}}}function v(){var w=[].slice.call(arguments).join(" ");throw new Error([w,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}I.fill(0),n.createHash=function(w){return y(w)},n.createHmac=y,n.randomBytes=function(w,D){if(!D||!D.call)return new b(g(w));try{D.call(this,void 0,new b(g(w)))}catch(x){D(x)}};var _,p=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],Q=function(w){n[w]=function(){v("sorry,",w,"is not implemented yet")}};for(_ in p)Q(p[_])}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){var b=a("./helpers");function C(v,_){v[_>>5]|=128<<_%32,v[14+(_+64>>>9<<4)]=_;for(var p=1732584193,Q=-271733879,w=-1732584194,D=271733878,x=0;x<v.length;x+=16){var R=p,T=Q,j=w,L=D,p=g(p,Q,w,D,v[x+0],7,-680876936),D=g(D,p,Q,w,v[x+1],12,-389564586),w=g(w,D,p,Q,v[x+2],17,606105819),Q=g(Q,w,D,p,v[x+3],22,-1044525330);p=g(p,Q,w,D,v[x+4],7,-176418897),D=g(D,p,Q,w,v[x+5],12,1200080426),w=g(w,D,p,Q,v[x+6],17,-1473231341),Q=g(Q,w,D,p,v[x+7],22,-45705983),p=g(p,Q,w,D,v[x+8],7,1770035416),D=g(D,p,Q,w,v[x+9],12,-1958414417),w=g(w,D,p,Q,v[x+10],17,-42063),Q=g(Q,w,D,p,v[x+11],22,-1990404162),p=g(p,Q,w,D,v[x+12],7,1804603682),D=g(D,p,Q,w,v[x+13],12,-40341101),w=g(w,D,p,Q,v[x+14],17,-1502002290),p=h(p,Q=g(Q,w,D,p,v[x+15],22,1236535329),w,D,v[x+1],5,-165796510),D=h(D,p,Q,w,v[x+6],9,-1069501632),w=h(w,D,p,Q,v[x+11],14,643717713),Q=h(Q,w,D,p,v[x+0],20,-373897302),p=h(p,Q,w,D,v[x+5],5,-701558691),D=h(D,p,Q,w,v[x+10],9,38016083),w=h(w,D,p,Q,v[x+15],14,-660478335),Q=h(Q,w,D,p,v[x+4],20,-405537848),p=h(p,Q,w,D,v[x+9],5,568446438),D=h(D,p,Q,w,v[x+14],9,-1019803690),w=h(w,D,p,Q,v[x+3],14,-187363961),Q=h(Q,w,D,p,v[x+8],20,1163531501),p=h(p,Q,w,D,v[x+13],5,-1444681467),D=h(D,p,Q,w,v[x+2],9,-51403784),w=h(w,D,p,Q,v[x+7],14,1735328473),p=E(p,Q=h(Q,w,D,p,v[x+12],20,-1926607734),w,D,v[x+5],4,-378558),D=E(D,p,Q,w,v[x+8],11,-2022574463),w=E(w,D,p,Q,v[x+11],16,1839030562),Q=E(Q,w,D,p,v[x+14],23,-35309556),p=E(p,Q,w,D,v[x+1],4,-1530992060),D=E(D,p,Q,w,v[x+4],11,1272893353),w=E(w,D,p,Q,v[x+7],16,-155497632),Q=E(Q,w,D,p,v[x+10],23,-1094730640),p=E(p,Q,w,D,v[x+13],4,681279174),D=E(D,p,Q,w,v[x+0],11,-358537222),w=E(w,D,p,Q,v[x+3],16,-722521979),Q=E(Q,w,D,p,v[x+6],23,76029189),p=E(p,Q,w,D,v[x+9],4,-640364487),D=E(D,p,Q,w,v[x+12],11,-421815835),w=E(w,D,p,Q,v[x+15],16,530742520),p=I(p,Q=E(Q,w,D,p,v[x+2],23,-995338651),w,D,v[x+0],6,-198630844),D=I(D,p,Q,w,v[x+7],10,1126891415),w=I(w,D,p,Q,v[x+14],15,-1416354905),Q=I(Q,w,D,p,v[x+5],21,-57434055),p=I(p,Q,w,D,v[x+12],6,1700485571),D=I(D,p,Q,w,v[x+3],10,-1894986606),w=I(w,D,p,Q,v[x+10],15,-1051523),Q=I(Q,w,D,p,v[x+1],21,-2054922799),p=I(p,Q,w,D,v[x+8],6,1873313359),D=I(D,p,Q,w,v[x+15],10,-30611744),w=I(w,D,p,Q,v[x+6],15,-1560198380),Q=I(Q,w,D,p,v[x+13],21,1309151649),p=I(p,Q,w,D,v[x+4],6,-145523070),D=I(D,p,Q,w,v[x+11],10,-1120210379),w=I(w,D,p,Q,v[x+2],15,718787259),Q=I(Q,w,D,p,v[x+9],21,-343485551),p=y(p,R),Q=y(Q,T),w=y(w,j),D=y(D,L)}return Array(p,Q,w,D)}function m(v,_,p,Q,w,D){return y((_=y(y(_,v),y(Q,D)))<<w|_>>>32-w,p)}function g(v,_,p,Q,w,D,x){return m(_&p|~_&Q,v,_,w,D,x)}function h(v,_,p,Q,w,D,x){return m(_&Q|p&~Q,v,_,w,D,x)}function E(v,_,p,Q,w,D,x){return m(_^p^Q,v,_,w,D,x)}function I(v,_,p,Q,w,D,x){return m(p^(_|~Q),v,_,w,D,x)}function y(v,_){var p=(65535&v)+(65535&_);return(v>>16)+(_>>16)+(p>>16)<<16|65535&p}r.exports=function(v){return b.hash(v,C,16)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){r.exports=function(b){for(var C,m=new Array(b),g=0;g<b;g++)!(3&g)&&(C=4294967296*Math.random()),m[g]=C>>>((3&g)<<3)&255;return m}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){var b=a("./helpers");function C(h,E){h[E>>5]|=128<<24-E%32,h[15+(E+64>>9<<4)]=E;for(var I,y,v,_=Array(80),p=1732584193,Q=-271733879,w=-1732584194,D=271733878,x=-1009589776,R=0;R<h.length;R+=16){for(var T=p,j=Q,L=w,K=D,z=x,N=0;N<80;N++){_[N]=N<16?h[R+N]:g(_[N-3]^_[N-8]^_[N-14]^_[N-16],1);var q=m(m(g(p,5),(q=Q,y=w,v=D,(I=N)<20?q&y|~q&v:!(I<40)&&I<60?q&y|q&v|y&v:q^y^v)),m(m(x,_[N]),(I=N)<20?1518500249:I<40?1859775393:I<60?-1894007588:-899497514)),x=D,D=w,w=g(Q,30),Q=p,p=q}p=m(p,T),Q=m(Q,j),w=m(w,L),D=m(D,K),x=m(x,z)}return Array(p,Q,w,D,x)}function m(h,E){var I=(65535&h)+(65535&E);return(h>>16)+(E>>16)+(I>>16)<<16|65535&I}function g(h,E){return h<<E|h>>>32-E}r.exports=function(h){return b.hash(h,C,20,!0)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){function b(E,I){var y=(65535&E)+(65535&I);return(E>>16)+(I>>16)+(y>>16)<<16|65535&y}function C(E,I){var y,v=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),_=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),p=new Array(64);E[I>>5]|=128<<24-I%32,E[15+(I+64>>9<<4)]=I;for(var Q,w,D=0;D<E.length;D+=16){for(var x=_[0],R=_[1],T=_[2],j=_[3],L=_[4],K=_[5],z=_[6],N=_[7],q=0;q<64;q++)p[q]=q<16?E[q+D]:b(b(b((w=p[q-2],g(w,17)^g(w,19)^h(w,10)),p[q-7]),(w=p[q-15],g(w,7)^g(w,18)^h(w,3))),p[q-16]),y=b(b(b(b(N,g(w=L,6)^g(w,11)^g(w,25)),L&K^~L&z),v[q]),p[q]),Q=b(g(Q=x,2)^g(Q,13)^g(Q,22),x&R^x&T^R&T),N=z,z=K,K=L,L=b(j,y),j=T,T=R,R=x,x=b(y,Q);_[0]=b(x,_[0]),_[1]=b(R,_[1]),_[2]=b(T,_[2]),_[3]=b(j,_[3]),_[4]=b(L,_[4]),_[5]=b(K,_[5]),_[6]=b(z,_[6]),_[7]=b(N,_[7])}return _}var m=a("./helpers"),g=function(E,I){return E>>>I|E<<32-I},h=function(E,I){return E>>>I};r.exports=function(E){return m.hash(E,C,32,!0)}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){n.read=function(b,C,m,g,D){var E,I,y=8*D-g-1,v=(1<<y)-1,_=v>>1,p=-7,Q=m?D-1:0,w=m?-1:1,D=b[C+Q];for(Q+=w,E=D&(1<<-p)-1,D>>=-p,p+=y;0<p;E=256*E+b[C+Q],Q+=w,p-=8);for(I=E&(1<<-p)-1,E>>=-p,p+=g;0<p;I=256*I+b[C+Q],Q+=w,p-=8);if(E===0)E=1-_;else{if(E===v)return I?NaN:1/0*(D?-1:1);I+=Math.pow(2,g),E-=_}return(D?-1:1)*I*Math.pow(2,E-g)},n.write=function(b,C,m,g,h,x){var I,y,v=8*x-h-1,_=(1<<v)-1,p=_>>1,Q=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=g?0:x-1,D=g?1:-1,x=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(y=isNaN(C)?1:0,I=_):(I=Math.floor(Math.log(C)/Math.LN2),C*(g=Math.pow(2,-I))<1&&(I--,g*=2),2<=(C+=1<=I+p?Q/g:Q*Math.pow(2,1-p))*g&&(I++,g/=2),_<=I+p?(y=0,I=_):1<=I+p?(y=(C*g-1)*Math.pow(2,h),I+=p):(y=C*Math.pow(2,p-1)*Math.pow(2,h),I=0));8<=h;b[m+w]=255&y,w+=D,y/=256,h-=8);for(I=I<<h|y,v+=h;0<v;b[m+w]=255&I,w+=D,I/=256,v-=8);b[m+w-D]|=128*x}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(a,r,n){(function(e,o,s,A,c,l,f,u,d){var b,C,m;function g(){}(e=r.exports={}).nextTick=(C=typeof window<"u"&&window.setImmediate,m=typeof window<"u"&&window.postMessage&&window.addEventListener,C?function(h){return window.setImmediate(h)}:m?(b=[],window.addEventListener("message",function(h){var E=h.source;E!==window&&E!==null||h.data!=="process-tick"||(h.stopPropagation(),0<b.length&&b.shift()())},!0),function(h){b.push(h),window.postMessage("process-tick","*")}):function(h){setTimeout(h,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.binding=function(h){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(h){throw new Error("process.chdir is not supported")}}).call(this,a("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},a("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Rs);var Iu=Rs.exports;const Eu=Xn(Iu);var Ge={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive"};const Cu={[`${Ge.normal}`]:{"#include <beginnormal_vertex>":`
    vec3 objectNormal = ${Ge.normal};
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `},[`${Ge.position}`]:{"#include <begin_vertex>":`
    vec3 transformed = ${Ge.position};
  `},[`${Ge.positionRaw}`]:{"#include <begin_vertex>":`
    vec4 csm_positionUnprojected = ${Ge.positionRaw};
    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;
    #endif
    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;
    vec3 transformed = csm_positionUnprojected.xyz;
  `},[`${Ge.pointSize}`]:{"gl_PointSize = size;":`
    gl_PointSize = ${Ge.pointSize};
    `},[`${Ge.diffuseColor}`]:{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = ${Ge.diffuseColor};
  `},[`${Ge.fragColor}`]:{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = ${Ge.fragColor};
  `},[`${Ge.emissive}`]:{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = ${Ge.emissive};
    `},[`${Ge.roughness}`]:{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = ${Ge.roughness};
    `},[`${Ge.metalness}`]:{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = ${Ge.metalness};
    `}},Bu={[`${Ge.position}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( ${Ge.position}, 1.0 );
  `},[`${Ge.positionRaw}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = ${Ge.position};
  `},[`${Ge.diffuseColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${Ge.diffuseColor};
  `},[`${Ge.fragColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${Ge.fragColor};
  `}},vu=`

#ifdef IS_VERTEX
    vec3 csm_Position = position;
    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    vec3 csm_Normal = normal;
#else
    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL
        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);
        vec4 csm_FragColor = vec4(1., 0., 1., 1.);
    #else
        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
            vec3 csm_Emissive = emissive;
            float csm_Roughness = roughness;
            float csm_Metalness = metalness;
        #endif
        
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif
#endif
`,_u=(i,t,a)=>i.split(t).join(a),yu=function(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Qu=(i,t)=>new RegExp(`\\b${yu(t)}\\b`).test(i);function wu(i){try{new i}catch(t){if(t.message.indexOf("is not a constructor")>=0)return!1}return!0}class xu extends yr{constructor({baseMaterial:t,fragmentShader:a,vertexShader:r,uniforms:n,patchMap:e,cacheKey:o,...s}){let A;if(wu(t)?A=new t(s):(A=t,Object.assign(A,s)),A.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");super(),this.uniforms=n||{},this._customPatchMap=e||{},this._fs=a||"",this._vs=r||"",this._cacheKey=o,this._base=t,this._type=A.type,this._instanceID=Rr.generateUUID();for(const c in A){let l=c;c.startsWith("_")&&(l=c.split("_")[1]),this[l]===void 0&&(this[l]=0),this[l]=A[l]}this.update({fragmentShader:a,vertexShader:r,uniforms:n,cacheKey:o})}update(t){const a=t?.uniforms||{},r=t?.fragmentShader||this._fs,n=t?.vertexShader||this._vs,e=Object.values(a).reduce((o,{value:s})=>o+JSON.stringify(s),"");this.uuid=(t==null||t.cacheKey==null?void 0:t.cacheKey())||Eu([r,n,e,this._instanceID]),this.generateMaterial({fragmentShader:r,vertexShader:n,uniforms:a})}clone(){const t=new this.constructor({baseMaterial:this._base,fragmentShader:this._fs,vertexShader:this._vs,patchMap:this._customPatchMap,uniforms:this.uniforms,cacheKey:this._cacheKey});for(const a in this)a!=="uuid"&&(t[a]=this[a]);return t}generateMaterial({fragmentShader:t,vertexShader:a,uniforms:r}){const n=this.parseShader(t),e=this.parseShader(a);this.uniforms=r||{},this.customProgramCacheKey=()=>this.uuid,this.onBeforeCompile=o=>{if(n){const s=this.patchShader(n,o.fragmentShader);o.fragmentShader=this.getMaterialDefine()+s}if(e){const s=this.patchShader(e,o.vertexShader);o.vertexShader=`#define IS_VERTEX;
`+s,o.vertexShader=this.getMaterialDefine()+o.vertexShader}o.uniforms={...o.uniforms,...this.uniforms},this.uniforms=o.uniforms},this.needsUpdate=!0}getMaterialDefine(){return`#define IS_${this._type.toUpperCase()};
`}getPatchMapForMaterial(){switch(this._type){case"ShaderMaterial":return Bu;default:return Cu}}patchShader(t,a){let r=a;const n={...this.getPatchMapForMaterial(),...this._customPatchMap};return Object.keys(n).forEach(e=>{Object.keys(n[e]).forEach(o=>{Qu(t.main,e)&&(r=_u(r,o,n[e][o]))})}),r=r.replace("void main() {",`
          ${t.header}
          void main() {
            ${vu}
            ${t.main}
          `),r=t.defines+r,r}parseShader(t){if(!t)return;const a=t.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),r=Na(a),n=$a(r),e=n.map(A=>A.name).indexOf("main"),o=Yn(r.slice(0,e>=0?n[e].outer[0]:void 0)),s=e>=0?this.getShaderFromIndex(r,n[e].body):"";return{defines:"",header:o,main:s}}getShaderFromIndex(t,a){return Yn(t.slice(a[0],a[1]))}}function bi(i){return typeof i=="string"?new Se(i).convertLinearToSRGB():i}function Su(i){switch(i){case"alpha":return{min:0,max:1};case"scale":return{min:0};case"map":return{image:void 0};default:return{}}}function Ms(i){return i instanceof Pe||i instanceof ze||i instanceof Da||i instanceof ns||i instanceof mn}function Ii(i){return Ms(i)?i.toArray():i instanceof Se?"#"+i.clone().convertLinearToSRGB().getHexString():i instanceof kr?i.image.src:i}const Du={normal:"normal",add:"add",subtract:"subtract",multiply:"multiply",lighten:"lighten",darken:"darken",divide:"divide",overlay:"overlay",screen:"screen",softlight:"softlight",negation:"negation",reflect:"reflect"},Gs={perlin:"perlin",simplex:"simplex",cell:"cell",curl:"curl",white:"white"},no={local:"local",world:"world",uv:"uv"},ku={phong:ic,physical:Mt,toon:sc,basic:Vt,lambert:Ac,standard:Vn};class Ut{constructor(t,a,r){this.uuid=Rr.generateUUID().replace(/-/g,"_"),this.name="LayerMaterial",this.mode="normal",this.visible=!0;const e=Object.getOwnPropertyNames(t).filter(s=>s.startsWith("u_")).reduce((s,A)=>{var c;let l=(c=Object.getOwnPropertyDescriptor(t,A))==null?void 0:c.value;return(Ms(l)||l instanceof Se)&&(l=l.clone()),{...s,[A.slice(1)]:l}},{});for(const s in e){const A=s.split("_")[1];a?.[A]!==void 0&&(e[s]=a[A])}a&&Object.keys(a).map(s=>{a[s]!==void 0&&(this[s]=a[s])}),this.uniforms={},this.schema=[];const o={};Object.keys(e).map(s=>{const A=s.split("_")[1];this.uniforms[`u_${this.uuid}_${A}`]={value:bi(e[s])},this.schema.push({value:e[s],label:A}),o[A]={set:c=>{this.uniforms[`u_${this.uuid}_${A}`].value=bi(c)},get:()=>this.uniforms[`u_${this.uuid}_${A}`].value}}),a!=null&&a.name&&(this.name=a.name),a!=null&&a.mode&&(this.mode=a.mode),a!=null&&a.visible&&(this.visible=a.visible),Object.defineProperties(this,o),this.vertexShader="",this.fragmentShader="",this.vertexVariables="",this.fragmentVariables="",this.onParse=r,this.buildShaders(t),this.schema.push({value:this.mode,label:"mode",options:Object.values(Du)}),this.schema.push({value:this.visible,label:"visible"})}buildShaders(t){var a;const r=Object.getOwnPropertyNames(t).filter(l=>l==="fragmentShader"||l==="vertexShader").reduce((l,f)=>{var u;return{...l,[f]:(u=Object.getOwnPropertyDescriptor(t,f))==null?void 0:u.value}},{}),n={vert:Na(r.vertexShader||""),frag:Na(r.fragmentShader||"")},e={vert:mi(n.vert,this.renameTokens.bind(this)),frag:mi(n.frag,this.renameTokens.bind(this))},o={vert:$a(e.vert),frag:$a(e.frag)},s={vert:o.vert.map(l=>l.name).indexOf("main"),frag:o.frag.map(l=>l.name).indexOf("main")},A={vert:s.vert>=0?Yn(e.vert.slice(0,o.vert[s.vert].outer[0])):"",frag:s.frag>=0?Yn(e.frag.slice(0,o.frag[s.frag].outer[0])):""},c={vert:s.vert>=0?this.getShaderFromIndex(e.vert,o.vert[s.vert].body):"",frag:s.frag>=0?this.getShaderFromIndex(e.frag,o.frag[s.frag].body):""};this.vertexShader=this.processFinal(c.vert,!0),this.fragmentShader=this.processFinal(c.frag),this.vertexVariables=A.vert,this.fragmentVariables=A.frag,(a=this.onParse)==null||a.call(this,this),this.schema=this.schema.filter((l,f)=>{const u=l.label;return f===this.schema.findIndex(d=>d.label===u)})}renameTokens(t){if(t.startsWith("u_")){const a=t.slice(2);return`u_${this.uuid}_${a}`}else if(t.startsWith("v_")){const a=t.slice(2);return`v_${this.uuid}_${a}`}else if(t.startsWith("f_")){const a=t.slice(2);return`f_${this.uuid}_${a}`}else return t}processFinal(t,a){const r=t.replace(/\sf_/gm,` f_${this.uuid}_`).replace(/\(f_/gm,`(f_${this.uuid}_`),n=r.match(/^.*return.*$/gm);let e=r.replace(/^.*return.*$/gm,"");if(n!=null&&n[0]){const o=n[0].replace("return","").trim().replace(";",""),s=this.getBlendMode(o,"lamina_finalColor");e+=a?`lamina_finalPosition = ${o};`:`lamina_finalColor = ${s};`}return e}getShaderFromIndex(t,a){return Yn(t.slice(a[0],a[1]))}getBlendMode(t,a){switch(this.mode){default:case"normal":return`lamina_blend_alpha(${a}, ${t}, ${t}.a)`;case"add":return`lamina_blend_add(${a}, ${t}, ${t}.a)`;case"subtract":return`lamina_blend_subtract(${a}, ${t}, ${t}.a)`;case"multiply":return`lamina_blend_multiply(${a}, ${t}, ${t}.a)`;case"lighten":return`lamina_blend_lighten(${a}, ${t}, ${t}.a)`;case"darken":return`lamina_blend_darken(${a}, ${t}, ${t}.a)`;case"divide":return`lamina_blend_divide(${a}, ${t}, ${t}.a)`;case"overlay":return`lamina_blend_overlay(${a}, ${t}, ${t}.a)`;case"screen":return`lamina_blend_screen(${a}, ${t}, ${t}.a)`;case"softlight":return`lamina_blend_softlight(${a}, ${t}, ${t}.a)`;case"reflect":return`lamina_blend_reflect(${a}, ${t}, ${t}.a)`;case"negation":return`lamina_blend_negation(${a}, ${t}, ${t}.a)`}}getSchema(){return this.schema.map(({label:a,options:r,...n})=>({label:a,options:r,...Su(a),...n,value:Ii(this[a])}))}serialize(){const t=this.constructor.name.split("$")[0];let a=Object.keys(this);a=a.filter(e=>!["uuid","uniforms","schema","fragmentShader","vertexShader","fragmentVariables","vertexVariables","attribs","events","__r3f","onParse"].includes(e));const r={};a.forEach(e=>{r[e]=this[e]});const n={};for(const e in this.uniforms){const o=e.replace(`u_${this.uuid}_`,"");n[o]=Ii(this.uniforms[e].value)}return{constructor:t,properties:{...n,...r}}}}class Et extends Ut{constructor(t){super(Et,{name:"Depth",...t},a=>{a.schema.push({value:a.mapping,label:"mapping",options:["vector","world","camera"]});const r=Et.getMapping(a.uuid,a.mapping);a.fragmentShader=a.fragmentShader.replace("lamina_mapping_template",r)}),this.mapping="vector"}static getMapping(t,a){switch(a){default:case"vector":return`length(v_${t}_worldPosition - u_${t}_origin)`;case"world":return`length(v_${t}_position - vec3(0.))`;case"camera":return`length(v_${t}_worldPosition - cameraPosition)`}}}Et.u_near=2;Et.u_far=10;Et.u_origin=new Pe(0,0,0);Et.u_colorA="white";Et.u_colorB="black";Et.u_alpha=1;Et.vertexShader=`
  varying vec3 v_worldPosition;
  varying vec3 v_position;

  void main() {
    v_worldPosition = (vec4(position, 1.0) * modelMatrix).xyz;
    v_position = position;
  }
  `;Et.fragmentShader=`   
    uniform float u_alpha;
    uniform float u_near;
    uniform float u_far;
    uniform float u_isVector;
    uniform vec3 u_origin;
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;

    varying vec3 v_worldPosition;
    varying vec3 v_position;

    void main() {
      float f_dist = lamina_mapping_template;
      float f_depth = (f_dist - u_near) / (u_far - u_near);
			vec3 f_depthColor =  mix(u_colorB, u_colorA, 1.0 - clamp(f_depth, 0., 1.));
  
  
      return vec4(f_depthColor, u_alpha);
    }
  `;class nr extends Ut{constructor(t){super(nr,{name:"Color",...t})}}nr.u_color="red";nr.u_alpha=1;nr.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;

    void main() {
      return vec4(u_color, u_alpha);
    }
  `;class tt extends Ut{constructor(t){super(tt,{name:"noise",...t},a=>{a.schema.push({value:a.type,label:"type",options:Object.values(Gs)}),a.schema.push({value:a.mapping,label:"mapping",options:Object.values(no)});const r=tt.getNoiseFunction(a.type),n=tt.getMapping(a.mapping);a.vertexShader=a.vertexShader.replace("lamina_mapping_template",n),a.fragmentShader=a.fragmentShader.replace("lamina_noise_template",r)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(t){switch(t){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(t){switch(t){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}tt.u_colorA="#666666";tt.u_colorB="#666666";tt.u_colorC="#FFFFFF";tt.u_colorD="#FFFFFF";tt.u_alpha=1;tt.u_scale=1;tt.u_offset=new Pe(0,0,0);tt.vertexShader=`
    varying vec3 v_position;

    void main() {
        v_position = lamina_mapping_template;
    }
  `;tt.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_colorC;
    uniform vec3 u_colorD;
    uniform vec3 u_offset;

    uniform float u_alpha;
    uniform float u_scale;

    varying vec3 v_position;


    void main() {
        float f_n = lamina_noise_template((v_position + u_offset) * u_scale);

        float f_step1 = 0.;
        float f_step2 = 0.2;
        float f_step3 = 0.6;
        float f_step4 = 1.;

        vec3 f_color = mix(u_colorA, u_colorB, smoothstep(f_step1, f_step2, f_n));
        f_color = mix(f_color, u_colorC, smoothstep(f_step2, f_step3, f_n));
        f_color = mix(f_color, u_colorD, smoothstep(f_step3, f_step4, f_n));

        return vec4(f_color, u_alpha);
    }
  `;class ct extends Ut{constructor(t){super(ct,{name:"Fresnel",...t})}}ct.u_color="white";ct.u_alpha=1;ct.u_bias=0;ct.u_intensity=1;ct.u_power=2;ct.u_factor=1;ct.vertexShader=`
    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        v_worldPosition = vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
        v_worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
        
    }
  `;ct.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;
    uniform float u_bias;
    uniform float u_intensity;
    uniform float u_power;
    uniform float u_factor;

    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        float f_a = (u_factor  + dot(v_worldPosition, v_worldNormal));
        float f_fresnel = u_bias + u_intensity * pow(abs(f_a), u_power);

        f_fresnel = clamp(f_fresnel, 0.0, 1.0);
        return vec4(f_fresnel * u_color, u_alpha);
    }
  `;class ut extends Ut{constructor(t){super(ut,{name:"Gradient",...t},a=>{a.schema.push({value:a.axes,label:"axes",options:["x","y","z"]}),a.schema.push({value:a.mapping,label:"mapping",options:Object.values(no)});const r=ut.getMapping(a.mapping);a.vertexShader=a.vertexShader.replace("lamina_mapping_template",r||"local"),a.fragmentShader=a.fragmentShader.replace("axes_template",a.axes||"x")}),this.axes="x",this.mapping="local"}static getMapping(t){switch(t){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}ut.u_colorA="white";ut.u_colorB="black";ut.u_alpha=1;ut.u_start=1;ut.u_end=-1;ut.u_contrast=1;ut.vertexShader=`
		varying vec3 v_position;

		vod main() {
      v_position = lamina_mapping_template;
		}
  `;ut.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_axis;
    uniform float u_alpha;
    uniform float u_start;
    uniform float u_end;
    uniform float u_contrast;

		varying vec3 v_position;

    void main() {

      float f_step = smoothstep(u_start, u_end, v_position.axes_template * u_contrast);
      vec3 f_color = mix(u_colorA, u_colorB, f_step);

      return vec4(f_color, u_alpha);
    }
  `;class Cn extends Ut{constructor(t){super(Cn,{name:"Matcap",...t})}}Cn.u_alpha=1;Cn.u_map=void 0;Cn.vertexShader=`
    varying vec3 v_position;
    varying vec3 v_normal;
    
    void main() {
      v_position = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );
      v_normal = normalize( normalMatrix * normal );
    }
    `;Cn.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec3 v_position;
		varying vec3 v_normal;

		
    void main() {
			vec3 f_r = reflect( v_position, v_normal );
			float f_m = 2. * sqrt( pow( f_r.x, 2. ) + pow( f_r.y, 2. ) + pow( f_r.z + 1., 2. ) );
			vec2 f_vN = f_r.xy / f_m + .5;

			vec3 f_base = texture2D(u_map, f_vN).rgb;

      return vec4(f_base, u_alpha);
    }
  `;class Bn extends Ut{constructor(t){super(Bn,{name:"Texture",...t})}}Bn.u_alpha=1;Bn.u_map=void 0;Bn.vertexShader=`
    varying vec2 v_uv;
    
    void main() {
        v_uv = uv;
    }
    `;Bn.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec2 v_uv;

    void main() {
			vec4 f_color = texture2D(u_map, v_uv);
      return vec4(f_color.rgb, f_color.a * u_alpha);
    }
  `;class Ft extends Ut{constructor(t){super(Ft,{name:"Displace",...t},a=>{a.schema.push({value:a.type,label:"type",options:Object.values(Gs)}),a.schema.push({value:a.mapping,label:"mapping",options:Object.values(no)});const r=Ft.getNoiseFunction(a.type),n=Ft.getMapping(a.mapping);a.vertexVariables=a.vertexVariables.replace("lamina_mapping_template",n),a.vertexVariables=a.vertexVariables.replace("lamina_noise_template",r)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(t){switch(t){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(t){switch(t){default:case"local":return"p";case"world":return"(modelMatrix * vec4(p,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Ft.u_strength=1;Ft.u_scale=1;Ft.u_offset=new Pe(0,0,0);Ft.vertexShader=`
       
      uniform float u_strength;
      uniform float u_scale;
      uniform vec3 u_offset;

      vec3 displace(vec3 p) {
				vec3 f_position = lamina_mapping_template;
        float f_n = lamina_noise_template((f_position + u_offset) * u_scale) * u_strength;
        vec3 f_newPosition = p + (f_n * normal);

				return f_newPosition;
      }

      
			vec3 orthogonal(vec3 v) {
  		  return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)
  		  : vec3(0.0, -v.z, v.y));
  		}
  		vec3 recalcNormals(vec3 newPos) {
  		  float offset = 0.001;
  		  vec3 tangent = orthogonal(normal);
  		  vec3 bitangent = normalize(cross(normal, tangent));
  		  vec3 neighbour1 = position + tangent * offset;
  		  vec3 neighbour2 = position + bitangent * offset;
  		  vec3 displacedNeighbour1 = displace(neighbour1);
  		  vec3 displacedNeighbour2 = displace(neighbour2);
  		  vec3 displacedTangent = displacedNeighbour1 - newPos;
  		  vec3 displacedBitangent = displacedNeighbour2 - newPos;
  		  return normalize(cross(displacedTangent, displacedBitangent));
  		}
  
  
      void main() {
       
				vec3 f_newPosition = displace(position);
        lamina_finalNormal = recalcNormals(f_newPosition);

        return f_newPosition;
      }
    `;class vn extends Ut{constructor(t){super(vn,{name:"Normal",...t})}}vn.u_alpha=1;vn.u_direction=new Pe(1,1,1);vn.vertexShader=`   
  varying vec3 v_normals; 

  void main() {
    v_normals = normal;
  }
`;vn.fragmentShader=`   
  	uniform float u_alpha;
  	uniform vec3 u_color;
  	uniform vec3 u_direction;

		varying vec3 v_normals;

    void main() {
			vec3 f_normalColor = vec3(1.);
      f_normalColor.x = v_normals.x * u_direction.x;
      f_normalColor.y = v_normals.y * u_direction.y;
      f_normalColor.z = v_normals.z * u_direction.z;

      return vec4(f_normalColor, u_alpha);
    }
  `;var Fu=`
vec4 lamina_blend_add(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz + y.xyz, 1.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec3 lamina_blend_alpha(const in vec3 x, const in vec3 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}

vec4 lamina_blend_alpha(const in vec4 x, const in vec4 y, const in float opacity) {

	float a = min(y.a, opacity);

	return vec4(lamina_blend_alpha(x.rgb, y.rgb, a), x.a);

}
vec4 lamina_blend_average(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz) * 0.5 * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_burn(const in float x, const in float y) {

	return (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);

}

vec4 lamina_blend_color_burn(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_burn(x.r, y.r),
		lamina_blend_color_burn(x.g, y.g),
		lamina_blend_color_burn(x.b, y.b),
		lamina_blend_color_burn(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_dodge(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x / (1.0 - y), 1.0);

}

vec4 lamina_blend_color_dodge(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_dodge(x.r, y.r),
		lamina_blend_color_dodge(x.g, y.g),
		lamina_blend_color_dodge(x.b, y.b),
		lamina_blend_color_dodge(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_darken(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_difference(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(abs(x.xyz - y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_divide(const in float x, const in float y) {

	return (y > 0.0) ? min(x / y, 1.0) : 1.0;

}

vec4 lamina_blend_divide(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_divide(x.r, y.r),
		lamina_blend_divide(x.g, y.g),
		lamina_blend_divide(x.b, y.b),
		lamina_blend_divide(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_exclusion(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz - 2.0 * x.xyz * y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_lighten(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_multiply(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4( x.xyz * y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_negation(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - abs(1.0 - x.xyz - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_normal(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_overlay(const in float x, const in float y) {

	return (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));

}

vec4 lamina_blend_overlay(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_overlay(x.r, y.r),
		lamina_blend_overlay(x.g, y.g),
		lamina_blend_overlay(x.b, y.b),
		lamina_blend_overlay(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_reflect(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);

}

vec4 lamina_blend_reflect(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_reflect(x.r, y.r),
		lamina_blend_reflect(x.g, y.g),
		lamina_blend_reflect(x.b, y.b),
		lamina_blend_reflect(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_screen(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - (1.0 - x.xyz) * (1.0 - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_softlight(const in float x, const in float y) {

	return (y < 0.5) ?
		(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :
		(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));

}

vec4 lamina_blend_softlight(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_softlight(x.r, y.r),
		lamina_blend_softlight(x.g, y.g),
		lamina_blend_softlight(x.b, y.b),
		lamina_blend_softlight(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_subtract(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz + y.xyz - 1.0, 0.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}

`,Ei=`

// From: https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83
// Huge thanks to the creators of these algorithms

float lamina_noise_mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_perm(vec4 x){return lamina_noise_mod289(((x * 34.0) + 1.0) * x);}
vec4 lamina_noise_permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }
vec4 lamina_noise_taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }


float lamina_noise_white(vec2 p) {
  return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) *
               (0.1 + abs(sin(p.y * 13.0 + p.x))));
}

float lamina_noise_white(vec3 p) {
  return lamina_noise_white(p.xy);
}


vec3 lamina_noise_fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }

float lamina_noise_perlin(vec3 P) {
  vec3 Pi0 = floor(P);        // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);        // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = lamina_noise_permute(lamina_noise_permute(ix) + iy);
  vec4 ixy0 = lamina_noise_permute(ixy + iz0);
  vec4 ixy1 = lamina_noise_permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);

  vec4 norm0 = lamina_noise_taylorInvSqrt(
      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = lamina_noise_taylorInvSqrt(
      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = lamina_noise_fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),
                 fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return lamina_normalize(2.2 * n_xyz);
}

float lamina_noise_simplex(vec3 v) {
  const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);
  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i = floor(v + dot(v, C.yyy));
  vec3 x0 = v - i + dot(i, C.xxx);

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min(g.xyz, l.zxy);
  vec3 i2 = max(g.xyz, l.zxy);

  //  x0 = x0 - 0. + 0.0 * C
  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
  vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
  i = mod(i, 289.0);
  vec4 p = lamina_noise_permute(lamina_noise_permute(lamina_noise_permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y +
                             vec4(0.0, i1.y, i2.y, 1.0)) +
                    i.x + vec4(0.0, i1.x, i2.x, 1.0));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
  float n_ = 1.0 / 7.0; // N=7
  vec3 ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z); //  mod(p,N*N)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)

  vec4 x = x_ * ns.x + ns.yyyy;
  vec4 y = y_ * ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4(x.xy, y.xy);
  vec4 b1 = vec4(x.zw, y.zw);

  vec4 s0 = floor(b0) * 2.0 + 1.0;
  vec4 s1 = floor(b1) * 2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
  vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;

  vec3 p0 = vec3(a0.xy, h.x);
  vec3 p1 = vec3(a0.zw, h.y);
  vec3 p2 = vec3(a1.xy, h.z);
  vec3 p3 = vec3(a1.zw, h.w);

  // Normalise gradients
  vec4 norm =
      lamina_noise_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m =
      max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);
  m = m * m;
  return lamina_normalize(42.0 *
         dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3))));
}

vec3 lamina_noise_simplex3(vec3 x) {
  float s = lamina_noise_simplex(vec3(x));
  float s1 = lamina_noise_simplex(vec3(x.y - 19.1, x.z + 33.4, x.x + 47.2));
  float s2 = lamina_noise_simplex(vec3(x.z + 74.2, x.x - 124.5, x.y + 99.4));
  vec3 c = vec3(s, s1, s2);
  return c;
}

vec3 lamina_noise_curl(vec3 p) {
  const float e = .1;
  vec3 dx = vec3(e, 0.0, 0.0);
  vec3 dy = vec3(0.0, e, 0.0);
  vec3 dz = vec3(0.0, 0.0, e);

  vec3 p_x0 = lamina_noise_simplex3(p - dx);
  vec3 p_x1 = lamina_noise_simplex3(p + dx);
  vec3 p_y0 = lamina_noise_simplex3(p - dy);
  vec3 p_y1 = lamina_noise_simplex3(p + dy);
  vec3 p_z0 = lamina_noise_simplex3(p - dz);
  vec3 p_z1 = lamina_noise_simplex3(p + dz);

  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;

  const float divisor = 1.0 / (2.0 * e);
  return normalize(vec3(x, y, z) * divisor);
}

vec3 lamina_permute(vec3 x) {
  return mod((34.0 * x + 1.0) * x, 289.0);
}

vec3 lamina_dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {
  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);
}

// From: https://github.com/Erkaman/glsl-worley
float lamina_noise_worley(vec3 P) {
  float jitter = 1.;
  bool manhattanDistance = false; 

  float K = 0.142857142857; // 1/7
  float Ko = 0.428571428571; // 1/2-K/2
  float  K2 = 0.020408163265306; // 1/(7*7)
  float Kz = 0.166666666667; // 1/6
  float Kzo = 0.416666666667; // 1/2-1/6*2

	vec3 Pi = mod(floor(P), 289.0);
 	vec3 Pf = fract(P) - 0.5;

	vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);
	vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);
	vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);

	vec3 p = lamina_permute(Pi.x + vec3(-1.0, 0.0, 1.0));
	vec3 p1 = lamina_permute(p + Pi.y - 1.0);
	vec3 p2 = lamina_permute(p + Pi.y);
	vec3 p3 = lamina_permute(p + Pi.y + 1.0);

	vec3 p11 = lamina_permute(p1 + Pi.z - 1.0);
	vec3 p12 = lamina_permute(p1 + Pi.z);
	vec3 p13 = lamina_permute(p1 + Pi.z + 1.0);

	vec3 p21 = lamina_permute(p2 + Pi.z - 1.0);
	vec3 p22 = lamina_permute(p2 + Pi.z);
	vec3 p23 = lamina_permute(p2 + Pi.z + 1.0);

	vec3 p31 = lamina_permute(p3 + Pi.z - 1.0);
	vec3 p32 = lamina_permute(p3 + Pi.z);
	vec3 p33 = lamina_permute(p3 + Pi.z + 1.0);

	vec3 ox11 = fract(p11*K) - Ko;
	vec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;
	vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed

	vec3 ox12 = fract(p12*K) - Ko;
	vec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;
	vec3 oz12 = floor(p12*K2)*Kz - Kzo;

	vec3 ox13 = fract(p13*K) - Ko;
	vec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;
	vec3 oz13 = floor(p13*K2)*Kz - Kzo;

	vec3 ox21 = fract(p21*K) - Ko;
	vec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;
	vec3 oz21 = floor(p21*K2)*Kz - Kzo;

	vec3 ox22 = fract(p22*K) - Ko;
	vec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;
	vec3 oz22 = floor(p22*K2)*Kz - Kzo;

	vec3 ox23 = fract(p23*K) - Ko;
	vec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;
	vec3 oz23 = floor(p23*K2)*Kz - Kzo;

	vec3 ox31 = fract(p31*K) - Ko;
	vec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;
	vec3 oz31 = floor(p31*K2)*Kz - Kzo;

	vec3 ox32 = fract(p32*K) - Ko;
	vec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;
	vec3 oz32 = floor(p32*K2)*Kz - Kzo;

	vec3 ox33 = fract(p33*K) - Ko;
	vec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;
	vec3 oz33 = floor(p33*K2)*Kz - Kzo;

	vec3 dx11 = Pfx + jitter*ox11;
	vec3 dy11 = Pfy.x + jitter*oy11;
	vec3 dz11 = Pfz.x + jitter*oz11;

	vec3 dx12 = Pfx + jitter*ox12;
	vec3 dy12 = Pfy.x + jitter*oy12;
	vec3 dz12 = Pfz.y + jitter*oz12;

	vec3 dx13 = Pfx + jitter*ox13;
	vec3 dy13 = Pfy.x + jitter*oy13;
	vec3 dz13 = Pfz.z + jitter*oz13;

	vec3 dx21 = Pfx + jitter*ox21;
	vec3 dy21 = Pfy.y + jitter*oy21;
	vec3 dz21 = Pfz.x + jitter*oz21;

	vec3 dx22 = Pfx + jitter*ox22;
	vec3 dy22 = Pfy.y + jitter*oy22;
	vec3 dz22 = Pfz.y + jitter*oz22;

	vec3 dx23 = Pfx + jitter*ox23;
	vec3 dy23 = Pfy.y + jitter*oy23;
	vec3 dz23 = Pfz.z + jitter*oz23;

	vec3 dx31 = Pfx + jitter*ox31;
	vec3 dy31 = Pfy.z + jitter*oy31;
	vec3 dz31 = Pfz.x + jitter*oz31;

	vec3 dx32 = Pfx + jitter*ox32;
	vec3 dy32 = Pfy.z + jitter*oy32;
	vec3 dz32 = Pfz.y + jitter*oz32;

	vec3 dx33 = Pfx + jitter*ox33;
	vec3 dy33 = Pfy.z + jitter*oy33;
	vec3 dz33 = Pfz.z + jitter*oz33;

	vec3 d11 = lamina_dist(dx11, dy11, dz11, manhattanDistance);
	vec3 d12 = lamina_dist(dx12, dy12, dz12, manhattanDistance);
	vec3 d13 = lamina_dist(dx13, dy13, dz13, manhattanDistance);
	vec3 d21 = lamina_dist(dx21, dy21, dz21, manhattanDistance);
	vec3 d22 = lamina_dist(dx22, dy22, dz22, manhattanDistance);
	vec3 d23 = lamina_dist(dx23, dy23, dz23, manhattanDistance);
	vec3 d31 = lamina_dist(dx31, dy31, dz31, manhattanDistance);
	vec3 d32 = lamina_dist(dx32, dy32, dz32, manhattanDistance);
	vec3 d33 = lamina_dist(dx33, dy33, dz33, manhattanDistance);

	vec3 d1a = min(d11, d12);
	d12 = max(d11, d12);
	d11 = min(d1a, d13); // Smallest now not in d12 or d13
	d13 = max(d1a, d13);
	d12 = min(d12, d13); // 2nd smallest now not in d13
	vec3 d2a = min(d21, d22);
	d22 = max(d21, d22);
	d21 = min(d2a, d23); // Smallest now not in d22 or d23
	d23 = max(d2a, d23);
	d22 = min(d22, d23); // 2nd smallest now not in d23
	vec3 d3a = min(d31, d32);
	d32 = max(d31, d32);
	d31 = min(d3a, d33); // Smallest now not in d32 or d33
	d33 = max(d3a, d33);
	d32 = min(d32, d33); // 2nd smallest now not in d33
	vec3 da = min(d11, d21);
	d21 = max(d11, d21);
	d11 = min(da, d31); // Smallest now in d11
	d31 = max(da, d31); // 2nd smallest now not in d31
	d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;
	d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest
	d12 = min(d12, d21); // 2nd smallest now not in d21
	d12 = min(d12, d22); // nor in d22
	d12 = min(d12, d31); // nor in d31
	d12 = min(d12, d32); // nor in d32
	d11.yz = min(d11.yz,d12.xy); // nor in d12.yz
	d11.y = min(d11.y,d12.z); // Only two more to go
	d11.y = min(d11.y,d11.z); // Done! (Phew!)

  vec2 F = sqrt(d11.xy);
	return F.x; // F1, F2

}

float lamina_noise_swirl(vec3 position) {
    float scale = 0.1;
    float freq = 4. * scale;
    float t = 1.;

    vec3 pos = (position * scale) + lamina_noise_curl(position * 7. * scale);

    float worley1 = 1. - lamina_noise_worley((pos * (freq * 2.)) +  (t * 2.));
    float worley2 = 1. - lamina_noise_worley((pos * (freq * 4.)) +  (t * 4.));
    float worley3 = 1. - lamina_noise_worley((pos * (freq * 8.)) +  (t * 8.));
    float worley4 = 1. - lamina_noise_worley((pos * (freq * 16.)) +  (t * 16.));
    
    float fbm1 = worley1 * .625 + worley2 * .25 + worley3 * .125;
    float fbm2 = worley2 * .625 + worley3 * .25 + worley4 * .125;
    float fbm3 = worley3 * .75 + worley4 * .25;

    vec3 curlWorleyFbm = vec3(fbm1, fbm2, fbm3);
    float curlWorley = curlWorleyFbm.r * .625 + curlWorleyFbm.g * .25 + 
        curlWorleyFbm.b * .125;

    return curlWorley;
}
  
  
`,Ci=`

float lamina_map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float lamina_normalize(float v) { return lamina_map(v, -1.0, 1.0, 0.0, 1.0); }
`;class Lr extends xu{constructor({color:t,alpha:a,lighting:r,layers:n,name:e,...o}={}){super({baseMaterial:ku[r||"basic"],...o}),this.name="LayerMaterial",this.layers=[],this.lighting="basic";const s=t||"white",A=a??1;this.uniforms={u_lamina_color:{value:typeof s=="string"?new Se(s).convertSRGBToLinear():s},u_lamina_alpha:{value:A}},this.layers=n||this.layers,this.lighting=r||this.lighting,this.name=e||this.name,this.refresh()}genShaders(){let t="",a="",r="",n="",e={};return this.layers.filter(o=>o.visible).forEach(o=>{t+=o.vertexVariables+`
`,a+=o.fragmentVariables+`
`,r+=o.vertexShader+`
`,n+=o.fragmentShader+`
`,e={...e,...o.uniforms}}),e={...e,...this.uniforms},{uniforms:e,vertexShader:`
        ${Ci}
        ${Ei}
        ${t}

        void main() {
          vec3 lamina_finalPosition = position;
          vec3 lamina_finalNormal = normal;

          ${r}

          csm_Position = lamina_finalPosition;
          csm_Normal = lamina_finalNormal;
        }
        `,fragmentShader:`
        ${Ci}
        ${Ei}
        ${Fu}
        ${a}

        uniform vec3 u_lamina_color;
        uniform float u_lamina_alpha;

        void main() {
          vec4 lamina_finalColor = vec4(u_lamina_color, u_lamina_alpha);

          ${n}

          csm_DiffuseColor = lamina_finalColor;
         
        }
        `}}refresh(){const{uniforms:t,fragmentShader:a,vertexShader:r}=this.genShaders();super.update({fragmentShader:a,vertexShader:r,uniforms:t})}serialize(){return{constructor:"LayerMaterial",properties:{color:this.color,alpha:this.alpha,name:this.name,lighting:this.lighting}}}set color(t){var a,r;(a=this.uniforms)!=null&&(r=a.u_lamina_color)!=null&&r.value&&(this.uniforms.u_lamina_color.value=typeof t=="string"?new Se(t).convertSRGBToLinear():t)}get color(){var t,a;return(t=this.uniforms)==null||(a=t.u_lamina_color)==null?void 0:a.value}set alpha(t){this.uniforms.u_lamina_alpha.value=t}get alpha(){return this.uniforms.u_lamina_alpha.value}}function Tu(i){let t,a;return t=new le.SphereGeometry({props:{args:[1,64,64]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p:St,i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Ru(i){let t,a;return t=new le.Mesh({props:{material:i[0],scale:1e3,$$slots:{default:[Tu]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&2&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Mu(i){let t,a;return t=new le.Group({props:{"rotation.x":90*nn,"rotation.y":180*nn,$$slots:{default:[Ru]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,[n]){const e={};n&2&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Gu(i){const t=new Lr({side:rs,fog:!1,color:"#000000",lighting:"basic",layers:[new tt({colorA:new Se("#bfabab"),colorB:new Se("#000000"),colorC:new Se("#000000"),colorD:new Se("#030303"),alpha:.25,scale:300,type:"perlin",offset:[0,0,0],mapping:"local",mode:"normal",visible:!0}),new ut({colorA:new Se("#003950"),colorB:new Se("#000000"),alpha:.2,contrast:1.5,start:1,end:-2,axes:"z",mapping:"local",visible:!0})]});return Yt(()=>{}),[t]}class Uu extends Ve{constructor(t){super(),Xe(this,t,Gu,Mu,We,{})}}function Lu(i){let t,a;return t=new le.Points({props:{geometry:i[2],material:i[1]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p:St,i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Pu(i){let t,a;return t=new le.Mesh({props:{material:i[1],$$slots:{default:[Lu]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&128&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Ou(i){let t,a;return t=new le.Group({props:{position:i[0],$$slots:{default:[Pu]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,[n]){const e={};n&1&&(e.position=r[0]),n&128&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Nu(i,t,a){let{position:r}=t;const n=()=>{let l={time:{value:0}},f=[],u=[],d=g=>{g?u.push(Math.random()*Math.PI,Math.random()*Math.PI*20,(Math.random()*.9+.1)*Math.PI*.1,Math.random()*.9+1):u.push(Math.random()*Math.PI,Math.random()*Math.PI*2,(Math.random()*.9+.1)*Math.PI*.1,Math.random()*.9+.1)},b=new Array(0);for(let g=0;g<3e4;g++){let h=50,E=500,I=Math.pow(Math.random(),1.5),y=Math.sqrt(E*E*I+(1-I)*h*h);b.push(new Pe().setFromSphericalCoords(y,Math.random()*2*Math.PI,(Math.random()-.5)*40)),f.push(Math.random()*1.5+.5),d(!1)}let C=new Tr().setFromPoints(b);C.setAttribute("sizes",new Fa(f,1)),C.setAttribute("shift",new Fa(u,4));const m=new Wi({size:.015,fog:!1,transparent:!0,depthTest:!0,blending:cc});return m.onBeforeCompile=g=>{g.uniforms.time=l.time,g.vertexShader=`
      uniform float time;
      attribute float sizes;
      attribute vec4 shift;
      varying vec3 vColor;
      ${g.vertexShader}
    `.replace("gl_PointSize = size;","gl_PointSize = size * sizes;").replace("#include <color_vertex>",`#include <color_vertex>
        float d = length(abs(position) / vec3(40., 10., 40));
        d = clamp(d, 0., 1.);
        vColor = mix(vec3(227., 155., 250.), vec3(255., 255., 255.), d) / 255.;
      `).replace("#include <begin_vertex>",`#include <begin_vertex>
        float t = time;
        float moveT = mod(shift.x + shift.z * t, PI2);
        float moveS = mod(shift.y + shift.z * t, PI2);
        transformed += vec3(cos(moveS) * sin(moveT), cos(moveT), sin(moveS) * sin(moveT)) * shift.w;
      `),g.fragmentShader=`
      varying vec3 vColor;
      ${g.fragmentShader}
    `.replace("#include <clipping_planes_fragment>",`#include <clipping_planes_fragment>
float d = max(abs(gl_PointCoord.x - 0.1), abs(gl_PointCoord.y + 0.2));
        //if (d > 0.5) discard;
      `).replace("vec4 diffuseColor = vec4( diffuse, opacity );","vec4 diffuseColor = vec4( vColor, smoothstep(0.1, 0.1, d)/* * 0.5 + 0.5*/ );")},{material:m,g:C,gu:l}},{material:e,g:o,gu:s}=n();let A=new Ki;A.setSize(innerWidth,innerHeight),document.body.appendChild(A.domElement),window.addEventListener("resize",()=>{A.setSize(innerWidth,innerHeight)});let c=new Hi;return A.setAnimationLoop(()=>{let l=c.getElapsedTime()*1;s.time.value=l*Math.PI}),Tt(()=>{e.dispose()}),i.$$set=l=>{"position"in l&&a(0,r=l.position)},[r,e,o]}class $u extends Ve{constructor(t){super(),Xe(this,t,Nu,Ou,We,{position:0})}}const ju=i=>({}),Bi=i=>({ref:i[0]}),zu=i=>({}),vi=i=>({error:i[8]}),Hu=i=>({}),_i=i=>({});function qu(i){let t;const a=i[5].error,r=yt(a,i,i[7],vi);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&128)&&Qt(r,a,n,n[7],t?xt(a,n[7],e,zu):wt(n[7]),vi)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function Ku(i){let t,a;return t=new le.Group({props:{rotation:[-Math.PI/2,0,0],$$slots:{default:[Ju]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&128&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Yu(i){let t,a,r,n,e,o;return t=new le.Mesh({props:{geometry:i[4].nodes.Plane547_0.geometry,material:i[4].materials["Material.047"]}}),r=new le.Mesh({props:{geometry:i[4].nodes.Plane547_1.geometry,material:i[4].materials["Material.054"]}}),e=new le.Mesh({props:{geometry:i[4].nodes.Plane547_2.geometry,material:i[4].materials["Material.058"]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment)},l(s){X(t.$$.fragment,s),a=ve(s),X(r.$$.fragment,s),n=ve(s),X(e.$$.fragment,s)},m(s,A){Z(t,s,A),me(s,a,A),Z(r,s,A),me(s,n,A),Z(e,s,A),o=!0},p:St,i(s){o||(P(t.$$.fragment,s),P(r.$$.fragment,s),P(e.$$.fragment,s),o=!0)},o(s){O(t.$$.fragment,s),O(r.$$.fragment,s),O(e.$$.fragment,s),o=!1},d(s){s&&(pe(a),pe(n)),ee(t,s),ee(r,s),ee(e,s)}}}function Ju(i){let t,a;return t=new le.Group({props:{scale:.13,$$slots:{default:[Yu]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&128&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Wu(i){let t;const a=i[5].fallback,r=yt(a,i,i[7],_i);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&128)&&Qt(r,a,n,n[7],t?xt(a,n[7],e,Hu):wt(n[7]),_i)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function Vu(i){let t,a,r={ctx:i,current:null,token:null,hasCatch:!0,pending:Wu,then:Ku,catch:qu,value:4,error:8,blocks:[,,,]};ss(i[4],r);const n=i[5].default,e=yt(n,i,i[7],Bi);return{c(){r.block.c(),t=Be(),e&&e.c()},l(o){r.block.l(o),t=ve(o),e&&e.l(o)},m(o,s){r.block.m(o,r.anchor=s),r.mount=()=>t.parentNode,r.anchor=t,me(o,t,s),e&&e.m(o,s),a=!0},p(o,s){i=o,As(r,i,s),e&&e.p&&(!a||s&128)&&Qt(e,n,i,i[7],a?xt(n,i[7],s,ju):wt(i[7]),Bi)},i(o){a||(P(r.block),P(e,o),a=!0)},o(o){for(let s=0;s<3;s+=1){const A=r.blocks[s];O(A)}O(e,o),a=!1},d(o){o&&pe(t),r.block.d(o),r.token=null,r=null,e&&e.d(o)}}}function Xu(i){let t,a;const r=[{is:i[0]},{dispose:!1},i[3]];let n={$$slots:{default:[Vu]},$$scope:{ctx:i}};for(let e=0;e<r.length;e+=1)n=nt(n,r[e]);return t=new le({props:n}),i[6](t),{c(){V(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,o){Z(t,e,o),a=!0},p(e,[o]){const s=o&9?er(r,[o&1&&{is:e[0]},r[1],o&8&&tr(e[3])]):{};o&128&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){i[6](null),ee(t,e)}}}function Zu(i,t,a){const r=["ref"];let n=vt(t,r),e,{$$slots:o={},$$scope:s}=t;const A=new Hn,c=vs("/models/projector/scene.gltf"),l=Gr();ye(i,l,u=>a(1,e=u));function f(u){Kt[u?"unshift":"push"](()=>{e=u,l.set(e)})}return i.$$set=u=>{t=nt(nt({},t),Wn(u)),a(3,n=vt(t,r)),"$$scope"in u&&a(7,s=u.$$scope)},[A,e,l,n,c,o,f,s]}class eg extends Ve{constructor(t){super(),Xe(this,t,Zu,Xu,We,{ref:0})}get ref(){return this.$$.ctx[0]}}function tg(i){let t,a;return t=new le.SphereGeometry({props:{args:[4,64,64]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p:St,i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function yi(i){let t,a,r;function n(o){i[37](o)}let e={$$slots:{default:[fg]},$$scope:{ctx:i}};return i[0]!==void 0&&(e.ref=i[0]),t=new le.Group({props:e}),Kt.push(()=>qa(t,"ref",n)),{c(){V(t.$$.fragment)},l(o){X(t.$$.fragment,o)},m(o,s){Z(t,o,s),r=!0},p(o,s){const A={};s[0]&3902|s[1]&512&&(A.$$scope={dirty:s,ctx:o}),!a&&s[0]&1&&(a=!0,A.ref=o[0],za(()=>a=!1)),t.$set(A)},i(o){r||(P(t.$$.fragment,o),r=!0)},o(o){O(t.$$.fragment,o),r=!1},d(o){ee(t,o)}}}function ng(i){let t,a,r,n;return t=new le.SphereGeometry({props:{args:[4.05,64,64,2.2,1.9,1,1]}}),r=new le.MeshBasicMaterial({props:{map:i[5],transparent:!0,opacity:i[8]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o[0]&32&&(s.map=e[5]),o[0]&256&&(s.opacity=e[8]),r.$set(s)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function rg(i){let t,a;return t=new eg({props:{visible:i[3]&&i[2]=="Sun"}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&12&&(e.visible=r[3]&&r[2]=="Sun"),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function ag(i){let t,a;return t=new le.Group({props:{position:[-2,0,9],"rotation.y":150*nn,$$slots:{default:[rg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&12|n[1]&512&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function og(i){let t,a,r,n;return t=new le.BoxGeometry({props:{args:[.5,.5,.5]}}),r=new le.MeshStandardMaterial({props:{color:i[18]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p:St,i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function ig(i){let t,a;return t=new le.Mesh({props:{scale:i[9],visible:i[3]&&i[2]=="Sun",$$slots:{default:[og]},$$scope:{ctx:i}}}),t.$on("pointerenter",i[28]),t.$on("pointerleave",i[29]),t.$on("click",i[30]),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&512&&(e.scale=r[9]),n[0]&12&&(e.visible=r[3]&&r[2]=="Sun"),n[1]&512&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function sg(i){let t,a,r,n;return t=new le.BoxGeometry({props:{args:[.5,.5,.5]}}),r=new le.MeshStandardMaterial({props:{color:i[19]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p:St,i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Ag(i){let t,a;return t=new le.Mesh({props:{scale:i[10],visible:i[3]&&i[2]=="Sun",$$slots:{default:[sg]},$$scope:{ctx:i}}}),t.$on("pointerenter",i[31]),t.$on("pointerleave",i[32]),t.$on("click",i[33]),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1024&&(e.scale=r[10]),n[0]&12&&(e.visible=r[3]&&r[2]=="Sun"),n[1]&512&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function cg(i){let t,a,r,n;return t=new le.BoxGeometry({props:{args:[.5,.5,.5]}}),r=new le.MeshStandardMaterial({props:{color:i[4]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o[0]&16&&(s.color=e[4]),r.$set(s)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function lg(i){let t,a;return t=new le.Mesh({props:{scale:i[11],visible:i[3]&&i[2]=="Sun",$$slots:{default:[cg]},$$scope:{ctx:i}}}),t.$on("pointerenter",i[34]),t.$on("pointerleave",i[35]),t.$on("click",i[36]),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&2048&&(e.scale=r[11]),n[0]&12&&(e.visible=r[3]&&r[2]=="Sun"),n[0]&16|n[1]&512&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function fg(i){let t,a,r,n,e,o,s,A,c,l;return t=new le.Mesh({props:{"rotation.y":-90*nn,$$slots:{default:[ng]},$$scope:{ctx:i}}}),r=new jn({props:{$$slots:{default:[ag]},$$scope:{ctx:i}}}),e=new jn({props:{position:[0,-2,5],floatingRange:[-5e-4,5e-4],rotationIntensity:1,rotationSpeed:1,floatIntensity:1,speed:1,seed:0,$$slots:{default:[ig]},$$scope:{ctx:i}}}),s=new jn({props:{position:[-1,-2,5],floatingRange:[-5e-4,5e-4],rotationIntensity:1,rotationSpeed:1,floatIntensity:1,speed:1,seed:134,$$slots:{default:[Ag]},$$scope:{ctx:i}}}),c=new jn({props:{position:[1,-2,5],floatingRange:[-5e-4,5e-4],rotationIntensity:1,rotationSpeed:1,floatIntensity:1,speed:1,seed:434,$$slots:{default:[lg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment),o=Be(),V(s.$$.fragment),A=Be(),V(c.$$.fragment)},l(f){X(t.$$.fragment,f),a=ve(f),X(r.$$.fragment,f),n=ve(f),X(e.$$.fragment,f),o=ve(f),X(s.$$.fragment,f),A=ve(f),X(c.$$.fragment,f)},m(f,u){Z(t,f,u),me(f,a,u),Z(r,f,u),me(f,n,u),Z(e,f,u),me(f,o,u),Z(s,f,u),me(f,A,u),Z(c,f,u),l=!0},p(f,u){const d={};u[0]&288|u[1]&512&&(d.$$scope={dirty:u,ctx:f}),t.$set(d);const b={};u[0]&12|u[1]&512&&(b.$$scope={dirty:u,ctx:f}),r.$set(b);const C={};u[0]&526|u[1]&512&&(C.$$scope={dirty:u,ctx:f}),e.$set(C);const m={};u[0]&1038|u[1]&512&&(m.$$scope={dirty:u,ctx:f}),s.$set(m);const g={};u[0]&2078|u[1]&512&&(g.$$scope={dirty:u,ctx:f}),c.$set(g)},i(f){l||(P(t.$$.fragment,f),P(r.$$.fragment,f),P(e.$$.fragment,f),P(s.$$.fragment,f),P(c.$$.fragment,f),l=!0)},o(f){O(t.$$.fragment,f),O(r.$$.fragment,f),O(e.$$.fragment,f),O(s.$$.fragment,f),O(c.$$.fragment,f),l=!1},d(f){f&&(pe(a),pe(n),pe(o),pe(A)),ee(t,f),ee(r,f),ee(e,f),ee(s,f),ee(c,f)}}}function ug(i){let t,a,r,n,e,o;t=new le.Mesh({props:{material:i[6],$$slots:{default:[tg]},$$scope:{ctx:i}}}),t.$on("pointerenter",i[25]),t.$on("pointerleave",i[26]),t.$on("click",i[27]),r=new le.PointLight({props:{intensity:i[7],color:"#ffffff"}});let s=i[3]&&i[2]=="Sun"&&yi(i);return{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),s&&s.c(),e=_t()},l(A){X(t.$$.fragment,A),a=ve(A),X(r.$$.fragment,A),n=ve(A),s&&s.l(A),e=_t()},m(A,c){Z(t,A,c),me(A,a,c),Z(r,A,c),me(A,n,c),s&&s.m(A,c),me(A,e,c),o=!0},p(A,c){const l={};c[0]&64&&(l.material=A[6]),c[1]&512&&(l.$$scope={dirty:c,ctx:A}),t.$set(l);const f={};c[0]&128&&(f.intensity=A[7]),r.$set(f),A[3]&&A[2]=="Sun"?s?(s.p(A,c),c[0]&12&&P(s,1)):(s=yi(A),s.c(),P(s,1),s.m(e.parentNode,e)):s&&(mt(),O(s,1,1,()=>{s=null}),bt())},i(A){o||(P(t.$$.fragment,A),P(r.$$.fragment,A),P(s),o=!0)},o(A){O(t.$$.fragment,A),O(r.$$.fragment,A),O(s),o=!1},d(A){A&&(pe(a),pe(n),pe(e)),ee(t,A),ee(r,A),s&&s.d(A)}}}function gg(i,t,a){let r,n,e,o,s,A,c,l,f,u;ye(i,Jn,$=>a(2,e=$)),ye(i,Zn,$=>a(3,o=$));const{camera:d}=Gt();ye(i,d,$=>a(23,n=$));const b=qt(5,{stiffness:.03,damping:.3});ye(i,b,$=>a(22,r=$));const C=at(0);ye(i,C,$=>a(8,c=$));const m=qt(1);ye(i,m,$=>a(9,l=$));const g=qt(1);ye(i,g,$=>a(11,u=$));const h=qt(1);ye(i,h,$=>a(10,f=$));const E=new Se(.05,.05,.05),I=new Se(.05,.05,.05),y=new Se(.05,.05,.05),v=at(0);ye(i,v,$=>a(7,A=$));const _=qt([0,0,0],{stiffness:.01,damping:.6});ye(i,_,$=>a(24,s=$));let p,Q,w;const D=new Ft({strength:5,scale:.15,type:"perlin",offset:[0,0,0],mode:"normal",visible:!0}),x=new tt({colorA:new Se("#000000"),colorB:new Se("#080808"),colorC:new Se("#606060"),colorD:new Se("#808080"),scale:.5,type:"curl",offset:[0,0,0],mode:"normal",visible:!0,mapping:"local"}),R=new Lr({color:"#ffffff",lighting:"standard",layers:[x,D,new ct({color:new Se("#909090"),alpha:.9,power:2.5,intensity:1.5,bias:0,mode:"normal",visible:!0})]});Fr(()=>{a(1,Q=document.getElementById("zg_video")),a(5,w=new lc(Q))}),Yt(()=>{D.offset[0]+=.02,D.offset[1]+=.02,D.offset[2]+=.02});const T=()=>{o||(b.set(0),v.set(4),_.set([.1,.1,.1]))},j=()=>{o||b.set(4),v.set(0),_.set([0,0,0])},L=()=>{o||(fc(),v.set(0),C.set(1))},K=()=>m.set(1.2),z=()=>m.set(1),N=()=>{Q.paused?Q.play():Q.pause()},q=()=>h.set(1.2),M=()=>h.set(1),Y=()=>{Q.paused?Q.play():Q.pause()},oe=()=>{g.set(1.2),a(4,I.r=1,I)},ae=()=>g.set(1),te=()=>{Q.paused?Q.play():Q.pause()};function se($){p=$,a(0,p)}return i.$$.update=()=>{i.$$.dirty[0]&16777216&&a(6,R.emissive=new Se(s[0],s[1],s[2]),R),i.$$.dirty[0]&8388623&&(o&&e=="Sun"?(b.set(0),Q&&p&&(p.lookAt(new Pe(n.position.x,0,n.position.z)),Q.play())):(b.set(4),C.set(0),Q&&(Q.pause(),a(1,Q.currentTime=0,Q)))),i.$$.dirty[0]&4194304&&(D.strength=r)},[p,Q,e,o,I,w,R,A,c,l,f,u,d,b,C,m,g,h,E,y,v,_,r,n,s,T,j,L,K,z,N,q,M,Y,oe,ae,te,se]}class dg extends Ve{constructor(t){super(),Xe(this,t,gg,ug,We,{},null,[-1,-1])}}const hg=i=>({}),Qi=i=>({ref:i[0]}),pg=i=>({}),wi=i=>({error:i[8]}),mg=i=>({}),xi=i=>({});function bg(i){let t;const a=i[5].error,r=yt(a,i,i[7],wi);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&128)&&Qt(r,a,n,n[7],t?xt(a,n[7],e,pg):wt(n[7]),wi)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function Ig(i){let t,a;return t=new le.Group({props:{scale:.01,$$slots:{default:[vg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&128&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Eg(i){let t,a,r,n;return t=new le.Mesh({props:{geometry:i[4].nodes.Circle024_Material147_0.geometry,material:i[4].materials["Material.147"]}}),r=new le.Mesh({props:{geometry:i[4].nodes.Circle024_Material146_0.geometry,material:i[4].materials["Material.146"]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p:St,i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Cg(i){let t,a,r,n;return t=new le.Mesh({props:{geometry:i[4].nodes.Circle023_Material147_0.geometry,material:i[4].materials["Material.147"]}}),r=new le.Mesh({props:{geometry:i[4].nodes.Circle023_Material146_0.geometry,material:i[4].materials["Material.146"]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p:St,i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Bg(i){let t,a,r,n,e,o,s,A,c,l,f,u,d,b,C,m;return t=new le.Group({props:{position:[-.83,0,.22],scale:.16,$$slots:{default:[Eg]},$$scope:{ctx:i}}}),r=new le.Group({props:{position:[.87,0,.22],scale:.16,$$slots:{default:[Cg]},$$scope:{ctx:i}}}),e=new le.Mesh({props:{geometry:i[4].nodes.Plane015_Material153_0.geometry,material:i[4].materials["Material.153"]}}),s=new le.Mesh({props:{geometry:i[4].nodes.Plane015_Material152_0.geometry,material:i[4].materials["Material.152"]}}),c=new le.Mesh({props:{geometry:i[4].nodes.Plane015_Material149_0.geometry,material:i[4].materials["Material.149"]}}),f=new le.Mesh({props:{geometry:i[4].nodes.Plane015_Material151_0.geometry,material:i[4].materials["Material.151"]}}),d=new le.Mesh({props:{geometry:i[4].nodes.Plane015_Material148_0.geometry,material:i[4].materials["Material.148"]}}),C=new le.Mesh({props:{geometry:i[4].nodes.Plane015_Material150_0.geometry,material:i[4].materials["Material.150"]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment),o=Be(),V(s.$$.fragment),A=Be(),V(c.$$.fragment),l=Be(),V(f.$$.fragment),u=Be(),V(d.$$.fragment),b=Be(),V(C.$$.fragment)},l(g){X(t.$$.fragment,g),a=ve(g),X(r.$$.fragment,g),n=ve(g),X(e.$$.fragment,g),o=ve(g),X(s.$$.fragment,g),A=ve(g),X(c.$$.fragment,g),l=ve(g),X(f.$$.fragment,g),u=ve(g),X(d.$$.fragment,g),b=ve(g),X(C.$$.fragment,g)},m(g,h){Z(t,g,h),me(g,a,h),Z(r,g,h),me(g,n,h),Z(e,g,h),me(g,o,h),Z(s,g,h),me(g,A,h),Z(c,g,h),me(g,l,h),Z(f,g,h),me(g,u,h),Z(d,g,h),me(g,b,h),Z(C,g,h),m=!0},p(g,h){const E={};h&128&&(E.$$scope={dirty:h,ctx:g}),t.$set(E);const I={};h&128&&(I.$$scope={dirty:h,ctx:g}),r.$set(I)},i(g){m||(P(t.$$.fragment,g),P(r.$$.fragment,g),P(e.$$.fragment,g),P(s.$$.fragment,g),P(c.$$.fragment,g),P(f.$$.fragment,g),P(d.$$.fragment,g),P(C.$$.fragment,g),m=!0)},o(g){O(t.$$.fragment,g),O(r.$$.fragment,g),O(e.$$.fragment,g),O(s.$$.fragment,g),O(c.$$.fragment,g),O(f.$$.fragment,g),O(d.$$.fragment,g),O(C.$$.fragment,g),m=!1},d(g){g&&(pe(a),pe(n),pe(o),pe(A),pe(l),pe(u),pe(b)),ee(t,g),ee(r,g),ee(e,g),ee(s,g),ee(c,g),ee(f,g),ee(d,g),ee(C,g)}}}function vg(i){let t,a;return t=new le.Group({props:{rotation:[-Math.PI/2,0,0],scale:100,$$slots:{default:[Bg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&128&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function _g(i){let t;const a=i[5].fallback,r=yt(a,i,i[7],xi);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,e){r&&r.m(n,e),t=!0},p(n,e){r&&r.p&&(!t||e&128)&&Qt(r,a,n,n[7],t?xt(a,n[7],e,mg):wt(n[7]),xi)},i(n){t||(P(r,n),t=!0)},o(n){O(r,n),t=!1},d(n){r&&r.d(n)}}}function yg(i){let t,a,r={ctx:i,current:null,token:null,hasCatch:!0,pending:_g,then:Ig,catch:bg,value:4,error:8,blocks:[,,,]};ss(i[4],r);const n=i[5].default,e=yt(n,i,i[7],Qi);return{c(){r.block.c(),t=Be(),e&&e.c()},l(o){r.block.l(o),t=ve(o),e&&e.l(o)},m(o,s){r.block.m(o,r.anchor=s),r.mount=()=>t.parentNode,r.anchor=t,me(o,t,s),e&&e.m(o,s),a=!0},p(o,s){i=o,As(r,i,s),e&&e.p&&(!a||s&128)&&Qt(e,n,i,i[7],a?xt(n,i[7],s,hg):wt(i[7]),Qi)},i(o){a||(P(r.block),P(e,o),a=!0)},o(o){for(let s=0;s<3;s+=1){const A=r.blocks[s];O(A)}O(e,o),a=!1},d(o){o&&pe(t),r.block.d(o),r.token=null,r=null,e&&e.d(o)}}}function Qg(i){let t,a;const r=[{is:i[0]},{dispose:!1},i[3]];let n={$$slots:{default:[yg]},$$scope:{ctx:i}};for(let e=0;e<r.length;e+=1)n=nt(n,r[e]);return t=new le({props:n}),i[6](t),{c(){V(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,o){Z(t,e,o),a=!0},p(e,[o]){const s=o&9?er(r,[o&1&&{is:e[0]},r[1],o&8&&tr(e[3])]):{};o&128&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){O(t.$$.fragment,e),a=!1},d(e){i[6](null),ee(t,e)}}}function wg(i,t,a){const r=["ref"];let n=vt(t,r),e,{$$slots:o={},$$scope:s}=t;const A=new Hn,c=vs("/models/ferrari/scene.gltf"),l=Gr();ye(i,l,u=>a(1,e=u));function f(u){Kt[u?"unshift":"push"](()=>{e=u,l.set(e)})}return i.$$set=u=>{t=nt(nt({},t),Wn(u)),a(3,n=vt(t,r)),"$$scope"in u&&a(7,s=u.$$scope)},[A,e,l,n,c,o,f,s]}class xg extends Ve{constructor(t){super(),Xe(this,t,wg,Qg,We,{ref:0})}get ref(){return this.$$.ctx[0]}}function Sg(i){let t,a;return t=new tn({props:{text:i[1],curveRadius:100,anchorX:"center",anchorY:"bottom",scale:10,font:"fonts/space.woff",fillOpacity:i[3],ignorePointer:!0}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&2&&(e.text=r[1]),n&8&&(e.fillOpacity=r[3]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Dg(i){let t,a;return t=new tn({props:{text:i[2],anchorX:"center",anchorY:"bottom",scale:6,font:"fonts/space.woff",fillOpacity:i[3],ignorePointer:!0}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&4&&(e.text=r[2]),n&8&&(e.fillOpacity=r[3]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function kg(i){let t,a,r,n;return t=new le.Group({props:{position:[0,i[0]+.8,0],$$slots:{default:[Sg]},$$scope:{ctx:i}}}),r=new le.Group({props:{position:[0,i[0]+.2,0],$$slots:{default:[Dg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o&1&&(s.position=[0,e[0]+.8,0]),o&522&&(s.$$scope={dirty:o,ctx:e}),t.$set(s);const A={};o&1&&(A.position=[0,e[0]+.2,0]),o&524&&(A.$$scope={dirty:o,ctx:e}),r.$set(A)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Fg(i){let t,a,r;function n(o){i[7](o)}let e={rotation:i[6],$$slots:{default:[kg]},$$scope:{ctx:i}};return i[4]!==void 0&&(e.ref=i[4]),t=new le.Group({props:e}),Kt.push(()=>qa(t,"ref",n)),{c(){V(t.$$.fragment)},l(o){X(t.$$.fragment,o)},m(o,s){Z(t,o,s),r=!0},p(o,s){const A={};s&527&&(A.$$scope={dirty:s,ctx:o}),!a&&s&16&&(a=!0,A.ref=o[4],za(()=>a=!1)),t.$set(A)},i(o){r||(P(t.$$.fragment,o),r=!0)},o(o){O(t.$$.fragment,o),r=!1},d(o){ee(t,o)}}}function Tg(i){let t,a;return t=new le.Group({props:{$$slots:{default:[Fg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,[n]){const e={};n&543&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Rg(i,t,a){let r;const{camera:n}=Gt();ye(i,n,u=>a(8,r=u));let{radius:e=1}=t,{text:o=""}=t,{content:s=""}=t,{opacity:A=0}=t,c,l=[0,0,0];Yt(()=>{c?.lookAt(r.position)});function f(u){c=u,a(4,c)}return i.$$set=u=>{"radius"in u&&a(0,e=u.radius),"text"in u&&a(1,o=u.text),"content"in u&&a(2,s=u.content),"opacity"in u&&a(3,A=u.opacity)},[e,o,s,A,c,n,l,f]}class Mg extends Ve{constructor(t){super(),Xe(this,t,Rg,Tg,We,{radius:0,text:1,content:2,opacity:3})}}const Gg=Ic("goto");function Si(i){let t,a,r;return t=new le.Group({props:{position:i[0],$$slots:{default:[Lg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment),a=Js("} />")},l(n){X(t.$$.fragment,n),a=Ws(n,"} />")},m(n,e){Z(t,n,e),me(n,a,e),r=!0},p(n,e){const o={};e&1&&(o.position=n[0]),e&262238&&(o.$$scope={dirty:e,ctx:n}),t.$set(o)},i(n){r||(P(t.$$.fragment,n),r=!0)},o(n){O(t.$$.fragment,n),r=!1},d(n){n&&pe(a),ee(t,n)}}}function Ug(i){let t,a,r,n;return t=new le.PlaneGeometry({props:{args:[Us,i[9]]}}),r=new le.MeshBasicMaterial({props:{color:"#303030",opacity:i[6],transparent:!0}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o&64&&(s.opacity=e[6]),r.$set(s)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Lg(i){let t,a,r,n,e,o,s,A,c;return t=new tn({props:{scale:1,position:[-.9,i[9]/2-.1,0],text:i[1],fillOpacity:i[4],anchorY:"top",font:"/fonts/space.woff",color:"#FA5244"}}),r=new tn({props:{scale:.8,position:[-.9,i[9]/2-.3,0],text:i[2],overflowWrap:"break-word",fillOpacity:i[4],maxWidth:Us}}),e=new le.Mesh({props:{position:[0,0,-.01],$$slots:{default:[Ug]},$$scope:{ctx:i}}}),s=new tn({props:{scale:.8,position:[-.9,-i[9]/2+.3,.02],text:" Check them out",fillOpacity:i[4],anchorY:"top",font:"/fonts/space.woff"}}),s.$on("click",i[13]),s.$on("pointerenter",i[14]),s.$on("pointerleave",i[15]),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment),o=Be(),V(s.$$.fragment),A=Be()},l(l){X(t.$$.fragment,l),a=ve(l),X(r.$$.fragment,l),n=ve(l),X(e.$$.fragment,l),o=ve(l),X(s.$$.fragment,l),A=ve(l)},m(l,f){Z(t,l,f),me(l,a,f),Z(r,l,f),me(l,n,f),Z(e,l,f),me(l,o,f),Z(s,l,f),me(l,A,f),c=!0},p(l,f){const u={};f&2&&(u.text=l[1]),f&16&&(u.fillOpacity=l[4]),t.$set(u);const d={};f&4&&(d.text=l[2]),f&16&&(d.fillOpacity=l[4]),r.$set(d);const b={};f&262208&&(b.$$scope={dirty:f,ctx:l}),e.$set(b);const C={};f&16&&(C.fillOpacity=l[4]),s.$set(C)},i(l){c||(P(t.$$.fragment,l),P(r.$$.fragment,l),P(e.$$.fragment,l),P(s.$$.fragment,l),c=!0)},o(l){O(t.$$.fragment,l),O(r.$$.fragment,l),O(e.$$.fragment,l),O(s.$$.fragment,l),c=!1},d(l){l&&(pe(a),pe(n),pe(o),pe(A)),ee(t,l),ee(r,l),ee(e,l),ee(s,l)}}}function Pg(i){let t,a,r=i[5]&&Si(i);return{c(){r&&r.c(),t=_t()},l(n){r&&r.l(n),t=_t()},m(n,e){r&&r.m(n,e),me(n,t,e),a=!0},p(n,[e]){n[5]?r?(r.p(n,e),e&32&&P(r,1)):(r=Si(n),r.c(),P(r,1),r.m(t.parentNode,t)):r&&(mt(),O(r,1,1,()=>{r=null}),bt())},i(n){a||(P(r),a=!0)},o(n){O(r),a=!1},d(n){n&&pe(t),r&&r.d(n)}}}const Us=2;function Og(i,t,a){let r,n,e,o;ye(i,Zn,y=>a(11,n=y)),ye(i,Jn,y=>a(12,e=y));let{position:s}=t,{planet:A}=t,{title:c}=t,{text:l}=t,{url:f}=t;const u=at(0,{duration:1400,delay:150});ye(i,u,y=>a(4,r=y));const d=at(0,{duration:200,delay:0});ye(i,d,y=>a(6,o=y));let b=!1;const m=l.length/55/8+.8,g=(y,v,_)=>{setTimeout(()=>{u.set(y),d.set(v)},_)},h=()=>Gg(f),E=()=>{document.body.style.cursor="pointer"},I=()=>{document.body.style.cursor="default"};return i.$$set=y=>{"position"in y&&a(0,s=y.position),"planet"in y&&a(10,A=y.planet),"title"in y&&a(1,c=y.title),"text"in y&&a(2,l=y.text),"url"in y&&a(3,f=y.url)},i.$$.update=()=>{i.$$.dirty&7168&&(n&&e==A&&(a(5,b=!0),g(1,.5,1e3)),n||g(0,0,0)),i.$$.dirty&16&&r==0&&a(5,b=!1)},[s,c,l,f,r,b,o,u,d,m,A,n,e,h,E,I]}class ro extends Ve{constructor(t){super(),Xe(this,t,Og,Pg,We,{position:0,planet:10,title:1,text:2,url:3})}}function Di(i){let t,a;return t=new le.Mesh({props:{position:[1,2.4,12],geometry:i[0],material:i[1],scale:20.5}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&1&&(e.geometry=r[0]),n&2&&(e.material=r[1]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Ng(i){let t,a,r,n=i[0]&&i[1]&&Di(i);return a=new le.SphereGeometry({props:{args:[12,64,64]}}),{c(){n&&n.c(),t=Be(),V(a.$$.fragment)},l(e){n&&n.l(e),t=ve(e),X(a.$$.fragment,e)},m(e,o){n&&n.m(e,o),me(e,t,o),Z(a,e,o),r=!0},p(e,o){e[0]&&e[1]?n?(n.p(e,o),o&3&&P(n,1)):(n=Di(e),n.c(),P(n,1),n.m(t.parentNode,t)):n&&(mt(),O(n,1,1,()=>{n=null}),bt())},i(e){r||(P(n),P(a.$$.fragment,e),r=!0)},o(e){O(n),O(a.$$.fragment,e),r=!1},d(e){e&&pe(t),n&&n.d(e),ee(a,e)}}}function $g(i){let t,a;return t=new le.Mesh({props:{material:i[2],position:i[3],scale:.05,$$slots:{default:[Ng]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,[n]){const e={};n&4&&(e.material=r[2]),n&8&&(e.position=r[3]),n&524291&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function jg(i,t,a){let r,n,e,o,s;ye(i,Zn,v=>a(14,r=v)),ye(i,Jn,v=>a(15,n=v));let{index:A}=t,{position:c}=t,{parent:l}=t,{title:f}=t,{color:u}=t,{logoOpacity:d}=t,{logoUrl:b}=t;const C=new Se(u),m=qt([0,0,0],{stiffness:.01,damping:.6});ye(i,m,v=>a(16,e=v));let g=at(c,{duration:1500});ye(i,g,v=>a(3,s=v));let h,E;const I=_s(`/logos/moons/${b}.png`);ye(i,I,v=>a(17,o=v));const y=new Lr({color:"#000000",lighting:"standard",layers:[new ct({color:new Se(u),alpha:.4,power:1.55,intensity:1.1,bias:0,mode:"screen",visible:!0})]});return i.$$set=v=>{"index"in v&&a(7,A=v.index),"position"in v&&a(8,c=v.position),"parent"in v&&a(9,l=v.parent),"title"in v&&a(10,f=v.title),"color"in v&&a(11,u=v.color),"logoOpacity"in v&&a(12,d=v.logoOpacity),"logoUrl"in v&&a(13,b=v.logoUrl)},i.$$.update=()=>{i.$$.dirty&135168&&o&&(a(0,h=as(o.image)),a(1,E=new Vn({map:o,transparent:!0,opacity:d}))),i.$$.dirty&65536&&a(2,y.emissive=new Se(e[0],e[1],e[2]),y),i.$$.dirty&50048&&(r&&n==l&&(g.set(os[A]),m.set(C.toArray())),r||(g.set(c),m.set([0,0,0])))},[h,E,y,s,m,g,I,A,c,l,f,u,d,b,r,n,e,o]}class zg extends Ve{constructor(t){super(),Xe(this,t,jg,$g,We,{index:7,position:8,parent:9,title:10,color:11,logoOpacity:12,logoUrl:13})}}function Hg(i){let t,a;return t=new tn({props:{text:i[1],anchorX:"center",anchorY:"bottom",scale:5,font:"fonts/space.woff",fillOpacity:i[2],ignorePointer:!0}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&2&&(e.text=r[1]),n&4&&(e.fillOpacity=r[2]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function qg(i){let t,a;return t=new le.Group({props:{position:[0,i[0],0],$$slots:{default:[Hg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&1&&(e.position=[0,r[0],0]),n&518&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Kg(i){let t,a,r;function n(o){i[7](o)}let e={rotation:i[6],$$slots:{default:[qg]},$$scope:{ctx:i}};return i[4]!==void 0&&(e.ref=i[4]),t=new le.Group({props:e}),Kt.push(()=>qa(t,"ref",n)),{c(){V(t.$$.fragment)},l(o){X(t.$$.fragment,o)},m(o,s){Z(t,o,s),r=!0},p(o,s){const A={};s&519&&(A.$$scope={dirty:s,ctx:o}),!a&&s&16&&(a=!0,A.ref=o[4],za(()=>a=!1)),t.$set(A)},i(o){r||(P(t.$$.fragment,o),r=!0)},o(o){O(t.$$.fragment,o),r=!1},d(o){ee(t,o)}}}function Yg(i){let t,a;return t=new le.Group({props:{position:i[3],$$slots:{default:[Kg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,[n]){const e={};n&8&&(e.position=r[3]),n&535&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Jg(i,t,a){let r;const{camera:n}=Gt();ye(i,n,u=>a(8,r=u));let{radius:e=1}=t,{text:o=""}=t,{opacity:s=0}=t,{position:A}=t,c,l=[0,0,0];Yt(()=>{c?.lookAt(r.position)});function f(u){c=u,a(4,c)}return i.$$set=u=>{"radius"in u&&a(0,e=u.radius),"text"in u&&a(1,o=u.text),"opacity"in u&&a(2,s=u.opacity),"position"in u&&a(3,A=u.position)},[e,o,s,A,c,n,l,f]}class Wg extends Ve{constructor(t){super(),Xe(this,t,Jg,Yg,We,{radius:0,text:1,opacity:2,position:3})}}function ki(i,t,a){const r=i.slice();return r[27]=t[a],r[29]=a,r}function Fi(i,t,a){const r=i.slice();return r[27]=t[a],r[29]=a,r}function Ti(i){let t,a;return t=new tn({props:{text:i[0].title,anchorX:"center",scale:12,position:[0,3,-3],fillOpacity:i[3],font:"fonts/space.woff"}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1&&(e.text=r[0].title),n[0]&8&&(e.fillOpacity=r[3]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Ri(i){let t,a;return t=new le.Mesh({props:{position:[1,.4,2],geometry:i[4],material:i[5],scale:.5}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&16&&(e.geometry=r[4]),n[0]&32&&(e.material=r[5]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Vg(i){let t,a,r,n;return t=new le.PointLight({props:{intensity:i[10],color:i[14]}}),r=new le.SphereGeometry({props:{args:[1,64,64]}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o[0]&1024&&(s.intensity=e[10]),t.$set(s)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Xg(i){let t,a;return t=new le.SphereGeometry({props:{args:[1,16,16]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p:St,i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Mi(i){let t,a,r,n;return t=new Wg({props:{position:i[19][i[29]],opacity:i[9],text:i[27].title}}),r=new zg({props:{position:i[19][i[29]],index:i[29],parent:i[0].title,color:i[0].color,title:i[27].title,logoOpacity:i[3],logoUrl:i[27].logoUrl}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o[0]&512&&(s.opacity=e[9]),o[0]&1&&(s.text=e[27].title),t.$set(s);const A={};o[0]&1&&(A.parent=e[0].title),o[0]&1&&(A.color=e[0].color),o[0]&1&&(A.title=e[27].title),o[0]&8&&(A.logoOpacity=e[3]),o[0]&1&&(A.logoUrl=e[27].logoUrl),r.$set(A)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function Zg(i){let t,a,r=In(i[0].moons),n=[];for(let o=0;o<r.length;o+=1)n[o]=Mi(Fi(i,r,o));const e=o=>O(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=_t()},l(o){for(let s=0;s<n.length;s+=1)n[s].l(o);t=_t()},m(o,s){for(let A=0;A<n.length;A+=1)n[A]&&n[A].m(o,s);me(o,t,s),a=!0},p(o,s){if(s[0]&524809){r=In(o[0].moons);let A;for(A=0;A<r.length;A+=1){const c=Fi(o,r,A);n[A]?(n[A].p(c,s),P(n[A],1)):(n[A]=Mi(c),n[A].c(),P(n[A],1),n[A].m(t.parentNode,t))}for(mt(),A=r.length;A<n.length;A+=1)e(A);bt()}},i(o){if(!a){for(let s=0;s<r.length;s+=1)P(n[s]);a=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)O(n[s]);a=!1},d(o){o&&pe(t),Ha(n,o)}}}function ed(i){let t,a,r,n,e,o,s,A;return t=new Mg({props:{radius:i[8],text:i[0].title,content:i[0].subTitle,opacity:i[9]}}),r=new le.Mesh({props:{material:i[6],scale:i[8],$$slots:{default:[Vg]},$$scope:{ctx:i}}}),e=new le.Mesh({props:{scale:i[8]-.1,$$slots:{default:[Xg]},$$scope:{ctx:i}}}),e.$on("click",i[24]),e.$on("pointerenter",i[25]),e.$on("pointerleave",i[26]),s=new le.Group({props:{"rotation.y":i[7],$$slots:{default:[Zg]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment),o=Be(),V(s.$$.fragment)},l(c){X(t.$$.fragment,c),a=ve(c),X(r.$$.fragment,c),n=ve(c),X(e.$$.fragment,c),o=ve(c),X(s.$$.fragment,c)},m(c,l){Z(t,c,l),me(c,a,l),Z(r,c,l),me(c,n,l),Z(e,c,l),me(c,o,l),Z(s,c,l),A=!0},p(c,l){const f={};l[0]&256&&(f.radius=c[8]),l[0]&1&&(f.text=c[0].title),l[0]&1&&(f.content=c[0].subTitle),l[0]&512&&(f.opacity=c[9]),t.$set(f);const u={};l[0]&64&&(u.material=c[6]),l[0]&256&&(u.scale=c[8]),l[0]&1024|l[1]&1&&(u.$$scope={dirty:l,ctx:c}),r.$set(u);const d={};l[0]&256&&(d.scale=c[8]-.1),l[1]&1&&(d.$$scope={dirty:l,ctx:c}),e.$set(d);const b={};l[0]&128&&(b["rotation.y"]=c[7]),l[0]&521|l[1]&1&&(b.$$scope={dirty:l,ctx:c}),s.$set(b)},i(c){A||(P(t.$$.fragment,c),P(r.$$.fragment,c),P(e.$$.fragment,c),P(s.$$.fragment,c),A=!0)},o(c){O(t.$$.fragment,c),O(r.$$.fragment,c),O(e.$$.fragment,c),O(s.$$.fragment,c),A=!1},d(c){c&&(pe(a),pe(n),pe(o)),ee(t,c),ee(r,c),ee(e,c),ee(s,c)}}}function td(i){let t,a;return t=new ro({props:{position:[-.6,-.2,0],planet:i[0].title,title:i[27].title,text:i[27].content,url:i[27].url}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1&&(e.planet=r[0].title),n[0]&1&&(e.title=r[27].title),n[0]&1&&(e.text=r[27].content),n[0]&1&&(e.url=r[27].url),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function nd(i){let t,a;return t=new ro({props:{position:[4.5,-.2,0],planet:i[0].title,title:i[27].title,text:i[27].content,url:i[27].url}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1&&(e.planet=r[0].title),n[0]&1&&(e.title=r[27].title),n[0]&1&&(e.text=r[27].content),n[0]&1&&(e.url=r[27].url),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function rd(i){let t,a,r,n;const e=[nd,td],o=[];function s(A,c){return A[29]&1?1:0}return t=s(i),a=o[t]=e[t](i),{c(){a.c(),r=Be()},l(A){a.l(A),r=ve(A)},m(A,c){o[t].m(A,c),me(A,r,c),n=!0},p(A,c){a.p(A,c)},i(A){n||(P(a),n=!0)},o(A){O(a),n=!1},d(A){A&&pe(r),o[t].d(A)}}}function Gi(i){let t,a;return t=new le.Group({props:{position:os[i[29]],$$slots:{default:[rd]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1|n[1]&1&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function ad(i){let t,a,r,n,e,o,s,A,c=i[3]>0&&Ti(i),l=i[4]&&i[5]&&Ri(i);r=new le.Group({props:{position:[2,-.2,0],$$slots:{default:[ed]},$$scope:{ctx:i}}}),e=new ro({props:{position:[-1,.3,1],planet:i[0].title,title:i[0].title,text:i[0].content,url:i[0].url}});let f=In(i[0].moons),u=[];for(let b=0;b<f.length;b+=1)u[b]=Gi(ki(i,f,b));const d=b=>O(u[b],1,1,()=>{u[b]=null});return{c(){c&&c.c(),t=Be(),l&&l.c(),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment),o=Be();for(let b=0;b<u.length;b+=1)u[b].c();s=_t()},l(b){c&&c.l(b),t=ve(b),l&&l.l(b),a=ve(b),X(r.$$.fragment,b),n=ve(b),X(e.$$.fragment,b),o=ve(b);for(let C=0;C<u.length;C+=1)u[C].l(b);s=_t()},m(b,C){c&&c.m(b,C),me(b,t,C),l&&l.m(b,C),me(b,a,C),Z(r,b,C),me(b,n,C),Z(e,b,C),me(b,o,C);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(b,C);me(b,s,C),A=!0},p(b,C){b[3]>0?c?(c.p(b,C),C[0]&8&&P(c,1)):(c=Ti(b),c.c(),P(c,1),c.m(t.parentNode,t)):c&&(mt(),O(c,1,1,()=>{c=null}),bt()),b[4]&&b[5]?l?(l.p(b,C),C[0]&48&&P(l,1)):(l=Ri(b),l.c(),P(l,1),l.m(a.parentNode,a)):l&&(mt(),O(l,1,1,()=>{l=null}),bt());const m={};C[0]&1999|C[1]&1&&(m.$$scope={dirty:C,ctx:b}),r.$set(m);const g={};if(C[0]&1&&(g.planet=b[0].title),C[0]&1&&(g.title=b[0].title),C[0]&1&&(g.text=b[0].content),C[0]&1&&(g.url=b[0].url),e.$set(g),C[0]&1){f=In(b[0].moons);let h;for(h=0;h<f.length;h+=1){const E=ki(b,f,h);u[h]?(u[h].p(E,C),P(u[h],1)):(u[h]=Gi(E),u[h].c(),P(u[h],1),u[h].m(s.parentNode,s))}for(mt(),h=f.length;h<u.length;h+=1)d(h);bt()}},i(b){if(!A){P(c),P(l),P(r.$$.fragment,b),P(e.$$.fragment,b);for(let C=0;C<f.length;C+=1)P(u[C]);A=!0}},o(b){O(c),O(l),O(r.$$.fragment,b),O(e.$$.fragment,b),u=u.filter(Boolean);for(let C=0;C<u.length;C+=1)O(u[C]);A=!1},d(b){b&&(pe(t),pe(a),pe(n),pe(o),pe(s)),c&&c.d(b),l&&l.d(b),ee(r,b),ee(e,b),Ha(u,b)}}}function od(i){let t,a;return t=new le.Group({props:{position:i[1],"rotation.y":Math.atan2(i[1][0],i[1][2]),$$slots:{default:[ad]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&2&&(e.position=r[1]),n[0]&2&&(e["rotation.y"]=Math.atan2(r[1][0],r[1][2])),n[0]&2047|n[1]&1&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function id(i,t,a){let r,n,e,o,s,A,c,l,f;ye(i,Zn,T=>a(2,n=T)),ye(i,Jn,T=>a(21,e=T));let{planet:u}=t,{position:d}=t;const b=qt(u.size,{stiffness:.03,damping:.5});ye(i,b,T=>a(8,c=T));const C=qt([0,0,0],{stiffness:.01,damping:.6});ye(i,C,T=>a(22,o=T));const m=new Se(u.color),g=uc(u.color,100),h=at(0,{duration:1e3});ye(i,h,T=>a(10,f=T));const E=at(0,{delay:500,duration:200});ye(i,E,T=>a(3,s=T));const I=at(0,{duration:100});ye(i,I,T=>a(9,l=T));const y=at(0,{duration:3e3});ye(i,y,T=>a(7,r=T));const v=is({n:u.moons.length,radius:u.size+2.2,yMin:-1,yMax:1});let _,p;const Q=_s(`/logos/planets/${u.logoUrl}.png`);ye(i,Q,T=>a(23,A=T));const w=new Lr({color:"#000000",lighting:"standard",layers:[new ct({color:new Se(g),alpha:.4,power:1.55,intensity:1.1,bias:0,mode:"screen",visible:!0})]});Yt(()=>{n||dn(y,r+=.2,r)});const D=()=>{Jn.set(u.title),gc(d,u.moons.length),y.set(r-r%(2*Math.PI))},x=()=>{n||(I.set(1),h.set(5),C.set(m.toArray()),dn(b,c=u.size+1,c))},R=()=>{n||(I.set(0),h.set(0),C.set([0,0,0]),dn(b,c=u.size,c))};return i.$$set=T=>{"planet"in T&&a(0,u=T.planet),"position"in T&&a(1,d=T.position)},i.$$.update=()=>{i.$$.dirty[0]&8388616&&A&&(a(4,_=as(A.image)),a(5,p=new Vn({map:A,transparent:!0,opacity:s}))),i.$$.dirty[0]&4194304&&a(6,w.emissive=new Se(o[0],o[1],o[2]),w),i.$$.dirty[0]&2097157&&(n&&e==u.title?(h.set(0),E.set(1),I.set(0),b.set(1.75)):(E.set(0),b.set(u.size))),i.$$.dirty[0]&4&&(n||C.set([0,0,0]))},[u,d,n,s,_,p,w,r,c,l,f,b,C,m,g,h,E,I,y,v,Q,e,o,A,D,x,R]}class sd extends Ve{constructor(t){super(),Xe(this,t,id,od,We,{planet:0,position:1},null,[-1,-1])}}function Ui(i,t,a){const r=i.slice();return r[31]=t[a],r[33]=a,r}function Ad(i){let t,a;return t=new ys({props:{maxPolarAngle:160*nn,minPolarAngle:30*nn,enableDamping:!0,enableRotate:!i[10],enablePan:!1,enableZoom:!1,autoRotate:!0,autoRotateSpeed:.15,target:i[7]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1024&&(e.enableRotate=!r[10]),n[0]&128&&(e.target=r[7]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function cd(i){let t,a;return t=new ys({props:{enableRotate:!1,enablePan:!1,enableZoom:!1,target:i[7],enableDamping:!0}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&128&&(e.target=r[7]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function ld(i){let t,a,r,n;const e=[cd,Ad],o=[];function s(A,c){return A[3]?0:1}return t=s(i),a=o[t]=e[t](i),{c(){a.c(),r=_t()},l(A){a.l(A),r=_t()},m(A,c){o[t].m(A,c),me(A,r,c),n=!0},p(A,c){let l=t;t=s(A),t===l?o[t].p(A,c):(mt(),O(o[l],1,1,()=>{o[l]=null}),bt(),a=o[t],a?a.p(A,c):(a=o[t]=e[t](A),a.c()),P(a,1),a.m(r.parentNode,r))},i(A){n||(P(a),n=!0)},o(A){O(a),n=!1},d(A){A&&pe(r),o[t].d(A)}}}function Li(i){let t,a;return t=new sd({props:{planet:i[31],position:i[12][i[33]]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[0]&1&&(e.planet=r[31]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function fd(i){let t,a,r,n;return t=new le.BoxGeometry({props:{args:[2.4,.7,1.3]}}),r=new le.MeshBasicMaterial({props:{transparent:!0,opacity:0}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p:St,i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function ud(i){let t,a,r,n;return t=new xg({props:{scale:.7}}),r=new le.Mesh({props:{"position.y":.4,$$slots:{default:[fd]},$$scope:{ctx:i}}}),r.$on("click",i[23]),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment)},l(e){X(t.$$.fragment,e),a=ve(e),X(r.$$.fragment,e)},m(e,o){Z(t,e,o),me(e,a,o),Z(r,e,o),n=!0},p(e,o){const s={};o[1]&8&&(s.$$scope={dirty:o,ctx:e}),r.$set(s)},i(e){n||(P(t.$$.fragment,e),P(r.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),O(r.$$.fragment,e),n=!1},d(e){e&&pe(a),ee(t,e),ee(r,e)}}}function gd(i){let t,a;return t=new le.Group({props:{$$slots:{default:[ud]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[1]&8&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function dd(i){let t,a;return t=new jn({props:{speed:3,floatIntensity:3,rotationIntensity:1,rotationSpeed:1,$$slots:{default:[gd]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[1]&8&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function hd(i){let t,a;return t=new le.Group({props:{"position.x":10,"rotation.y":90*nn,$$slots:{default:[dd]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n[1]&8&&(e.$$scope={dirty:n,ctx:r}),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function pd(i){let t,a,r,n,e,o,s,A,c,l,f,u,d,b,C,m,g,h,E;Vs(i[21]),t=new le.PerspectiveCamera({props:{position:i[8],makeDefault:!0,fov:i[4],$$slots:{default:[ld]},$$scope:{ctx:i}}}),r=new le.AmbientLight({props:{intensity:.3}}),e=new le.DirectionalLight({props:{castShadow:!0,position:[-8,8,8]}}),s=new le.Fog({props:{color:0,near:i[11].near,far:i[11].far}}),s.$on("create",i[22]),c=new Uu({}),f=new $u({props:{position:[0,0,0]}}),d=new dg({});let I=In(i[0].planets),y=[];for(let _=0;_<I.length;_+=1)y[_]=Li(Ui(i,I,_));const v=_=>O(y[_],1,1,()=>{y[_]=null});return m=new le.Group({props:{"rotation.y":i[5],"rotation.x":-i[9]*2,$$slots:{default:[hd]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment),a=Be(),V(r.$$.fragment),n=Be(),V(e.$$.fragment),o=Be(),V(s.$$.fragment),A=Be(),V(c.$$.fragment),l=Be(),V(f.$$.fragment),u=Be(),V(d.$$.fragment),b=Be();for(let _=0;_<y.length;_+=1)y[_].c();C=Be(),V(m.$$.fragment)},l(_){X(t.$$.fragment,_),a=ve(_),X(r.$$.fragment,_),n=ve(_),X(e.$$.fragment,_),o=ve(_),X(s.$$.fragment,_),A=ve(_),X(c.$$.fragment,_),l=ve(_),X(f.$$.fragment,_),u=ve(_),X(d.$$.fragment,_),b=ve(_);for(let p=0;p<y.length;p+=1)y[p].l(_);C=ve(_),X(m.$$.fragment,_)},m(_,p){Z(t,_,p),me(_,a,p),Z(r,_,p),me(_,n,p),Z(e,_,p),me(_,o,p),Z(s,_,p),me(_,A,p),Z(c,_,p),me(_,l,p),Z(f,_,p),me(_,u,p),Z(d,_,p),me(_,b,p);for(let Q=0;Q<y.length;Q+=1)y[Q]&&y[Q].m(_,p);me(_,C,p),Z(m,_,p),g=!0,h||(E=Xs(window,"resize",i[21]),h=!0)},p(_,p){const Q={};p[0]&256&&(Q.position=_[8]),p[0]&16&&(Q.fov=_[4]),p[0]&1160|p[1]&8&&(Q.$$scope={dirty:p,ctx:_}),t.$set(Q);const w={};if(p[0]&2048&&(w.near=_[11].near),p[0]&2048&&(w.far=_[11].far),s.$set(w),p[0]&4097){I=In(_[0].planets);let x;for(x=0;x<I.length;x+=1){const R=Ui(_,I,x);y[x]?(y[x].p(R,p),P(y[x],1)):(y[x]=Li(R),y[x].c(),P(y[x],1),y[x].m(C.parentNode,C))}for(mt(),x=I.length;x<y.length;x+=1)v(x);bt()}const D={};p[0]&32&&(D["rotation.y"]=_[5]),p[0]&512&&(D["rotation.x"]=-_[9]*2),p[1]&8&&(D.$$scope={dirty:p,ctx:_}),m.$set(D)},i(_){if(!g){P(t.$$.fragment,_),P(r.$$.fragment,_),P(e.$$.fragment,_),P(s.$$.fragment,_),P(c.$$.fragment,_),P(f.$$.fragment,_),P(d.$$.fragment,_);for(let p=0;p<I.length;p+=1)P(y[p]);P(m.$$.fragment,_),g=!0}},o(_){O(t.$$.fragment,_),O(r.$$.fragment,_),O(e.$$.fragment,_),O(s.$$.fragment,_),O(c.$$.fragment,_),O(f.$$.fragment,_),O(d.$$.fragment,_),y=y.filter(Boolean);for(let p=0;p<y.length;p+=1)O(y[p]);O(m.$$.fragment,_),g=!1},d(_){_&&(pe(a),pe(n),pe(o),pe(A),pe(l),pe(u),pe(b),pe(C)),ee(t,_),ee(r,_),ee(e,_),ee(s,_),ee(c,_),ee(f,_),ee(d,_),Ha(y,_),ee(m,_),h=!1,E()}}}function md(i,t,a){let r,n,e,o,s,A,c,l,f,u,d,b,C;ye(i,dc,z=>a(25,r=z)),ye(i,hc,z=>a(26,n=z)),ye(i,ko,z=>a(7,e=z)),ye(i,Fo,z=>a(8,o=z)),ye(i,pc,z=>a(27,s=z)),ye(i,Zn,z=>a(3,f=z)),ye(i,mc,z=>a(10,b=z)),Of({filter:z=>z.slice(0,1)});let{system:m}=t,g,h,E,I,y=44;const v=is({n:m.planets.length,radius:20,yMin:-5,yMax:5}),_=at(0,{duration:3e3});ye(i,_,z=>a(30,l=z));const p=at(0,{duration:3e3});ye(i,p,z=>a(29,c=z));const Q=at(0,{duration:3e3});ye(i,Q,z=>a(28,A=z));let w=0;const D=at(.001,{duration:3e3});ye(i,D,z=>a(9,u=z));const x=at({near:35,far:75},{duration:1200});ye(i,x,z=>a(11,C=z));const{camera:R,scene:T}=Gt();ye(i,R,z=>a(20,d=z)),Yt(()=>{a(5,w-=u),f||(dn(_,l+=.2,l),dn(p,c+=.1,c),dn(Q,A+=.04,A))}),Fr(()=>{g=document.getElementsByTagName("canvas")[0],g.addEventListener("wheel",z=>{if(s){const N=[o[0],o[1]+-z.deltaY/200,o[2]],q=[e[0],e[1]+-z.deltaY/200,e[2]];if(N[1]>=n||N[1]<=r)return;Fo.set(N,{duration:100}),ko.set(q,{duration:100})}})});function j(){a(1,h=window.innerHeight),a(2,E=window.innerWidth)}const L=({ref:z,cleanup:N})=>{a(6,T.fog=z,T),N(()=>a(6,T.fog=null,T))},K=()=>{D.set(.2),setTimeout(()=>{D.set(.001)},1e4)};return i.$$set=z=>{"system"in z&&a(0,m=z.system)},i.$$.update=()=>{i.$$.dirty[0]&1048576&&bc.set(d),i.$$.dirty[0]&8&&(f&&x.set({near:10,far:15}),f||x.set({near:15,far:205})),i.$$.dirty[0]&524294&&(a(19,I=h/E),a(4,y=44*1.5*I))},[m,h,E,f,y,w,T,e,o,u,b,C,v,_,p,Q,D,x,R,I,d,j,L,K]}class bd extends Ve{constructor(t){super(),Xe(this,t,md,pd,We,{system:0},null,[-1,-1])}}function Id(i){let t,a;return t=new bd({props:{system:i[0]}}),{c(){V(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){Z(t,r,n),a=!0},p(r,n){const e={};n&1&&(e.system=r[0]),t.$set(e)},i(r){a||(P(t.$$.fragment,r),a=!0)},o(r){O(t.$$.fragment,r),a=!1},d(r){ee(t,r)}}}function Ed(i){let t,a,r;return a=new Lc({props:{$$slots:{default:[Id]},$$scope:{ctx:i}}}),{c(){t=Oi("div"),V(a.$$.fragment),this.h()},l(n){t=Ni(n,"DIV",{class:!0});var e=$i(t);X(a.$$.fragment,e),e.forEach(pe),this.h()},h(){ji(t,"class","w-full h-full fixed")},m(n,e){me(n,t,e),Z(a,t,null),r=!0},p(n,[e]){const o={};e&3&&(o.$$scope={dirty:e,ctx:n}),a.$set(o)},i(n){r||(P(a.$$.fragment,n),r=!0)},o(n){O(a.$$.fragment,n),r=!1},d(n){n&&pe(t),ee(a)}}}function Cd(i,t,a){let{system:r}=t;return i.$$set=n=>{"system"in n&&a(0,r=n.system)},[r]}class Sd extends Ve{constructor(t){super(),Xe(this,t,Cd,Ed,We,{system:0})}}export{Sd as default};
